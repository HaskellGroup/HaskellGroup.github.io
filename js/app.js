function mergeRecursive(t,e){"use strict";for(var n in e)try{t[n]=e[n].constructor===Object?mergeRecursive(t[n],e[n]):e[n]}catch(r){t[n]=e[n]}return t}function arrayEquals(t,e){"use strict";if(!e||!t)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!arrayEquals(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}if(function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=it.type(t);return"function"!==n&&!it.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e,n){if(it.isFunction(e))return it.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return it.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(gt.test(e))return it.filter(e,t,n);e=it.filter(e,t)}return it.grep(t,function(t){return Z.call(e,t)>-1!==n})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function i(t){var e={};return it.each(t.match(bt)||[],function(t,n){e[n]=!0}),e}function a(){Q.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a),it.ready()}function s(){this.expando=it.expando+s.uid++}function l(t,e,n){var r;if(n===undefined&&1===t.nodeType)if(r="data-"+e.replace(St,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Et.test(n)?it.parseJSON(n):n)}catch(t){}Tt.set(t,e,n)}else n=undefined;return n}function u(t,e,n,r){var o,i=1,a=20,s=r?function(){return r.cur()}:function(){return it.css(t,e,"")},l=s(),u=n&&n[3]||(it.cssNumber[e]?"":"px"),c=(it.cssNumber[e]||"px"!==u&&+l)&&Dt.exec(it.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do{i=i||".5",c/=i,it.style(t,e,c+u)}while(i!==(i=s()/l)&&1!==i&&--a)}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=o)),o}function c(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return e===undefined||e&&it.nodeName(t,e)?it.merge([t],n):n}function f(t,e){for(var n=0,r=t.length;n<r;n++)Ct.set(t[n],"globalEval",!e||Ct.get(e[n],"globalEval"))}function d(t,e,n,r,o){for(var i,a,s,l,u,d,h=e.createDocumentFragment(),p=[],g=0,m=t.length;g<m;g++)if((i=t[g])||0===i)if("object"===it.type(i))it.merge(p,i.nodeType?[i]:i);else if(Ft.test(i)){for(a=a||h.appendChild(e.createElement("div")),s=(It.exec(i)||["",""])[1].toLowerCase(),l=Pt[s]||Pt._default,a.innerHTML=l[1]+it.htmlPrefilter(i)+l[2],d=l[0];d--;)a=a.lastChild;it.merge(p,a.childNodes),a=h.firstChild,a.textContent=""}else p.push(e.createTextNode(i));for(h.textContent="",g=0;i=p[g++];)if(r&&it.inArray(i,r)>-1)o&&o.push(i);else if(u=it.contains(i.ownerDocument,i),a=c(h.appendChild(i),"script"),u&&f(a),n)for(d=0;i=a[d++];)Rt.test(i.type||"")&&n.push(i);return h}function h(){return!0}function p(){return!1}function g(){try{return Q.activeElement}catch(t){}}function m(t,e,n,r,o,i){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=undefined);for(s in e)m(t,s,n,r,e[s],i);return t}if(null==r&&null==o?(o=n,r=n=undefined):null==o&&("string"==typeof n?(o=r,r=undefined):(o=r,r=n,n=undefined)),!1===o)o=p;else if(!o)return t;return 1===i&&(a=o,o=function(t){return it().off(t),a.apply(this,arguments)},o.guid=a.guid||(a.guid=it.guid++)),t.each(function(){it.event.add(this,e,o,r,n)})}function v(t,e){return it.nodeName(t,"table")&&it.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function _(t){var e=Ht.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function b(t,e){var n,r,o,i,a,s,l,u;if(1===e.nodeType){if(Ct.hasData(t)&&(i=Ct.access(t),a=Ct.set(e,i),u=i.events)){delete a.handle,a.events={};for(o in u)for(n=0,r=u[o].length;n<r;n++)it.event.add(e,o,u[o][n])}Tt.hasData(t)&&(s=Tt.access(t),l=it.extend({},s),Tt.set(e,l))}}function w(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Lt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function k(t,e,n,r){e=K.apply([],e);var o,i,a,s,l,u,f=0,h=t.length,p=h-1,g=e[0],m=it.isFunction(g);if(m||h>1&&"string"==typeof g&&!rt.checkClone&&zt.test(g))return t.each(function(o){var i=t.eq(o);m&&(e[0]=g.call(this,o,i.html())),k(i,e,n,r)});if(h&&(o=d(e,t[0].ownerDocument,!1,t,r),i=o.firstChild,1===o.childNodes.length&&(o=i),i||r)){for(a=it.map(c(o,"script"),y),s=a.length;f<h;f++)l=o,f!==p&&(l=it.clone(l,!0,!0),s&&it.merge(a,c(l,"script"))),n.call(t[f],l,f);if(s)for(u=a[a.length-1].ownerDocument,it.map(a,_),f=0;f<s;f++)l=a[f],Rt.test(l.type||"")&&!Ct.access(l,"globalEval")&&it.contains(u,l)&&(l.src?it._evalUrl&&it._evalUrl(l.src):it.globalEval(l.textContent.replace(Ut,"")))}return t}function x(t,e,n){for(var r,o=e?it.filter(e,t):t,i=0;null!=(r=o[i]);i++)n||1!==r.nodeType||it.cleanData(c(r)),r.parentNode&&(n&&it.contains(r.ownerDocument,r)&&f(c(r,"script")),r.parentNode.removeChild(r));return t}function C(t,e){var n=it(e.createElement(t)).appendTo(e.body),r=it.css(n[0],"display");return n.detach(),r}function T(t){var e=Q,n=Yt[t];return n||(n=C(t,e),"none"!==n&&n||(Wt=(Wt||it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Wt[0].contentDocument,e.write(),e.close(),n=C(t,e),Wt.detach()),Yt[t]=n),n}function E(t,e,n){var r,o,i,a,s=t.style;return n=n||Qt(t),a=n?n.getPropertyValue(e)||n[e]:undefined,""!==a&&a!==undefined||it.contains(t.ownerDocument,t)||(a=it.style(t,e)),n&&!rt.pixelMarginRight()&&Vt.test(a)&&Gt.test(e)&&(r=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=o,s.maxWidth=i),a!==undefined?a+"":a}function S(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function A(t){if(t in ne)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ee.length;n--;)if((t=ee[n]+e)in ne)return t}function D(t,e,n){var r=Dt.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function M(t,e,n,r,o){for(var i=n===(r?"border":"content")?4:"width"===e?1:0,a=0;i<4;i+=2)"margin"===n&&(a+=it.css(t,n+Mt[i],!0,o)),r?("content"===n&&(a-=it.css(t,"padding"+Mt[i],!0,o)),"margin"!==n&&(a-=it.css(t,"border"+Mt[i]+"Width",!0,o))):(a+=it.css(t,"padding"+Mt[i],!0,o),"padding"!==n&&(a+=it.css(t,"border"+Mt[i]+"Width",!0,o)));return a}function N(t,e,n){var r=!0,o="width"===e?t.offsetWidth:t.offsetHeight,i=Qt(t),a="border-box"===it.css(t,"boxSizing",!1,i);if(o<=0||null==o){if(o=E(t,e,i),(o<0||null==o)&&(o=t.style[e]),Vt.test(o))return o;r=a&&(rt.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+M(t,e,n||(a?"border":"content"),r,i)+"px"}function L(t,e){for(var n,r,o,i=[],a=0,s=t.length;a<s;a++)r=t[a],r.style&&(i[a]=Ct.get(r,"olddisplay"),n=r.style.display,e?(i[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Nt(r)&&(i[a]=Ct.access(r,"olddisplay",T(r.nodeName)))):(o=Nt(r),"none"===n&&o||Ct.set(r,"olddisplay",o?n:it.css(r,"display"))));for(a=0;a<s;a++)r=t[a],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?i[a]||"":"none"));return t}function I(t,e,n,r,o){return new I.prototype.init(t,e,n,r,o)}function R(){return t.setTimeout(function(){re=undefined}),re=it.now()}function P(t,e){var n,r=0,o={height:t};for(e=e?1:0;r<4;r+=2-e)n=Mt[r],o["margin"+n]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function F(t,e,n){for(var r,o=(q.tweeners[e]||[]).concat(q.tweeners["*"]),i=0,a=o.length;i<a;i++)if(r=o[i].call(n,e,t))return r}function $(t,e,n){var r,o,i,a,s,l,u,c=this,f={},d=t.style,h=t.nodeType&&Nt(t),p=Ct.get(t,"fxshow");n.queue||(s=it._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,it.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],u=it.css(t,"display"),"inline"===("none"===u?Ct.get(t,"olddisplay")||T(t.nodeName):u)&&"none"===it.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in e)if(o=e[r],ie.exec(o)){if(delete e[r],i=i||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!p||p[r]===undefined)continue;h=!0}f[r]=p&&p[r]||it.style(t,r)}else u=undefined;if(it.isEmptyObject(f))"inline"===("none"===u?T(t.nodeName):u)&&(d.display=u);else{p?"hidden"in p&&(h=p.hidden):p=Ct.access(t,"fxshow",{}),i&&(p.hidden=!h),h?it(t).show():c.done(function(){it(t).hide()}),c.done(function(){var e;Ct.remove(t,"fxshow");for(e in f)it.style(t,e,f[e])});for(r in f)a=F(h?p[r]:0,r,c),r in p||(p[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(t,e){var n,r,o,i,a;for(n in t)if(r=it.camelCase(n),o=e[r],i=t[n],it.isArray(i)&&(o=i[1],i=t[n]=i[0]),n!==r&&(t[r]=i,delete t[n]),(a=it.cssHooks[r])&&"expand"in a){i=a.expand(i),delete t[r];for(n in i)n in t||(t[n]=i[n],e[n]=o)}else e[r]=o}function q(t,e,n){var r,o,i=0,a=q.prefilters.length,s=it.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=re||R(),n=Math.max(0,u.startTime+u.duration-e),r=n/u.duration||0,i=1-r,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(i);return s.notifyWith(t,[u,i,n]),i<1&&l?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:it.extend({},e),opts:it.extend(!0,{specialEasing:{},easing:it.easing._default},n),originalProperties:e,originalOptions:n,startTime:re||R(),duration:n.duration,tweens:[],createTween:function(e,n){var r=it.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)u.tweens[n].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(O(c,u.opts.specialEasing);i<a;i++)if(r=q.prefilters[i].call(u,t,c,u.opts))return it.isFunction(r.stop)&&(it._queueHooks(u.elem,u.opts.queue).stop=it.proxy(r.stop,r)),r;return it.map(c,F,u),it.isFunction(u.opts.start)&&u.opts.start.call(t,u),it.fx.timer(it.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function j(t){return t.getAttribute&&t.getAttribute("class")||""}function B(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,o=0,i=e.toLowerCase().match(bt)||[];if(it.isFunction(n))for(;r=i[o++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function z(t,e,n,r){function o(s){var l;return i[s]=!0,it.each(t[s]||[],function(t,s){var u=s(e,n,r);return"string"!=typeof u||a||i[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),o(u),!1)}),l}var i={},a=t===Te;return o(e.dataTypes[0])||!i["*"]&&o("*")}function H(t,e){var n,r,o=it.ajaxSettings.flatOptions||{};for(n in e)e[n]!==undefined&&((o[n]?t:r||(r={}))[n]=e[n]);return r&&it.extend(!0,t,r),t}function U(t,e,n){for(var r,o,i,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),r===undefined&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(o in s)if(s[o]&&s[o].test(r)){l.unshift(o);break}if(l[0]in n)i=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){i=o;break}a||(a=o)}i=i||a}if(i)return i!==l[0]&&l.unshift(i),n[i]}function W(t,e,n,r){var o,i,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(i=c.shift();i;)if(t.responseFields[i]&&(n[t.responseFields[i]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=i,i=c.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(!(a=u[l+" "+i]||u["* "+i]))for(o in u)if(s=o.split(" "),s[1]===i&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[o]:!0!==u[o]&&(i=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+i}}}return{state:"success",data:e}}function Y(t,e,n,r){var o;if(it.isArray(e))it.each(e,function(e,o){n||De.test(t)?r(t,o):Y(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,r)});else if(n||"object"!==it.type(e))r(t,e);else for(o in e)Y(t+"["+o+"]",e[o],n,r)}function G(t){return it.isWindow(t)?t:9===t.nodeType&&t.defaultView}var V=[],Q=t.document,X=V.slice,K=V.concat,J=V.push,Z=V.indexOf,tt={},et=tt.toString,nt=tt.hasOwnProperty,rt={},ot="2.2.4",it=function(t,e){return new it.fn.init(t,e)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,lt=/-([\da-z])/gi,ut=function(t,e){return e.toUpperCase()};it.fn=it.prototype={jquery:ot,constructor:it,selector:"",length:0,toArray:function(){return X.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:X.call(this)},pushStack:function(t){var e=it.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return it.each(this,t)},map:function(t){return this.pushStack(it.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:J,sort:V.sort,splice:V.splice},it.extend=it.fn.extend=function(){var t,e,n,r,o,i,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||it.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],r=t[e],a!==r&&(u&&r&&(it.isPlainObject(r)||(o=it.isArray(r)))?(o?(o=!1,i=n&&it.isArray(n)?n:[]):i=n&&it.isPlainObject(n)?n:{},a[e]=it.extend(u,i,r)):r!==undefined&&(a[e]=r));return a},it.extend({expando:"jQuery"+(ot+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===it.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!it.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==it.type(t)||t.nodeType||it.isWindow(t))return!1;if(t.constructor&&!nt.call(t,"constructor")&&!nt.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return e===undefined||nt.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?tt[et.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=it.trim(t))&&(1===t.indexOf("use strict")?(e=Q.createElement("script"),e.text=t,Q.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(st,"ms-").replace(lt,ut)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var r,o=0;if(n(t))for(r=t.length;o<r&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(at,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?it.merge(r,"string"==typeof t?[t]:t):J.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:Z.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,o=t.length;r<n;r++)t[o++]=e[r];return t.length=o,t},grep:function(t,e,n){for(var r=[],o=0,i=t.length,a=!n;o<i;o++)!e(t[o],o)!==a&&r.push(t[o]);return r},map:function(t,e,r){var o,i,a=0,s=[];if(n(t))for(o=t.length;a<o;a++)null!=(i=e(t[a],a,r))&&s.push(i);else for(a in t)null!=(i=e(t[a],a,r))&&s.push(i);return K.apply([],s)},guid:1,proxy:function(t,e){var n,r,o;return"string"==typeof e&&(n=t[e],e=t,t=n),it.isFunction(t)?(r=X.call(arguments,2),o=function(){return t.apply(e||this,r.concat(X.call(arguments)))},o.guid=t.guid=t.guid||it.guid++,o):undefined},now:Date.now,support:rt}),"function"==typeof Symbol&&(it.fn[Symbol.iterator]=V[Symbol.iterator]),it.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()});var ct=function(t){function e(t,e,n,r){var o,i,a,s,l,u,f,h,p=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!r&&((e?e.ownerDocument||e:j)!==L&&N(e),e=e||L,R)){if(11!==g&&(u=vt.exec(t)))if(o=u[1]){if(9===g){if(!(a=e.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(p&&(a=p.getElementById(o))&&O(e,a)&&a.id===o)return n.push(a),n}else{if(u[2])return J.apply(n,e.getElementsByTagName(t)),n;if((o=u[3])&&w.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(o)),n}if(w.qsa&&!W[t+" "]&&(!P||!P.test(t))){if(1!==g)p=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(_t,"\\$&"):e.setAttribute("id",s=q),f=T(t),i=f.length,l=dt.test(s)?"#"+s:"[id='"+s+"']";i--;)f[i]=l+" "+d(f[i]);h=f.join(","),p=yt.test(t)&&c(e.parentNode)||e}if(h)try{return J.apply(n,p.querySelectorAll(h)),n}catch(t){}finally{s===q&&e.removeAttribute("id")}}}return S(t.replace(st,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>k.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[q]=!0,t}function o(t){var e=L.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function i(t,e){for(var n=t.split("|"),r=n.length;r--;)k.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return r(function(e){return e=+e,r(function(n,r){for(var o,i=t([],n.length,e),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function d(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function h(t,e,n){var r=e.dir,o=n&&"parentNode"===r,i=z++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||o)return t(e,n,i)}:function(e,n,a){var s,l,u,c=[B,i];if(a){for(;e=e[r];)if((1===e.nodeType||o)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||o){if(u=e[q]||(e[q]={}),l=u[e.uniqueID]||(u[e.uniqueID]={}),(s=l[r])&&s[0]===B&&s[1]===i)return c[2]=s[2];if(l[r]=c,c[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,r){for(var o=t.length;o--;)if(!t[o](e,n,r))return!1;return!0}:t[0]}function g(t,n,r){for(var o=0,i=n.length;o<i;o++)e(t,n[o],r);return r}function m(t,e,n,r,o){for(var i,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(i=t[s])&&(n&&!n(i,r,o)||(a.push(i),u&&e.push(s)));return a}function v(t,e,n,o,i,a){return o&&!o[q]&&(o=v(o)),i&&!i[q]&&(i=v(i,a)),r(function(r,a,s,l){var u,c,f,d=[],h=[],p=a.length,v=r||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?v:m(v,d,t,s,l),_=n?i||(r?t:p||o)?[]:a:y;if(n&&n(y,_,s,l),o)for(u=m(_,h),o(u,[],s,l),c=u.length;c--;)(f=u[c])&&(_[h[c]]=!(y[h[c]]=f));if(r){if(i||t){if(i){for(u=[],c=_.length;c--;)(f=_[c])&&u.push(y[c]=f);i(null,_=[],u,l)}for(c=_.length;c--;)(f=_[c])&&(u=i?tt(r,f):d[c])>-1&&(r[u]=!(a[u]=f))}}else _=m(_===a?_.splice(p,_.length):_),i?i(null,a,_,l):J.apply(a,_)})}function y(t){for(var e,n,r,o=t.length,i=k.relative[t[0].type],a=i||k.relative[" "],s=i?1:0,l=h(function(t){return t===e},a,!0),u=h(function(t){return tt(e,t)>-1},a,!0),c=[function(t,n,r){var o=!i&&(r||n!==A)||((e=n).nodeType?l(t,n,r):u(t,n,r));return e=null,o}];s<o;s++)if(n=k.relative[t[s].type])c=[h(p(c),n)];else{if(n=k.filter[t[s].type].apply(null,t[s].matches),n[q]){for(r=++s;r<o&&!k.relative[t[r].type];r++);return v(s>1&&p(c),s>1&&d(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,s<r&&y(t.slice(s,r)),r<o&&y(t=t.slice(r)),r<o&&d(t))}c.push(n)}return p(c)}function _(t,n){var o=n.length>0,i=t.length>0,a=function(r,a,s,l,u){var c,f,d,h=0,p="0",g=r&&[],v=[],y=A,_=r||i&&k.find.TAG("*",u),b=B+=null==y?1:Math.random()||.1,w=_.length;for(u&&(A=a===L||a||u);p!==w&&null!=(c=_[p]);p++){if(i&&c){for(f=0,a||c.ownerDocument===L||(N(c),s=!R);d=t[f++];)if(d(c,a||L,s)){l.push(c);break}u&&(B=b)}o&&((c=!d&&c)&&h--,r&&g.push(c))}if(h+=p,o&&p!==h){for(f=0;d=n[f++];)d(g,v,a,s);if(r){if(h>0)for(;p--;)g[p]||v[p]||(v[p]=X.call(l));v=m(v)}J.apply(l,v),u&&!r&&v.length>0&&h+n.length>1&&e.uniqueSort(l)}return u&&(B=b,A=y),g};return o?r(a):a}var b,w,k,x,C,T,E,S,A,D,M,N,L,I,R,P,F,$,O,q="sizzle"+1*new Date,j=t.document,B=0,z=0,H=n(),U=n(),W=n(),Y=function(t,e){return t===e&&(M=!0),0},G=1<<31,V={}.hasOwnProperty,Q=[],X=Q.pop,K=Q.push,J=Q.push,Z=Q.slice,tt=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",it=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(it),dt=new RegExp("^"+rt+"$"),ht={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+it),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,_t=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},kt=function(){N()};try{J.apply(Q=Z.call(j.childNodes),j.childNodes),Q[j.childNodes.length].nodeType}catch(t){J={apply:Q.length?function(t,e){K.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}w=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},N=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:j;return r!==L&&9===r.nodeType&&r.documentElement?(L=r,I=L.documentElement,R=!C(L),(n=L.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",kt,!1):n.attachEvent&&n.attachEvent("onunload",kt)),w.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=o(function(t){return t.appendChild(L.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=mt.test(L.getElementsByClassName),w.getById=o(function(t){return I.appendChild(t).id=q,!L.getElementsByName||!L.getElementsByName(q).length}),w.getById?(k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&R){var n=e.getElementById(t);return n?[n]:[]}},k.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){return t.getAttribute("id")===e}}):(delete k.find.ID,k.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),k.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],o=0,i=e.getElementsByTagName(t);if("*"===t){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},k.find.CLASS=w.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&R)return e.getElementsByClassName(t)},F=[],P=[],(w.qsa=mt.test(L.querySelectorAll))&&(o(function(t){I.appendChild(t).innerHTML="<a id='"+q+"'></a><select id='"+q+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+q+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+q+"+*").length||P.push(".#.+[+~]")}),o(function(t){var e=L.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(w.matchesSelector=mt.test($=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&o(function(t){w.disconnectedMatch=$.call(t,"div"),$.call(t,"[s!='']:x"),F.push("!=",it)}),P=P.length&&new RegExp(P.join("|")),F=F.length&&new RegExp(F.join("|")),e=mt.test(I.compareDocumentPosition),O=e||mt.test(I.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Y=e?function(t,e){if(t===e)return M=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===L||t.ownerDocument===j&&O(j,t)?-1:e===L||e.ownerDocument===j&&O(j,e)?1:D?tt(D,t)-tt(D,e):0:4&n?-1:1)}:function(t,e){if(t===e)return M=!0,0;var n,r=0,o=t.parentNode,i=e.parentNode,s=[t],l=[e];if(!o||!i)return t===L?-1:e===L?1:o?-1:i?1:D?tt(D,t)-tt(D,e):0;if(o===i)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?a(s[r],l[r]):s[r]===j?-1:l[r]===j?1:0},L):L},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==L&&N(t),n=n.replace(ct,"='$1']"),w.matchesSelector&&R&&!W[n+" "]&&(!F||!F.test(n))&&(!P||!P.test(n)))try{var r=$.call(t,n);if(r||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return e(n,L,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==L&&N(t),O(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==L&&N(t);var n=k.attrHandle[e.toLowerCase()],r=n&&V.call(k.attrHandle,e.toLowerCase())?n(t,e,!R):undefined;return r!==undefined?r:w.attributes||!R?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,o=0;if(M=!w.detectDuplicates,D=!w.sortStable&&t.slice(0),t.sort(Y),M){for(;e=t[o++];)e===t[o]&&(r=n.push(o));for(;r--;)t.splice(n[r],1)}return D=null,t},x=e.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=x(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=x(e);return n},k=e.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ht.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ft.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(o){var i=e.attr(o,t);return null==i?"!="===n:!n||(i+="","="===n?i===r:"!="===n?i!==r:"^="===n?r&&0===i.indexOf(r):"*="===n?r&&i.indexOf(r)>-1:"$="===n?r&&i.slice(-r.length)===r:"~="===n?(" "+i.replace(at," ")+" ").indexOf(r)>-1:"|="===n&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,o){var i="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var u,c,f,d,h,p,g=i!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,_=!1;if(m){if(i){for(;g;){for(d=e;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(d=m,f=d[q]||(d[q]={}),c=f[d.uniqueID]||(f[d.uniqueID]={}),u=c[t]||[],h=u[0]===B&&u[1],_=h&&u[2],d=h&&m.childNodes[h];d=++h&&d&&d[g]||(_=h=0)||p.pop();)if(1===d.nodeType&&++_&&d===e){c[t]=[B,h,_];break}}else if(y&&(d=e,f=d[q]||(d[q]={}),c=f[d.uniqueID]||(f[d.uniqueID]={}),u=c[t]||[],h=u[0]===B&&u[1],_=h),!1===_)for(;(d=++h&&d&&d[g]||(_=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++_||(y&&(f=d[q]||(d[q]={}),c=f[d.uniqueID]||(f[d.uniqueID]={}),c[t]=[B,_]),d!==e)););return(_-=o)===r||_%r==0&&_/r>=0}}},PSEUDO:function(t,n){var o,i=k.pseudos[t]||k.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return i[q]?i(n):i.length>1?(o=[t,t,"",n],k.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,o=i(t,n),a=o.length;a--;)r=tt(t,o[a]),t[r]=!(e[r]=o[a])}):function(t){return i(t,0,o)}):i}},pseudos:{not:r(function(t){var e=[],n=[],o=E(t.replace(st,"$1"));return o[q]?r(function(t,e,n,r){for(var i,a=o(t,null,r,[]),s=t.length;s--;)(i=a[s])&&(t[s]=!(e[s]=i))}):function(t,r,i){return e[0]=t,o(e,null,i,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(bt,wt),function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:r(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,wt).toLowerCase(),function(e){var n;do{if(n=R?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[n<0?n+e:n]}),even:u(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t}),gt:u(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}},k.pseudos.nth=k.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})k.pseudos[b]=l(b)
;return f.prototype=k.filters=k.pseudos,k.setFilters=new f,T=e.tokenize=function(t,n){var r,o,i,a,s,l,u,c=U[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=k.preFilter;s;){r&&!(o=lt.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),r=!1,(o=ut.exec(s))&&(r=o.shift(),i.push({value:r,type:o[0].replace(st," ")}),s=s.slice(r.length));for(a in k.filter)!(o=ht[a].exec(s))||u[a]&&!(o=u[a](o))||(r=o.shift(),i.push({value:r,type:a,matches:o}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):U(t,l).slice(0)},E=e.compile=function(t,e){var n,r=[],o=[],i=W[t+" "];if(!i){for(e||(e=T(t)),n=e.length;n--;)i=y(e[n]),i[q]?r.push(i):o.push(i);i=W(t,_(o,r)),i.selector=t}return i},S=e.select=function(t,e,n,r){var o,i,a,s,l,u="function"==typeof t&&t,f=!r&&T(t=u.selector||t);if(n=n||[],1===f.length){if(i=f[0]=f[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&w.getById&&9===e.nodeType&&R&&k.relative[i[1].type]){if(!(e=(k.find.ID(a.matches[0].replace(bt,wt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(i.shift().value.length)}for(o=ht.needsContext.test(t)?0:i.length;o--&&(a=i[o],!k.relative[s=a.type]);)if((l=k.find[s])&&(r=l(a.matches[0].replace(bt,wt),yt.test(i[0].type)&&c(e.parentNode)||e))){if(i.splice(o,1),!(t=r.length&&d(i)))return J.apply(n,r),n;break}}return(u||E(t,f))(r,e,!R,n,!e||yt.test(t)&&c(e.parentNode)||e),n},w.sortStable=q.split("").sort(Y).join("")===q,w.detectDuplicates=!!M,N(),w.sortDetached=o(function(t){return 1&t.compareDocumentPosition(L.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||i("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||i("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||i(et,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);it.find=ct,it.expr=ct.selectors,it.expr[":"]=it.expr.pseudos,it.uniqueSort=it.unique=ct.uniqueSort,it.text=ct.getText,it.isXMLDoc=ct.isXML,it.contains=ct.contains;var ft=function(t,e,n){for(var r=[],o=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&it(t).is(n))break;r.push(t)}return r},dt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},ht=it.expr.match.needsContext,pt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,gt=/^.[^:#\[\.,]*$/;it.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?it.find.matchesSelector(r,t)?[r]:[]:it.find.matches(t,it.grep(e,function(t){return 1===t.nodeType}))},it.fn.extend({find:function(t){var e,n=this.length,r=[],o=this;if("string"!=typeof t)return this.pushStack(it(t).filter(function(){for(e=0;e<n;e++)if(it.contains(o[e],this))return!0}));for(e=0;e<n;e++)it.find(t,o[e],r);return r=this.pushStack(n>1?it.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&ht.test(t)?it(t):t||[],!1).length}});var mt,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(it.fn.init=function(t,e,n){var r,o;if(!t)return this;if(n=n||mt,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:vt.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof it?e[0]:e,it.merge(this,it.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),pt.test(r[1])&&it.isPlainObject(e))for(r in e)it.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return o=Q.getElementById(r[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=Q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):it.isFunction(t)?n.ready!==undefined?n.ready(t):t(it):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),it.makeArray(t,this))}).prototype=it.fn,mt=it(Q);var yt=/^(?:parents|prev(?:Until|All))/,_t={children:!0,contents:!0,next:!0,prev:!0};it.fn.extend({has:function(t){var e=it(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(it.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,o=this.length,i=[],a=ht.test(t)||"string"!=typeof t?it(t,e||this.context):0;r<o;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&it.find.matchesSelector(n,t))){i.push(n);break}return this.pushStack(i.length>1?it.uniqueSort(i):i)},index:function(t){return t?"string"==typeof t?Z.call(it(t),this[0]):Z.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(it.uniqueSort(it.merge(this.get(),it(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),it.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ft(t,"parentNode")},parentsUntil:function(t,e,n){return ft(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return ft(t,"nextSibling")},prevAll:function(t){return ft(t,"previousSibling")},nextUntil:function(t,e,n){return ft(t,"nextSibling",n)},prevUntil:function(t,e,n){return ft(t,"previousSibling",n)},siblings:function(t){return dt((t.parentNode||{}).firstChild,t)},children:function(t){return dt(t.firstChild)},contents:function(t){return t.contentDocument||it.merge([],t.childNodes)}},function(t,e){it.fn[t]=function(n,r){var o=it.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(o=it.filter(r,o)),this.length>1&&(_t[t]||it.uniqueSort(o),yt.test(t)&&o.reverse()),this.pushStack(o)}});var bt=/\S+/g;it.Callbacks=function(t){t="string"==typeof t?i(t):it.extend({},t);var e,n,r,o,a=[],s=[],l=-1,u=function(){for(o=t.once,r=e=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)!1===a[l].apply(n[0],n[1])&&t.stopOnFalse&&(l=a.length,n=!1);t.memory||(n=!1),e=!1,o&&(a=n?[]:"")},c={add:function(){return a&&(n&&!e&&(l=a.length-1,s.push(n)),function e(n){it.each(n,function(n,r){it.isFunction(r)?t.unique&&c.has(r)||a.push(r):r&&r.length&&"string"!==it.type(r)&&e(r)})}(arguments),n&&!e&&u()),this},remove:function(){return it.each(arguments,function(t,e){for(var n;(n=it.inArray(e,a,n))>-1;)a.splice(n,1),n<=l&&l--}),this},has:function(t){return t?it.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=s=[],n||(a=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},it.extend({Deferred:function(t){var e=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return it.Deferred(function(n){it.each(e,function(e,i){var a=it.isFunction(t[e])&&t[e];o[i[1]](function(){var t=a&&a.apply(this,arguments);t&&it.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this===r?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?it.extend(t,r):r}},o={};return r.pipe=r.then,it.each(e,function(t,i){var a=i[2],s=i[3];r[i[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?r:this,arguments),this},o[i[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,r,o=0,i=X.call(arguments),a=i.length,s=1!==a||t&&it.isFunction(t.promise)?a:0,l=1===s?t:it.Deferred(),u=function(t,n,r){return function(o){n[t]=this,r[t]=arguments.length>1?X.call(arguments):o,r===e?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(e=new Array(a),n=new Array(a),r=new Array(a);o<a;o++)i[o]&&it.isFunction(i[o].promise)?i[o].promise().progress(u(o,n,e)).done(u(o,r,i)).fail(l.reject):--s;return s||l.resolveWith(r,i),l.promise()}});var wt;it.fn.ready=function(t){return it.ready.promise().done(t),this},it.extend({isReady:!1,readyWait:1,holdReady:function(t){t?it.readyWait++:it.ready(!0)},ready:function(t){(!0===t?--it.readyWait:it.isReady)||(it.isReady=!0,!0!==t&&--it.readyWait>0||(wt.resolveWith(Q,[it]),it.fn.triggerHandler&&(it(Q).triggerHandler("ready"),it(Q).off("ready"))))}}),it.ready.promise=function(e){return wt||(wt=it.Deferred(),"complete"===Q.readyState||"loading"!==Q.readyState&&!Q.documentElement.doScroll?t.setTimeout(it.ready):(Q.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a))),wt.promise(e)},it.ready.promise();var kt=function(t,e,n,r,o,i,a){var s=0,l=t.length,u=null==n;if("object"===it.type(n)){o=!0;for(s in n)kt(t,e,s,n[s],!0,i,a)}else if(r!==undefined&&(o=!0,it.isFunction(r)||(a=!0),u&&(a?(e.call(t,r),e=null):(u=e,e=function(t,e,n){return u.call(it(t),n)})),e))for(;s<l;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return o?t:u?e.call(t):l?e(t[0],n):i},xt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};s.uid=1,s.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!xt(t))return{};var e=t[this.expando];return e||(e={},xt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,o=this.cache(t);if("string"==typeof e)o[e]=n;else for(r in e)o[r]=e[r];return o},get:function(t,e){return e===undefined?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var r;return e===undefined||e&&"string"==typeof e&&n===undefined?(r=this.get(t,e),r!==undefined?r:this.get(t,it.camelCase(e))):(this.set(t,e,n),n!==undefined?n:e)},remove:function(t,e){var n,r,o,i=t[this.expando];if(i!==undefined){if(e===undefined)this.register(t);else{it.isArray(e)?r=e.concat(e.map(it.camelCase)):(o=it.camelCase(e),e in i?r=[e,o]:(r=o,r=r in i?[r]:r.match(bt)||[])),n=r.length;for(;n--;)delete i[r[n]]}(e===undefined||it.isEmptyObject(i))&&(t.nodeType?t[this.expando]=undefined:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return e!==undefined&&!it.isEmptyObject(e)}};var Ct=new s,Tt=new s,Et=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,St=/[A-Z]/g;it.extend({hasData:function(t){return Tt.hasData(t)||Ct.hasData(t)},data:function(t,e,n){return Tt.access(t,e,n)},removeData:function(t,e){Tt.remove(t,e)},_data:function(t,e,n){return Ct.access(t,e,n)},_removeData:function(t,e){Ct.remove(t,e)}}),it.fn.extend({data:function(t,e){var n,r,o,i=this[0],a=i&&i.attributes;if(t===undefined){if(this.length&&(o=Tt.get(i),1===i.nodeType&&!Ct.get(i,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=it.camelCase(r.slice(5)),l(i,r,o[r])));Ct.set(i,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){Tt.set(this,t)}):kt(this,function(e){var n,r;if(i&&e===undefined){if((n=Tt.get(i,t)||Tt.get(i,t.replace(St,"-$&").toLowerCase()))!==undefined)return n;if(r=it.camelCase(t),(n=Tt.get(i,r))!==undefined)return n;if((n=l(i,r,undefined))!==undefined)return n}else r=it.camelCase(t),this.each(function(){var n=Tt.get(this,r);Tt.set(this,r,e),t.indexOf("-")>-1&&n!==undefined&&Tt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Tt.remove(this,t)})}}),it.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Ct.get(t,e),n&&(!r||it.isArray(n)?r=Ct.access(t,e,it.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=it.queue(t,e),r=n.length,o=n.shift(),i=it._queueHooks(t,e),a=function(){it.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),r--),o&&("fx"===e&&n.unshift("inprogress"),delete i.stop,o.call(t,a,i)),!r&&i&&i.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Ct.get(t,n)||Ct.access(t,n,{empty:it.Callbacks("once memory").add(function(){Ct.remove(t,[e+"queue",n])})})}}),it.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?it.queue(this[0],t):e===undefined?this:this.each(function(){var n=it.queue(this,t,e);it._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&it.dequeue(this,t)})},dequeue:function(t){return this.each(function(){it.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,o=it.Deferred(),i=this,a=this.length,s=function(){--r||o.resolveWith(i,[i])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";a--;)(n=Ct.get(i[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),o.promise(e)}});var At=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dt=new RegExp("^(?:([+-])=|)("+At+")([a-z%]*)$","i"),Mt=["Top","Right","Bottom","Left"],Nt=function(t,e){return t=e||t,"none"===it.css(t,"display")||!it.contains(t.ownerDocument,t)},Lt=/^(?:checkbox|radio)$/i,It=/<([\w:-]+)/,Rt=/^$|\/(?:java|ecma)script/i,Pt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pt.optgroup=Pt.option,Pt.tbody=Pt.tfoot=Pt.colgroup=Pt.caption=Pt.thead,Pt.th=Pt.td;var Ft=/<|&#?\w+;/;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),rt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",rt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var $t=/^key/,Ot=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,qt=/^([^.]*)(?:\.(.+)|)/;it.event={global:{},add:function(t,e,n,r,o){var i,a,s,l,u,c,f,d,h,p,g,m=Ct.get(t);if(m)for(n.handler&&(i=n,n=i.handler,o=i.selector),n.guid||(n.guid=it.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return void 0!==it&&it.event.triggered!==e.type?it.event.dispatch.apply(t,arguments):undefined}),e=(e||"").match(bt)||[""],u=e.length;u--;)s=qt.exec(e[u])||[],h=g=s[1],p=(s[2]||"").split(".").sort(),h&&(f=it.event.special[h]||{},h=(o?f.delegateType:f.bindType)||h,f=it.event.special[h]||{},c=it.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&it.expr.match.needsContext.test(o),namespace:p.join(".")},i),(d=l[h])||(d=l[h]=[],d.delegateCount=0,f.setup&&!1!==f.setup.call(t,r,p,a)||t.addEventListener&&t.addEventListener(h,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),it.event.global[h]=!0)},remove:function(t,e,n,r,o){var i,a,s,l,u,c,f,d,h,p,g,m=Ct.hasData(t)&&Ct.get(t);if(m&&(l=m.events)){for(e=(e||"").match(bt)||[""],u=e.length;u--;)if(s=qt.exec(e[u])||[],h=g=s[1],p=(s[2]||"").split(".").sort(),h){for(f=it.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,d=l[h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=i=d.length;i--;)c=d[i],!o&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(i,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(t,c));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(t,p,m.handle)||it.removeEvent(t,h,m.handle),delete l[h])}else for(h in l)it.event.remove(t,h+e[u],n,r,!0);it.isEmptyObject(l)&&Ct.remove(t,"handle events")}},dispatch:function(t){t=it.event.fix(t);var e,n,r,o,i,a=[],s=X.call(arguments),l=(Ct.get(this,"events")||{})[t.type]||[],u=it.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(a=it.event.handlers.call(this,t,l),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(i=o.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(i.namespace)||(t.handleObj=i,t.data=i.data,(r=((it.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,s))!==undefined&&!1===(t.result=r)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,o,i,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(r=[],n=0;n<s;n++)i=e[n],o=i.selector+" ",r[o]===undefined&&(r[o]=i.needsContext?it(o,this).index(l)>-1:it.find(o,this,null,[l]).length),r[o]&&r.push(i);r.length&&a.push({elem:l,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,o,i=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Q,r=n.documentElement,o=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),t.which||i===undefined||(t.which=1&i?1:2&i?3:4&i?2:0),t}},fix:function(t){if(t[it.expando])return t;var e,n,r,o=t.type,i=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Ot.test(o)?this.mouseHooks:$t.test(o)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new it.Event(i),e=r.length;e--;)n=r[e],t[n]=i[n];return t.target||(t.target=Q),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,i):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==g()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===g()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&it.nodeName(this,"input"))return this.click(),!1},_default:function(t){return it.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},it.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},it.Event=function(t,e){if(!(this instanceof it.Event))return new it.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?h:p):this.type=t,e&&it.extend(this,e),this.timeStamp=t&&t.timeStamp||it.now(),this[it.expando]=!0},it.Event.prototype={constructor:it.Event,isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=h,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){it.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,o=t.relatedTarget,i=t.handleObj;return o&&(o===r||it.contains(r,o))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}}),it.fn.extend({on:function(t,e,n,r){return m(this,t,e,n,r)},one:function(t,e,n,r){return m(this,t,e,n,r,1)},off:function(t,e,n){var r,o;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,it(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=p),this.each(function(){it.event.remove(this,t,n,e)})}});var jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Bt=/<script|<style|<link/i,zt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ht=/^true\/(.*)/,Ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;it.extend({htmlPrefilter:function(t){return t.replace(jt,"<$1></$2>")},clone:function(t,e,n){var r,o,i,a,s=t.cloneNode(!0),l=it.contains(t.ownerDocument,t);if(!(rt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||it.isXMLDoc(t)))for(a=c(s),i=c(t),r=0,o=i.length;r<o;r++)w(i[r],a[r]);if(e)if(n)for(i=i||c(t),a=a||c(s),r=0,o=i.length;r<o;r++)b(i[r],a[r]);else b(t,s);return a=c(s,"script"),a.length>0&&f(a,!l&&c(t,"script")),s},cleanData:function(t){for(var e,n,r,o=it.event.special,i=0;(n=t[i])!==undefined;i++)if(xt(n)){if(e=n[Ct.expando]){if(e.events)for(r in e.events)o[r]?it.event.remove(n,r):it.removeEvent(n,r,e.handle);n[Ct.expando]=undefined}n[Tt.expando]&&(n[Tt.expando]=undefined)}}}),it.fn.extend({domManip:k,detach:function(t){return x(this,t,!0)},remove:function(t){return x(this,t)},text:function(t){return kt(this,function(t){return t===undefined?it.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return k(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){v(this,t).appendChild(t)}})},prepend:function(){return k(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(it.cleanData(c(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return it.clone(this,t,e)})},html:function(t){return kt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(t===undefined&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Bt.test(t)&&!Pt[(It.exec(t)||["",""])[1].toLowerCase()]){t=it.htmlPrefilter(t);try{for(;n<r;n++)e=this[n]||{},1===e.nodeType&&(it.cleanData(c(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return k(this,arguments,function(e){var n=this.parentNode;it.inArray(this,t)<0&&(it.cleanData(c(this)),n&&n.replaceChild(e,this))},t)}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){it.fn[t]=function(t){for(var n,r=[],o=it(t),i=o.length-1,a=0;a<=i;a++)n=a===i?this:this.clone(!0),it(o[a])[e](n),J.apply(r,n.get());return this.pushStack(r)}});var Wt,Yt={HTML:"block",BODY:"block"},Gt=/^margin/,Vt=new RegExp("^("+At+")(?!px)[a-z%]+$","i"),Qt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Xt=function(t,e,n,r){var o,i,a={};for(i in e)a[i]=t.style[i],t.style[i]=e[i];o=n.apply(t,r||[]);for(i in e)t.style[i]=a[i];return o},Kt=Q.documentElement;!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Kt.appendChild(a);var e=t.getComputedStyle(s);n="1%"!==e.top,i="2px"===e.marginLeft,r="4px"===e.width,s.style.marginRight="50%",o="4px"===e.marginRight,Kt.removeChild(a)}var n,r,o,i,a=Q.createElement("div"),s=Q.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",rt.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),it.extend(rt,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},pixelMarginRight:function(){return null==r&&e(),o},reliableMarginLeft:function(){return null==r&&e(),i},reliableMarginRight:function(){var e,n=s.appendChild(Q.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Kt.appendChild(a),e=!parseFloat(t.getComputedStyle(n).marginRight),Kt.removeChild(a),s.removeChild(n),e}}))}();var Jt=/^(none|table(?!-c[ea]).+)/,Zt={position:"absolute",visibility:"hidden",display:"block"},te={letterSpacing:"0",fontWeight:"400"},ee=["Webkit","O","Moz","ms"],ne=Q.createElement("div").style;it.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=E(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,i,a,s=it.camelCase(e),l=t.style;if(e=it.cssProps[s]||(it.cssProps[s]=A(s)||s),a=it.cssHooks[e]||it.cssHooks[s],n===undefined)return a&&"get"in a&&(o=a.get(t,!1,r))!==undefined?o:l[e];i=typeof n,"string"===i&&(o=Dt.exec(n))&&o[1]&&(n=u(t,e,o),i="number"),null!=n&&n===n&&("number"===i&&(n+=o&&o[3]||(it.cssNumber[s]?"":"px")),rt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&(n=a.set(t,n,r))===undefined||(l[e]=n))}},css:function(t,e,n,r){var o,i,a,s=it.camelCase(e);return e=it.cssProps[s]||(it.cssProps[s]=A(s)||s),a=it.cssHooks[e]||it.cssHooks[s],a&&"get"in a&&(o=a.get(t,!0,n)),o===undefined&&(o=E(t,e,r)),"normal"===o&&e in te&&(o=te[e]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),it.each(["height","width"],function(t,e){it.cssHooks[e]={get:function(t,n,r){if(n)return Jt.test(it.css(t,"display"))&&0===t.offsetWidth?Xt(t,Zt,function(){return N(t,e,r)}):N(t,e,r)},set:function(t,n,r){var o,i=r&&Qt(t),a=r&&M(t,e,r,"border-box"===it.css(t,"boxSizing",!1,i),i);return a&&(o=Dt.exec(n))&&"px"!==(o[3]||"px")&&(t.style[e]=n,n=it.css(t,e)),D(t,n,a)}}}),it.cssHooks.marginLeft=S(rt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(E(t,"marginLeft"))||t.getBoundingClientRect().left-Xt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),it.cssHooks.marginRight=S(rt.reliableMarginRight,function(t,e){if(e)return Xt(t,{display:"inline-block"},E,[t,"marginRight"])}),it.each({margin:"",padding:"",border:"Width"},function(t,e){it.cssHooks[t+e]={expand:function(n){for(var r=0,o={},i="string"==typeof n?n.split(" "):[n];r<4;r++)o[t+Mt[r]+e]=i[r]||i[r-2]||i[0];return o}},Gt.test(t)||(it.cssHooks[t+e].set=D)}),it.fn.extend({css:function(t,e){return kt(this,function(t,e,n){var r,o,i={},a=0;if(it.isArray(e)){for(r=Qt(t),o=e.length;a<o;a++)i[e[a]]=it.css(t,e[a],!1,r);return i}return n!==undefined?it.style(t,e,n):it.css(t,e)},t,e,arguments.length>1)},show:function(){return L(this,!0)},hide:function(){return L(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Nt(this)?it(this).show():it(this).hide()})}}),it.Tween=I,I.prototype={constructor:I,init:function(t,e,n,r,o,i){this.elem=t,this.prop=n,this.easing=o||it.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=i||(it.cssNumber[n]?"":"px")},cur:function(){var t=I.propHooks[this.prop];return t&&t.get?t.get(this):I.propHooks._default.get(this)},run:function(t){var e,n=I.propHooks[this.prop];return this.options.duration?this.pos=e=it.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):I.propHooks._default.set(this),this}},I.prototype.init.prototype=I.prototype,I.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=it.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){it.fx.step[t.prop]?it.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[it.cssProps[t.prop]]&&!it.cssHooks[t.prop]?t.elem[t.prop]=t.now:it.style(t.elem,t.prop,t.now+t.unit)}}},I.propHooks.scrollTop=I.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},it.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},it.fx=I.prototype.init,it.fx.step={};var re,oe,ie=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;it.Animation=it.extend(q,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return u(n.elem,t,Dt.exec(e),n),n}]},tweener:function(t,e){it.isFunction(t)?(e=t,t=["*"]):t=t.match(bt);for(var n,r=0,o=t.length;r<o;r++)n=t[r],q.tweeners[n]=q.tweeners[n]||[],q.tweeners[n].unshift(e)},prefilters:[$],prefilter:function(t,e){e?q.prefilters.unshift(t):q.prefilters.push(t)}}),it.speed=function(t,e,n){var r=t&&"object"==typeof t?it.extend({},t):{complete:n||!n&&e||it.isFunction(t)&&t,duration:t,easing:n&&e||e&&!it.isFunction(e)&&e};return r.duration=it.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in it.fx.speeds?it.fx.speeds[r.duration]:it.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){it.isFunction(r.old)&&r.old.call(this),r.queue&&it.dequeue(this,r.queue)},r},it.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Nt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var o=it.isEmptyObject(t),i=it.speed(e,n,r),a=function(){var e=q(this,it.extend({},t),i);(o||Ct.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===i.queue?this.each(a):this.queue(i.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=undefined),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",i=it.timers,a=Ct.get(this);if(o)a[o]&&a[o].stop&&r(a[o]);else for(o in a)a[o]&&a[o].stop&&ae.test(o)&&r(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=t&&i[o].queue!==t||(i[o].anim.stop(n),e=!1,i.splice(o,1));!e&&n||it.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Ct.get(this),r=n[t+"queue"],o=n[t+"queueHooks"],i=it.timers,a=r?r.length:0;for(n.finish=!0,it.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===t&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),it.each(["toggle","show","hide"],function(t,e){var n=it.fn[e];it.fn[e]=function(t,r,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(P(e,!0),t,r,o)}}),it.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){it.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),it.timers=[],it.fx.tick=function(){var t,e=0,n=it.timers;for(re=it.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||it.fx.stop(),re=undefined},it.fx.timer=function(t){it.timers.push(t),t()?it.fx.start():it.timers.pop()},it.fx.interval=13,it.fx.start=function(){oe||(oe=t.setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){t.clearInterval(oe),oe=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fn.delay=function(e,n){return e=it.fx?it.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,r){var o=t.setTimeout(n,e);r.stop=function(){t.clearTimeout(o)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),n=e.appendChild(Q.createElement("option"));t.type="checkbox",rt.checkOn=""!==t.value,rt.optSelected=n.selected,e.disabled=!0,rt.optDisabled=!n.disabled,t=Q.createElement("input"),t.value="t",t.type="radio",rt.radioValue="t"===t.value}();var se,le=it.expr.attrHandle;it.fn.extend({attr:function(t,e){return kt(this,it.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){it.removeAttr(this,t)})}}),it.extend({attr:function(t,e,n){var r,o,i=t.nodeType
;if(3!==i&&8!==i&&2!==i)return"undefined"==typeof t.getAttribute?it.prop(t,e,n):(1===i&&it.isXMLDoc(t)||(e=e.toLowerCase(),o=it.attrHooks[e]||(it.expr.match.bool.test(e)?se:undefined)),n!==undefined?null===n?void it.removeAttr(t,e):o&&"set"in o&&(r=o.set(t,n,e))!==undefined?r:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(r=o.get(t,e))?r:(r=it.find.attr(t,e),null==r?undefined:r))},attrHooks:{type:{set:function(t,e){if(!rt.radioValue&&"radio"===e&&it.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r,o=0,i=e&&e.match(bt);if(i&&1===t.nodeType)for(;n=i[o++];)r=it.propFix[n]||n,it.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)}}),se={set:function(t,e,n){return!1===e?it.removeAttr(t,n):t.setAttribute(n,n),n}},it.each(it.expr.match.bool.source.match(/\w+/g),function(t,e){var n=le[e]||it.find.attr;le[e]=function(t,e,r){var o,i;return r||(i=le[e],le[e]=o,o=null!=n(t,e,r)?e.toLowerCase():null,le[e]=i),o}});var ue=/^(?:input|select|textarea|button)$/i,ce=/^(?:a|area)$/i;it.fn.extend({prop:function(t,e){return kt(this,it.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[it.propFix[t]||t]})}}),it.extend({prop:function(t,e,n){var r,o,i=t.nodeType;if(3!==i&&8!==i&&2!==i)return 1===i&&it.isXMLDoc(t)||(e=it.propFix[e]||e,o=it.propHooks[e]),n!==undefined?o&&"set"in o&&(r=o.set(t,n,e))!==undefined?r:t[e]=n:o&&"get"in o&&null!==(r=o.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=it.find.attr(t,"tabindex");return e?parseInt(e,10):ue.test(t.nodeName)||ce.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),rt.optSelected||(it.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this});var fe=/[\t\r\n\f]/g;it.fn.extend({addClass:function(t){var e,n,r,o,i,a,s,l=0;if(it.isFunction(t))return this.each(function(e){it(this).addClass(t.call(this,e,j(this)))});if("string"==typeof t&&t)for(e=t.match(bt)||[];n=this[l++];)if(o=j(n),r=1===n.nodeType&&(" "+o+" ").replace(fe," ")){for(a=0;i=e[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=it.trim(r),o!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,o,i,a,s,l=0;if(it.isFunction(t))return this.each(function(e){it(this).removeClass(t.call(this,e,j(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(bt)||[];n=this[l++];)if(o=j(n),r=1===n.nodeType&&(" "+o+" ").replace(fe," ")){for(a=0;i=e[a++];)for(;r.indexOf(" "+i+" ")>-1;)r=r.replace(" "+i+" "," ");s=it.trim(r),o!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):it.isFunction(t)?this.each(function(n){it(this).toggleClass(t.call(this,n,j(this),e),e)}):this.each(function(){var e,r,o,i;if("string"===n)for(r=0,o=it(this),i=t.match(bt)||[];e=i[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else t!==undefined&&"boolean"!==n||(e=j(this),e&&Ct.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Ct.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+j(n)+" ").replace(fe," ").indexOf(e)>-1)return!0;return!1}});var de=/\r/g,he=/[\x20\t\r\n\f]+/g;it.fn.extend({val:function(t){var e,n,r,o=this[0];{if(arguments.length)return r=it.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=r?t.call(this,n,it(this).val()):t,null==o?o="":"number"==typeof o?o+="":it.isArray(o)&&(o=it.map(o,function(t){return null==t?"":t+""})),(e=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&e.set(this,o,"value")!==undefined||(this.value=o))});if(o)return(e=it.valHooks[o.type]||it.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&(n=e.get(o,"value"))!==undefined?n:(n=o.value,"string"==typeof n?n.replace(de,""):null==n?"":n)}}}),it.extend({valHooks:{option:{get:function(t){var e=it.find.attr(t,"value");return null!=e?e:it.trim(it.text(t)).replace(he," ")}},select:{get:function(t){for(var e,n,r=t.options,o=t.selectedIndex,i="select-one"===t.type||o<0,a=i?null:[],s=i?o+1:r.length,l=o<0?s:i?o:0;l<s;l++)if(n=r[l],(n.selected||l===o)&&(rt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!it.nodeName(n.parentNode,"optgroup"))){if(e=it(n).val(),i)return e;a.push(e)}return a},set:function(t,e){for(var n,r,o=t.options,i=it.makeArray(e),a=o.length;a--;)r=o[a],(r.selected=it.inArray(it.valHooks.option.get(r),i)>-1)&&(n=!0);return n||(t.selectedIndex=-1),i}}}}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(t,e){if(it.isArray(e))return t.checked=it.inArray(it(t).val(),e)>-1}},rt.checkOn||(it.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var pe=/^(?:focusinfocus|focusoutblur)$/;it.extend(it.event,{trigger:function(e,n,r,o){var i,a,s,l,u,c,f,d=[r||Q],h=nt.call(e,"type")?e.type:e,p=nt.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||Q,3!==r.nodeType&&8!==r.nodeType&&!pe.test(h+it.event.triggered)&&(h.indexOf(".")>-1&&(p=h.split("."),h=p.shift(),p.sort()),u=h.indexOf(":")<0&&"on"+h,e=e[it.expando]?e:new it.Event(h,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=r),n=null==n?[e]:it.makeArray(n,[e]),f=it.event.special[h]||{},o||!f.trigger||!1!==f.trigger.apply(r,n))){if(!o&&!f.noBubble&&!it.isWindow(r)){for(l=f.delegateType||h,pe.test(l+h)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(r.ownerDocument||Q)&&d.push(s.defaultView||s.parentWindow||t)}for(i=0;(a=d[i++])&&!e.isPropagationStopped();)e.type=i>1?l:f.bindType||h,c=(Ct.get(a,"events")||{})[e.type]&&Ct.get(a,"handle"),c&&c.apply(a,n),(c=u&&a[u])&&c.apply&&xt(a)&&(e.result=c.apply(a,n),!1===e.result&&e.preventDefault());return e.type=h,o||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(d.pop(),n)||!xt(r)||u&&it.isFunction(r[h])&&!it.isWindow(r)&&(s=r[u],s&&(r[u]=null),it.event.triggered=h,r[h](),it.event.triggered=undefined,s&&(r[u]=s)),e.result}},simulate:function(t,e,n){var r=it.extend(new it.Event,n,{type:t,isSimulated:!0});it.event.trigger(r,null,e)}}),it.fn.extend({trigger:function(t,e){return this.each(function(){it.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return it.event.trigger(t,e,n,!0)}}),it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){it.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),it.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),rt.focusin="onfocusin"in t,rt.focusin||it.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){it.event.simulate(e,t.target,it.event.fix(t))};it.event.special[e]={setup:function(){var r=this.ownerDocument||this,o=Ct.access(r,e);o||r.addEventListener(t,n,!0),Ct.access(r,e,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this,o=Ct.access(r,e)-1;o?Ct.access(r,e,o):(r.removeEventListener(t,n,!0),Ct.remove(r,e))}}});var ge=t.location,me=it.now(),ve=/\?/;it.parseJSON=function(t){return JSON.parse(t+"")},it.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=undefined}return n&&!n.getElementsByTagName("parsererror").length||it.error("Invalid XML: "+e),n};var ye=/#.*$/,_e=/([?&])_=[^&]*/,be=/^(.*?):[ \t]*([^\r\n]*)$/gm,we=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ke=/^(?:GET|HEAD)$/,xe=/^\/\//,Ce={},Te={},Ee="*/".concat("*"),Se=Q.createElement("a");Se.href=ge.href,it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ge.href,type:"GET",isLocal:we.test(ge.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ee,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?H(H(t,it.ajaxSettings),e):H(it.ajaxSettings,t)},ajaxPrefilter:B(Ce),ajaxTransport:B(Te),ajax:function(e,n){function r(e,n,r,s){var u,f,y,_,w,x=n;2!==b&&(b=2,l&&t.clearTimeout(l),o=undefined,a=s||"",k.readyState=e>0?4:0,u=e>=200&&e<300||304===e,r&&(_=U(d,k,r)),_=W(d,_,k,u),u?(d.ifModified&&(w=k.getResponseHeader("Last-Modified"),w&&(it.lastModified[i]=w),(w=k.getResponseHeader("etag"))&&(it.etag[i]=w)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=_.state,f=_.data,y=_.error,u=!y)):(y=x,!e&&x||(x="error",e<0&&(e=0))),k.status=e,k.statusText=(n||x)+"",u?g.resolveWith(h,[f,x,k]):g.rejectWith(h,[k,x,y]),k.statusCode(v),v=undefined,c&&p.trigger(u?"ajaxSuccess":"ajaxError",[k,d,u?f:y]),m.fireWith(h,[k,x]),c&&(p.trigger("ajaxComplete",[k,d]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=undefined),n=n||{};var o,i,a,s,l,u,c,f,d=it.ajaxSetup({},n),h=d.context||d,p=d.context&&(h.nodeType||h.jquery)?it(h):it.event,g=it.Deferred(),m=it.Callbacks("once memory"),v=d.statusCode||{},y={},_={},b=0,w="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!s)for(s={};e=be.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=_[n]=_[n]||t,y[t]=e),this},overrideMimeType:function(t){return b||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(b<2)for(e in t)v[e]=[v[e],t[e]];else k.always(t[k.status]);return this},abort:function(t){var e=t||w;return o&&o.abort(e),r(0,e),this}};if(g.promise(k).complete=m.add,k.success=k.done,k.error=k.fail,d.url=((e||d.url||ge.href)+"").replace(ye,"").replace(xe,ge.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=it.trim(d.dataType||"*").toLowerCase().match(bt)||[""],null==d.crossDomain){u=Q.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=Se.protocol+"//"+Se.host!=u.protocol+"//"+u.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=it.param(d.data,d.traditional)),z(Ce,d,n,k),2===b)return k;c=it.event&&d.global,c&&0==it.active++&&it.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!ke.test(d.type),i=d.url,d.hasContent||(d.data&&(i=d.url+=(ve.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=_e.test(i)?i.replace(_e,"$1_="+me++):i+(ve.test(i)?"&":"?")+"_="+me++)),d.ifModified&&(it.lastModified[i]&&k.setRequestHeader("If-Modified-Since",it.lastModified[i]),it.etag[i]&&k.setRequestHeader("If-None-Match",it.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&k.setRequestHeader("Content-Type",d.contentType),k.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ee+"; q=0.01":""):d.accepts["*"]);for(f in d.headers)k.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(h,k,d)||2===b))return k.abort();w="abort";for(f in{success:1,error:1,complete:1})k[f](d[f]);if(o=z(Te,d,n,k)){if(k.readyState=1,c&&p.trigger("ajaxSend",[k,d]),2===b)return k;d.async&&d.timeout>0&&(l=t.setTimeout(function(){k.abort("timeout")},d.timeout));try{b=1,o.send(y,r)}catch(t){if(!(b<2))throw t;r(-1,t)}}else r(-1,"No Transport");return k},getJSON:function(t,e,n){return it.get(t,e,n,"json")},getScript:function(t,e){return it.get(t,undefined,e,"script")}}),it.each(["get","post"],function(t,e){it[e]=function(t,n,r,o){return it.isFunction(n)&&(o=o||r,r=n,n=undefined),it.ajax(it.extend({url:t,type:e,dataType:o,data:n,success:r},it.isPlainObject(t)&&t))}}),it._evalUrl=function(t){return it.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},it.fn.extend({wrapAll:function(t){var e;return it.isFunction(t)?this.each(function(e){it(this).wrapAll(t.call(this,e))}):(this[0]&&(e=it(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return it.isFunction(t)?this.each(function(e){it(this).wrapInner(t.call(this,e))}):this.each(function(){var e=it(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=it.isFunction(t);return this.each(function(n){it(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}}),it.expr.filters.hidden=function(t){return!it.expr.filters.visible(t)},it.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Ae=/%20/g,De=/\[\]$/,Me=/\r?\n/g,Ne=/^(?:submit|button|image|reset|file)$/i,Le=/^(?:input|select|textarea|keygen)/i;it.param=function(t,e){var n,r=[],o=function(t,e){e=it.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(t)||t.jquery&&!it.isPlainObject(t))it.each(t,function(){o(this.name,this.value)});else for(n in t)Y(n,t[n],e,o);return r.join("&").replace(Ae,"+")},it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=it.prop(this,"elements");return t?it.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!it(this).is(":disabled")&&Le.test(this.nodeName)&&!Ne.test(t)&&(this.checked||!Lt.test(t))}).map(function(t,e){var n=it(this).val();return null==n?null:it.isArray(n)?it.map(n,function(t){return{name:e.name,value:t.replace(Me,"\r\n")}}):{name:e.name,value:n.replace(Me,"\r\n")}}).get()}}),it.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Ie={0:200,1223:204},Re=it.ajaxSettings.xhr();rt.cors=!!Re&&"withCredentials"in Re,rt.ajax=Re=!!Re,it.ajaxTransport(function(e){var n,r;if(rt.cors||Re&&!e.crossDomain)return{send:function(o,i){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)s.setRequestHeader(a,o[a]);n=function(t){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?i(0,"error"):i(s.status,s.statusText):i(Ie[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),s.onabort!==undefined?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return it.globalEval(t),t}}}),it.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),it.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,o){e=it("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&o("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Pe=[],Fe=/(=)\?(?=&|$)|\?\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Pe.pop()||it.expando+"_"+me++;return this[t]=!0,t}}),it.ajaxPrefilter("json jsonp",function(e,n,r){var o,i,a,s=!1!==e.jsonp&&(Fe.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fe.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=it.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Fe,"$1"+o):!1!==e.jsonp&&(e.url+=(ve.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||it.error(o+" was not called"),a[0]},e.dataTypes[0]="json",i=t[o],t[o]=function(){a=arguments},r.always(function(){i===undefined?it(t).removeProp(o):t[o]=i,e[o]&&(e.jsonpCallback=n.jsonpCallback,Pe.push(o)),a&&it.isFunction(i)&&i(a[0]),a=i=undefined}),"script"}),it.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Q;var r=pt.exec(t),o=!n&&[];return r?[e.createElement(r[1])]:(r=d([t],e,o),o&&o.length&&it(o).remove(),it.merge([],r.childNodes))};var $e=it.fn.load;it.fn.load=function(t,e,n){if("string"!=typeof t&&$e)return $e.apply(this,arguments);var r,o,i,a=this,s=t.indexOf(" ");return s>-1&&(r=it.trim(t.slice(s)),t=t.slice(0,s)),it.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(o="POST"),a.length>0&&it.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){i=arguments,a.html(r?it("<div>").append(it.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,i||[t.responseText,e,t])})}),this},it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){it.fn[e]=function(t){return this.on(e,t)}}),it.expr.filters.animated=function(t){return it.grep(it.timers,function(e){return t===e.elem}).length},it.offset={setOffset:function(t,e,n){var r,o,i,a,s,l,u,c=it.css(t,"position"),f=it(t),d={};"static"===c&&(t.style.position="relative"),s=f.offset(),i=it.css(t,"top"),l=it.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(i+l).indexOf("auto")>-1,u?(r=f.position(),a=r.top,o=r.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),it.isFunction(e)&&(e=e.call(t,n,it.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+o),"using"in e?e.using.call(t,d):f.css(d)}},it.fn.extend({offset:function(t){if(arguments.length)return t===undefined?this:this.each(function(e){it.offset.setOffset(this,t,e)});var e,n,r=this[0],o={top:0,left:0},i=r&&r.ownerDocument;if(i)return e=i.documentElement,it.contains(e,r)?(o=r.getBoundingClientRect(),n=G(i),{top:o.top+n.pageYOffset-e.clientTop,left:o.left+n.pageXOffset-e.clientLeft}):o},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===it.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),it.nodeName(t[0],"html")||(r=t.offset()),r.top+=it.css(t[0],"borderTopWidth",!0),r.left+=it.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-it.css(n,"marginTop",!0),left:e.left-r.left-it.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===it.css(t,"position");)t=t.offsetParent;return t||Kt})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;it.fn[t]=function(r){return kt(this,function(t,r,o){var i=G(t);if(o===undefined)return i?i[e]:t[r];i?i.scrollTo(n?i.pageXOffset:o,n?o:i.pageYOffset):t[r]=o},t,r,arguments.length)}}),it.each(["top","left"],function(t,e){it.cssHooks[e]=S(rt.pixelPosition,function(t,n){if(n)return n=E(t,e),Vt.test(n)?it(t).position()[e]+"px":n})}),it.each({Height:"height",Width:"width"},function(t,e){it.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){it.fn[r]=function(r,o){var i=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return kt(this,function(e,n,r){var o;return it.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):r===undefined?it.css(e,n,a):it.style(e,n,r,a)},e,i?r:undefined,i,null)}})}),it.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),it.fn.andSelf=it.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return it});var Oe=t.jQuery,qe=t.$;return it.noConflict=function(e){return t.$===it&&(t.$=qe),e&&t.jQuery===it&&(t.jQuery=Oe),it},e||(t.jQuery=t.$=it),it}),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,r=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=n.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(e,n,r){var o=t.Event(n);return e.trigger(o,r),!1!==o.result},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&!1!==t.data("remote")},handleRemote:function(r){var o,i,a,s,l,u;if(n.fire(r,"ajax:before")){if(s=r.data("with-credentials")||null,l=r.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,r.is("form")){o=r.data("ujs:submit-button-formmethod")||r.attr("method"),i=r.data("ujs:submit-button-formaction")||r.attr("action"),a=t(r[0]).serializeArray();var c=r.data("ujs:submit-button");c&&(a.push(c),r.data("ujs:submit-button",null)),r.data("ujs:submit-button-formmethod",null),r.data("ujs:submit-button-formaction",null)}else r.is(n.inputChangeSelector)?(o=r.data("method"),i=r.data("url"),a=r.serialize(),r.data("params")&&(a=a+"&"+r.data("params"))):r.is(n.buttonClickSelector)?(o=r.data("method")||"get",i=r.data("url"),a=r.serialize(),r.data("params")&&(a=a+"&"+r.data("params"))):(o=r.data("method"),i=n.href(r),a=r.data("params")||null);return u={type:o||"GET",data:a,dataType:l,beforeSend:function(t,o){if(o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),!n.fire(r,"ajax:beforeSend",[t,o]))return!1;r.trigger("ajax:send",t)},success:function(t,e,n){r.trigger("ajax:success",[t,e,n])},complete:function(t,e){r.trigger("ajax:complete",[t,e])},error:function(t,e,n){r.trigger("ajax:error",[t,e,n])},crossDomain:n.isCrossDomain(i)},s&&(u.xhrFields={withCredentials:s}),i&&(u.url=i),n.ajax(u)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(t){return!0}},handleMethod:function(r){var o=n.href(r),i=r.data("method"),a=r.attr("target"),s=n.csrfToken(),l=n.csrfParam(),u=t('<form method="post" action="'+o+'"></form>'),c='<input name="_method" value="'+i+'" type="hidden" />';l===e||s===e||n.isCrossDomain(o)||(c+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&u.attr("target",a),u.hide().append(c).appendTo("body"),u.submit()},formElements:function(e,n){return e.is("form")?t(e[0].elements).filter(n):e.find(n)},disableFormElements:function(e){n.formElements(e,n.disableSelector).each(function(){n.disableFormElement(t(this))})},disableFormElement:function(t){var n,r;n=t.is("button")?"html":"val",r=t.data("disable-with"),r!==e&&(t.data("ujs:enable-with",t[n]()),t[n](r)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(e){n.formElements(e,n.enableSelector).each(function(){n.enableFormElement(t(this))})},enableFormElement:function(t){var n=t.is("button")?"html":"val";t.data("ujs:enable-with")!==e&&(t[n](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,r=t.data("confirm"),o=!1;if(!r)return!0;if(n.fire(t,"confirm")){try{o=n.confirm(r)}catch(t){(console.error||console.log).call(console,t.stack||t)}e=n.fire(t,"confirm:complete",[o])}return o&&e},blankInputs:function(e,n,r){var o,i,a,s,l=t(),u=n||"input,textarea",c=e.find(u),f={};return c.each(function(){o=t(this),o.is("input[type=radio]")?(s=o.attr("name"),f[s]||(0===e.find('input[type=radio]:checked[name="'+s+'"]').length&&(a=e.find('input[type=radio][name="'+s+'"]'),l=l.add(a)),f[s]=s)):(i=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val())===r&&(l=l.add(o))}),!!l.length&&l},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var r=t.data("disable-with");r!==e&&(t.data("ujs:enable-with",t.html()),t.html(r)),t.bind("click.railsDisable",function(t){return n.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},n.fire(r,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,r){t.crossDomain||n.CSRFProtection(r)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:disabled")&&t.rails.enableElement(e)})}),r.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(t(this))}),r.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(t(this))}),r.on("click.rails",n.linkClickSelector,function(e){var r=t(this),o=r.data("method"),i=r.data("params"),a=e.metaKey||e.ctrlKey;if(!n.allowAction(r))return n.stopEverything(e);if(!a&&r.is(n.linkDisableSelector)&&n.disableElement(r),n.isRemote(r)){if(a&&(!o||"GET"===o)&&!i)return!0;var s=n.handleRemote(r);return!1===s?n.enableElement(r):s.fail(function(){n.enableElement(r)}),!1}return o?(n.handleMethod(r),!1):void 0}),r.on("click.rails",n.buttonClickSelector,function(e){var r=t(this);if(!n.allowAction(r)||!n.isRemote(r))return n.stopEverything(e);r.is(n.buttonDisableSelector)&&n.disableFormElement(r);var o=n.handleRemote(r);return!1===o?n.enableFormElement(r):o.fail(function(){n.enableFormElement(r)}),!1}),r.on("change.rails",n.inputChangeSelector,function(e){var r=t(this);return n.allowAction(r)&&n.isRemote(r)?(n.handleRemote(r),!1):n.stopEverything(e)}),r.on("submit.rails",n.formSubmitSelector,function(r){var o,i,a=t(this),s=n.isRemote(a);if(!n.allowAction(a))return n.stopEverything(r);if(a.attr("novalidate")===e)if(a.data("ujs:formnovalidate-button")===e){if((o=n.blankInputs(a,n.requiredInputSelector,!1))&&n.fire(a,"ajax:aborted:required",[o]))return n.stopEverything(r)}else a.data("ujs:formnovalidate-button",e);if(s){if(i=n.nonBlankInputs(a,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(a)},13);var l=n.fire(a,"ajax:aborted:file",[i]);return l||setTimeout(function(){n.enableFormElements(a)},13),l}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),r.on("click.rails",n.formInputClickSelector,function(e){var r=t(this);if(!n.allowAction(r))return n.stopEverything(e);var o=r.attr("name"),i=o?{name:o,value:r.val()}:null,a=r.closest("form");0===a.length&&(a=t("#"+r.attr("form"))),a.data("ujs:submit-button",i),a.data("ujs:formnovalidate-button",r.attr("formnovalidate")),a.data("ujs:submit-button-formaction",r.attr("formaction")),a.data("ujs:submit-button-formmethod",r.attr("formmethod"))}),r.on("ajax:send.rails",n.formSubmitSelector,function(e){this===e.target&&n.disableFormElements(t(this))}),r.on("ajax:complete.rails",n.formSubmitSelector,function(e){this===e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one("bsTransitionEnd",function(){n=!0});var o=function(){n||t(r).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new r(this)),"string"==typeof e&&o[e].call(n)})}var n='[data-dismiss="alert"]',r=function(e){t(e).on("click",n,this.close)};r.VERSION="3.3.2",r.TRANSITION_DURATION=150,r.prototype.close=function(e){function n(){a.detach().trigger("closed.bs.alert").remove()}var o=t(this),i=o.attr("data-target");i||(i=o.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var a=t(i);e&&e.preventDefault(),a.length||(a=o.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(r.TRANSITION_DURATION):n())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=r,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",n,r.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),o=r.data("bs.button"),i="object"==typeof e&&e;o||r.data("bs.button",o=new n(this,i)),"toggle"==e?o.toggle():e&&o.setState(e)})}var n=function(e,r){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.3.2",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",r=this.$element,o=r.is("input")?"val":"html",i=r.data();e+="Text",null==i.resetText&&r.data("resetText",r[o]()),setTimeout(t.proxy(function(){r[o](null==i[e]?this.options[e]:i[e]),"loadingText"==e?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),
t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var r=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=r,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var r=t(n.target);r.hasClass("btn")||(r=r.closest(".btn")),e.call(r,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),o=r.data("bs.carousel"),i=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e),a="string"==typeof e?e:i.slide;o||r.data("bs.carousel",o=new n(this,i)),"number"==typeof e?o.to(e):a?o[a]():i.interval&&o.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.2",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var r="prev"==t?-1:1,o=(n+r)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,r){var o=this.$element.find(".item.active"),i=r||this.getItemForDirection(e,o),a=this.interval,s="next"==e?"left":"right",l=this;if(i.hasClass("active"))return this.sliding=!1;var u=i[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var f=t(this.$indicators.children()[this.getItemIndex(i)]);f&&f.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),i[0].offsetWidth,o.addClass(s),i.addClass(s),o.one("bsTransitionEnd",function(){i.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(d)),a&&this.cycle(),this}};var r=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=r,this};var o=function(n){var r,o=t(this),i=t(o.attr("data-target")||(r=o.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var a=t.extend({},i.data(),o.data()),s=o.attr("data-slide-to");s&&(a.interval=!1),e.call(i,a),s&&i.data("bs.carousel").to(s),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),function(t){"use strict";function e(e){var n,r=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(r)}function n(e){return this.each(function(){var n=t(this),o=n.data("bs.collapse"),i=t.extend({},r.DEFAULTS,n.data(),"object"==typeof e&&e);!o&&i.toggle&&"show"==e&&(i.toggle=!1),o||n.data("bs.collapse",o=new r(this,i)),"string"==typeof e&&o[e]()})}var r=function(e,n){this.$element=t(e),this.options=t.extend({},r.DEFAULTS,n),this.$trigger=t(this.options.trigger).filter('[href="#'+e.id+'"], [data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};r.VERSION="3.3.2",r.TRANSITION_DURATION=350,r.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},r.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},r.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"))&&e.transitioning)){var i=t.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),e||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(r.TRANSITION_DURATION)[a](this.$element[0][l])}}}},r.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(r.TRANSITION_DURATION):o.call(this)}}},r.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},r.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,r){var o=t(r);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},r.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=r,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(r){var o=t(this);o.attr("data-target")||r.preventDefault();var i=e(o),a=i.data("bs.collapse"),s=a?"toggle":t.extend({},o.data(),{trigger:this});n.call(i,s)})}(jQuery),function(t){"use strict";function e(e){e&&3===e.which||(t(o).remove(),t(i).each(function(){var r=t(this),o=n(r),i={relatedTarget:this};o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown",i)),e.isDefaultPrevented()||(r.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",i)))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&t(n);return r&&r.length?r:e.parent()}function r(e){return this.each(function(){var n=t(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof e&&r[e].call(n)})}var o=".dropdown-backdrop",i='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.2",a.prototype.toggle=function(r){var o=t(this);if(!o.is(".disabled, :disabled")){var i=n(o),a=i.hasClass("open");if(e(),!a){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(i.trigger(r=t.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var r=t(this);if(e.preventDefault(),e.stopPropagation(),!r.is(".disabled, :disabled")){var o=n(r),a=o.hasClass("open");if(!a&&27!=e.which||a&&27==e.which)return 27==e.which&&o.find(i).trigger("focus"),r.trigger("click");var s=" li:not(.divider):visible a",l=o.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var u=l.index(e.target);38==e.which&&u>0&&u--,40==e.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=r,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",i,a.prototype.toggle).on("keydown.bs.dropdown.data-api",i,a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',a.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,r){return this.each(function(){var o=t(this),i=o.data("bs.modal"),a=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);i||o.data("bs.modal",i=new n(this,a)),"string"==typeof e?i[e](r):a.show&&i.show(r)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.2",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var r=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var o=t.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.options.backdrop&&r.adjustBackdrop(),r.adjustDialog(),o&&r.$element[0].offsetWidth,r.$element.addClass("in").attr("aria-hidden",!1),r.enforceFocus();var i=t.Event("shown.bs.modal",{relatedTarget:e});o?r.$element.find(".modal-dialog").one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(n.TRANSITION_DURATION):r.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var r=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&o;if(this.$backdrop=t('<div class="modal-backdrop '+o+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},n.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},n.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var r=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=r,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var r=t(this),o=r.attr("href"),i=t(r.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=i.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},i.data(),r.data());r.is("a")&&n.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),e.call(i,a,this)})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),o=r.data("bs.tooltip"),i="object"==typeof e&&e;(o||"destroy"!=e)&&(o||r.data("bs.tooltip",o=new n(this,i)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,r){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var o=this.options.trigger.split(" "),i=o.length;i--;){var a=o[i];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,r){n[t]!=r&&(e[t]=r)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var r=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!r)return;var o=this,i=this.tip(),a=this.getUID(this.type);this.setContent(),i.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&i.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var c=this.getPosition(),f=i[0].offsetWidth,d=i[0].offsetHeight;if(u){var h=s,p=this.options.container?t(this.options.container):this.$element.parent(),g=this.getPosition(p);s="bottom"==s&&c.bottom+d>g.bottom?"top":"top"==s&&c.top-d<g.top?"bottom":"right"==s&&c.right+f>g.width?"left":"left"==s&&c.left-f<g.left?"right":s,i.removeClass(h).addClass(s)}var m=this.getCalculatedOffset(s,c,f,d);this.applyPlacement(m,s);var v=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(e,n){var r=this.tip(),o=r[0].offsetWidth,i=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top=e.top+a,e.left=e.left+s,t.offset.setOffset(r[0],t.extend({using:function(t){r.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),r.addClass("in");var l=r[0].offsetWidth,u=r[0].offsetHeight;"top"==n&&u!=i&&(e.top=e.top+i-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var f=/top|bottom/.test(n),d=f?2*c.left-o+l:2*c.top-i+u,h=f?"offsetWidth":"offsetHeight";r.offset(e),this.replaceArrow(d,r[0][h],f)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function r(){"in"!=o.hoverState&&i.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,i=this.tip(),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],r="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var i=r?{top:0,left:0}:e.offset(),a={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},s=r?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,a,s,i)},n.prototype.getCalculatedOffset=function(t,e,n,r){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-r,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-r/2,left:e.left-n}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,r){var o={top:0,left:0};if(!this.$viewport)return o;var i=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-i-a.scroll,l=e.top+i-a.scroll+r;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var u=e.left-i,c=e.left+i+n;u<a.left?o.left=a.left-u:c>a.width&&(o.left=a.left+a.width-c)}return o},n.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},n.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var r=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=r,this}}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),o=r.data("bs.popover"),i="object"==typeof e&&e;(o||"destroy"!=e)&&(o||r.data("bs.popover",o=new n(this,i)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.2",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var r=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=r,this}}(jQuery),function(t){"use strict";function e(n,r){var o=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(n).is("body")?window:n),this.options=t.extend({},e.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o),this.refresh(),this.process()}function n(n){return this.each(function(){var r=t(this),o=r.data("bs.scrollspy"),i="object"==typeof n&&n;o||r.data("bs.scrollspy",o=new e(this,i)),"string"==typeof n&&o[n]()})}e.VERSION="3.3.2",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var r=this;this.$body.find(this.selector).map(function(){var r=t(this),o=r.data("target")||r.attr("href"),i=/^#./.test(o)&&t(o);return i&&i.length&&i.is(":visible")&&[[i[e]().top+n,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){r.offsets.push(this[0]),r.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,i=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=r)return a!=(t=i[i.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=i[t]&&e>=o[t]&&(!o[t+1]||e<=o[t+1])&&this.activate(i[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',r=t(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var r=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=r,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),o=r.data("bs.tab");o||r.data("bs.tab",o=new n(this)),"string"==typeof e&&o[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),r=e.data("target");if(r||(r=e.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a"),i=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(i),e.trigger(a),!a.isDefaultPrevented()&&!i.isDefaultPrevented()){var s=t(r);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(e,r,o){function i(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=r.find("> .active"),s=o&&t.support.transition&&(a.length&&a.hasClass("fade")||!!r.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),a.removeClass("in")};var r=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=r,this};var o=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),o=r.data("bs.affix"),i="object"==typeof e&&e;o||r.data("bs.affix",o=new n(this,i)),"string"==typeof e&&o[e]()})}var n=function(e,r){this.options=t.extend({},n.DEFAULTS,r),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.2",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,r){var o=this.$target.scrollTop(),i=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>o&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=i.top)&&"bottom":!(t-r>=o+a)&&"bottom";var s=null==this.affixed,l=s?o:i.top,u=s?a:e;return null!=n&&n>=o?"top":null!=r&&l+u>=t-r&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),r=this.options.offset,o=r.top,i=r.bottom,a=t("body").height();"object"!=typeof r&&(i=o=r),"function"==typeof o&&(o=r.top(this.$element)),"function"==typeof i&&(i=r.bottom(this.$element));var s=this.getState(a,e,o,i);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-e-i})}};var r=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=r,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),r=n.data();r.offset=r.offset||{},null!=r.offsetBottom&&(r.offset.bottom=r.offsetBottom),null!=r.offsetTop&&(r.offset.top=r.offsetTop),e.call(n,r)})})}(jQuery),function(t){function e(){var t=a();t!==s&&(s=t,c.trigger("orientationchange"))}function n(e,n,r,o){var i=r.type;r.type=n,t.event.dispatch.call(e,r,o),r.type=i}t.attrFn=t.attrFn||{};var r=navigator.userAgent.toLowerCase(),o=r.indexOf("chrome")>-1&&(r.indexOf("windows")>-1||r.indexOf("macintosh")>-1||r.indexOf("linux")>-1)&&r.indexOf("mobile")<0&&r.indexOf("android")<0,i={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,
touch_capable:"ontouchstart"in window&&!o,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:"ontouchstart"in window&&!o?"touchstart":"mousedown",endevent:"ontouchstart"in window&&!o?"touchend":"mouseup",moveevent:"ontouchstart"in window&&!o?"touchmove":"mousemove",tapevent:"ontouchstart"in window&&!o?"tap":"click",scrollevent:"ontouchstart"in window&&!o?"touchmove":"scroll"};t.isTouchCapable=function(){return i.touch_capable},t.getStartEvent=function(){return i.startevent},t.getEndEvent=function(){return i.endevent},t.getMoveEvent=function(){return i.moveevent},t.getTapEvent=function(){return i.tapevent},t.getScrollEvent=function(){return i.scrollevent},t.each(["tapstart","tapend","tapmove","tap","tap2","tap3","tap4","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange"],function(e,n){t.fn[n]=function(t){return t?this.on(n,t):this.trigger(n)},t.attrFn[n]=!0}),t.event.special.tapstart={setup:function(){var e=this,r=t(e);r.on(i.startevent,function t(o){if(r.data("callee",t),o.which&&1!==o.which)return!1;var a=o.originalEvent,s={position:{x:i.touch_capable?a.touches[0].screenX:o.screenX,y:i.touch_capable?a.touches[0].screenY:o.screenY},offset:{x:i.touch_capable?Math.round(a.changedTouches[0].pageX-r.offset().left):Math.round(o.pageX-r.offset().left),y:i.touch_capable?Math.round(a.changedTouches[0].pageY-r.offset().top):Math.round(o.pageY-r.offset().top)},time:Date.now(),target:o.target};return n(e,"tapstart",o,s),!0})},remove:function(){t(this).off(i.startevent,t(this).data.callee)}},t.event.special.tapmove={setup:function(){var e=this,r=t(e);r.on(i.moveevent,function t(o){r.data("callee",t);var a=o.originalEvent,s={position:{x:i.touch_capable?a.touches[0].screenX:o.screenX,y:i.touch_capable?a.touches[0].screenY:o.screenY},offset:{x:i.touch_capable?Math.round(a.changedTouches[0].pageX-r.offset().left):Math.round(o.pageX-r.offset().left),y:i.touch_capable?Math.round(a.changedTouches[0].pageY-r.offset().top):Math.round(o.pageY-r.offset().top)},time:Date.now(),target:o.target};return n(e,"tapmove",o,s),!0})},remove:function(){t(this).off(i.moveevent,t(this).data.callee)}},t.event.special.tapend={setup:function(){var e=this,r=t(e);r.on(i.endevent,function t(o){r.data("callee",t);var a=o.originalEvent,s={position:{x:i.touch_capable?a.changedTouches[0].screenX:o.screenX,y:i.touch_capable?a.changedTouches[0].screenY:o.screenY},offset:{x:i.touch_capable?Math.round(a.changedTouches[0].pageX-r.offset().left):Math.round(o.pageX-r.offset().left),y:i.touch_capable?Math.round(a.changedTouches[0].pageY-r.offset().top):Math.round(o.pageY-r.offset().top)},time:Date.now(),target:o.target};return n(e,"tapend",o,s),!0})},remove:function(){t(this).off(i.endevent,t(this).data.callee)}},t.event.special.taphold={setup:function(){var e,r,o=this,a=t(o),s={x:0,y:0},l=0,u=0;a.on(i.startevent,function t(c){if(c.which&&1!==c.which)return!1;a.data("tapheld",!1),e=c.target;var f=c.originalEvent,d=Date.now(),h={x:i.touch_capable?f.touches[0].screenX:c.screenX,y:i.touch_capable?f.touches[0].screenY:c.screenY},p={x:i.touch_capable?f.touches[0].pageX-f.touches[0].target.offsetLeft:c.offsetX,y:i.touch_capable?f.touches[0].pageY-f.touches[0].target.offsetTop:c.offsetY};return s.x=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageX:c.pageX,s.y=c.originalEvent.targetTouches?c.originalEvent.targetTouches[0].pageY:c.pageY,l=s.x,u=s.y,r=window.setTimeout(function(){var r=s.x-l,g=s.y-u;if(c.target==e&&(s.x==l&&s.y==u||r>=-i.tap_pixel_range&&r<=i.tap_pixel_range&&g>=-i.tap_pixel_range&&g<=i.tap_pixel_range)){a.data("tapheld",!0);var m=Date.now(),v={x:i.touch_capable?f.touches[0].screenX:c.screenX,y:i.touch_capable?f.touches[0].screenY:c.screenY},y={x:i.touch_capable?Math.round(f.changedTouches[0].pageX-a.offset().left):Math.round(c.pageX-a.offset().left),y:i.touch_capable?Math.round(f.changedTouches[0].pageY-a.offset().top):Math.round(c.pageY-a.offset().top)},_=m-d,b={startTime:d,endTime:m,startPosition:h,startOffset:p,endPosition:v,endOffset:y,duration:_,target:c.target};a.data("callee1",t),n(o,"taphold",c,b)}},i.taphold_threshold),!0}).on(i.endevent,function t(){a.data("callee2",t),a.data("tapheld",!1),window.clearTimeout(r)}).on(i.moveevent,function t(e){a.data("callee3",t),l=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,u=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY})},remove:function(){t(this).off(i.startevent,t(this).data.callee1).off(i.endevent,t(this).data.callee2).off(i.moveevent,t(this).data.callee3)}},t.event.special.doubletap={setup:function(){var e,r,o,a,s,l=this,u=t(l),c=null,f=!1;u.on(i.startevent,function t(n){return(!n.which||1===n.which)&&(u.data("doubletapped",!1),e=n.target,u.data("callee1",t),o=n.originalEvent,c||(c={position:{x:i.touch_capable?o.touches[0].screenX:n.screenX,y:i.touch_capable?o.touches[0].screenY:n.screenY},offset:{x:i.touch_capable?Math.round(o.changedTouches[0].pageX-u.offset().left):Math.round(n.pageX-u.offset().left),y:i.touch_capable?Math.round(o.changedTouches[0].pageY-u.offset().top):Math.round(n.pageY-u.offset().top)},time:Date.now(),target:n.target}),!0)}).on(i.endevent,function t(d){var h=Date.now(),p=u.data("lastTouch")||h+1,g=h-p;if(window.clearTimeout(r),u.data("callee2",t),g<i.doubletap_int&&d.target==e&&g>100){u.data("doubletapped",!0),window.clearTimeout(s);var m={position:{x:i.touch_capable?d.originalEvent.changedTouches[0].screenX:d.screenX,y:i.touch_capable?d.originalEvent.changedTouches[0].screenY:d.screenY},offset:{x:i.touch_capable?Math.round(o.changedTouches[0].pageX-u.offset().left):Math.round(d.pageX-u.offset().left),y:i.touch_capable?Math.round(o.changedTouches[0].pageY-u.offset().top):Math.round(d.pageY-u.offset().top)},time:Date.now(),target:d.target},v={firstTap:c,secondTap:m,interval:m.time-c.time};f||(n(l,"doubletap",d,v),c=null),f=!0,a=window.setTimeout(function(){f=!1},i.doubletap_int)}else u.data("lastTouch",h),r=window.setTimeout(function(){c=null,window.clearTimeout(r)},i.doubletap_int,[d]);u.data("lastTouch",h)})},remove:function(){t(this).off(i.startevent,t(this).data.callee1).off(i.endevent,t(this).data.callee2)}},t.event.special.singletap={setup:function(){var e=this,r=t(e),o=null,a=null,s={x:0,y:0};r.on(i.startevent,function t(e){return(!e.which||1===e.which)&&(a=Date.now(),o=e.target,r.data("callee1",t),s.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,s.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,!0)}).on(i.endevent,function t(l){if(r.data("callee2",t),l.target==o){var u=l.originalEvent.changedTouches?l.originalEvent.changedTouches[0].pageX:l.pageX,c=l.originalEvent.changedTouches?l.originalEvent.changedTouches[0].pageY:l.pageY;tapTimer=window.setTimeout(function(){if(!r.data("doubletapped")&&!r.data("tapheld")&&s.x==u&&s.y==c){var t=l.originalEvent,o={position:{x:i.touch_capable?t.changedTouches[0].screenX:l.screenX,y:i.touch_capable?t.changedTouches[0].screenY:l.screenY},offset:{x:i.touch_capable?Math.round(t.changedTouches[0].pageX-r.offset().left):Math.round(l.pageX-r.offset().left),y:i.touch_capable?Math.round(t.changedTouches[0].pageY-r.offset().top):Math.round(l.pageY-r.offset().top)},time:Date.now(),target:l.target};o.time-a<i.taphold_threshold&&n(e,"singletap",l,o)}},i.doubletap_int)}})},remove:function(){t(this).off(i.startevent,t(this).data.callee1).off(i.endevent,t(this).data.callee2)}},t.event.special.tap={setup:function(){var e,r,o=this,a=t(o),s=!1,l=null,u={x:0,y:0};a.on(i.startevent,function t(n){return a.data("callee1",t),(!n.which||1===n.which)&&(s=!0,u.x=n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageX:n.pageX,u.y=n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageY:n.pageY,e=Date.now(),l=n.target,r=n.originalEvent.targetTouches?n.originalEvent.targetTouches:[n],!0)}).on(i.endevent,function t(c){a.data("callee2",t);var f=c.originalEvent.targetTouches?c.originalEvent.changedTouches[0].pageX:c.pageX,d=c.originalEvent.targetTouches?c.originalEvent.changedTouches[0].pageY:c.pageY,h=u.x-f,p=u.y-d;if(l==c.target&&s&&Date.now()-e<i.taphold_threshold&&(u.x==f&&u.y==d||h>=-i.tap_pixel_range&&h<=i.tap_pixel_range&&p>=-i.tap_pixel_range&&p<=i.tap_pixel_range)){for(var g=c.originalEvent,m=[],v=0;v<r.length;v++){var y={position:{x:i.touch_capable?g.changedTouches[v].screenX:c.screenX,y:i.touch_capable?g.changedTouches[v].screenY:c.screenY},offset:{x:i.touch_capable?Math.round(g.changedTouches[v].pageX-a.offset().left):Math.round(c.pageX-a.offset().left),y:i.touch_capable?Math.round(g.changedTouches[v].pageY-a.offset().top):Math.round(c.pageY-a.offset().top)},time:Date.now(),target:c.target};m.push(y)}n(o,"tap",c,m)}})},remove:function(){t(this).off(i.startevent,t(this).data.callee1).off(i.endevent,t(this).data.callee2)}},t.event.special.swipe={setup:function(){function e(n){s=t(n.currentTarget),s.data("callee1",e),c.x=n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageX:n.pageX,c.y=n.originalEvent.targetTouches?n.originalEvent.targetTouches[0].pageY:n.pageY,f.x=c.x,f.y=c.y,l=!0;var r=n.originalEvent;o={position:{x:i.touch_capable?r.touches[0].screenX:n.screenX,y:i.touch_capable?r.touches[0].screenY:n.screenY},offset:{x:i.touch_capable?Math.round(r.changedTouches[0].pageX-s.offset().left):Math.round(n.pageX-s.offset().left),y:i.touch_capable?Math.round(r.changedTouches[0].pageY-s.offset().top):Math.round(n.pageY-s.offset().top)},time:Date.now(),target:n.target}}function n(e){s=t(e.currentTarget),s.data("callee2",n),f.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,f.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY;var r,a=s.parent().data("xthreshold")?s.parent().data("xthreshold"):s.data("xthreshold"),d=s.parent().data("ythreshold")?s.parent().data("ythreshold"):s.data("ythreshold"),h=void 0!==a&&!1!==a&&parseInt(a)?parseInt(a):i.swipe_h_threshold,p=void 0!==d&&!1!==d&&parseInt(d)?parseInt(d):i.swipe_v_threshold;if(c.y>f.y&&c.y-f.y>p&&(r="swipeup"),c.x<f.x&&f.x-c.x>h&&(r="swiperight"),c.y<f.y&&f.y-c.y>p&&(r="swipedown"),c.x>f.x&&c.x-f.x>h&&(r="swipeleft"),r!=undefined&&l){c.x=0,c.y=0,f.x=0,f.y=0,l=!1;var g=e.originalEvent,m={position:{x:i.touch_capable?g.touches[0].screenX:e.screenX,y:i.touch_capable?g.touches[0].screenY:e.screenY},offset:{x:i.touch_capable?Math.round(g.changedTouches[0].pageX-s.offset().left):Math.round(e.pageX-s.offset().left),y:i.touch_capable?Math.round(g.changedTouches[0].pageY-s.offset().top):Math.round(e.pageY-s.offset().top)},time:Date.now(),target:e.target},v=Math.abs(o.position.x-m.position.x),y=Math.abs(o.position.y-m.position.y),_={startEvnt:o,endEvnt:m,direction:r.replace("swipe",""),xAmount:v,yAmount:y,duration:m.time-o.time};u=!0,s.trigger("swipe",_).trigger(r,_)}}function r(e){s=t(e.currentTarget);var n="";if(s.data("callee3",r),u){var a=s.data("xthreshold"),c=s.data("ythreshold"),f=void 0!==a&&!1!==a&&parseInt(a)?parseInt(a):i.swipe_h_threshold,d=void 0!==c&&!1!==c&&parseInt(c)?parseInt(c):i.swipe_v_threshold,h=e.originalEvent,p={position:{x:i.touch_capable?h.changedTouches[0].screenX:e.screenX,y:i.touch_capable?h.changedTouches[0].screenY:e.screenY},offset:{x:i.touch_capable?Math.round(h.changedTouches[0].pageX-s.offset().left):Math.round(e.pageX-s.offset().left),y:i.touch_capable?Math.round(h.changedTouches[0].pageY-s.offset().top):Math.round(e.pageY-s.offset().top)},time:Date.now(),target:e.target};o.position.y>p.position.y&&o.position.y-p.position.y>d&&(n="swipeup"),o.position.x<p.position.x&&p.position.x-o.position.x>f&&(n="swiperight"),o.position.y<p.position.y&&p.position.y-o.position.y>d&&(n="swipedown"),o.position.x>p.position.x&&o.position.x-p.position.x>f&&(n="swipeleft");var g=Math.abs(o.position.x-p.position.x),m=Math.abs(o.position.y-p.position.y),v={startEvnt:o,endEvnt:p,direction:n.replace("swipe",""),xAmount:g,yAmount:m,duration:p.time-o.time};s.trigger("swipeend",v)}l=!1,u=!1}var o,a=this,s=t(a),l=!1,u=!1,c={x:0,y:0},f={x:0,y:0};s.on(i.startevent,e),s.on(i.moveevent,n),s.on(i.endevent,r)},remove:function(){t(this).off(i.startevent,t(this).data.callee1).off(i.moveevent,t(this).data.callee2).off(i.endevent,t(this).data.callee3)}},t.event.special.scrollstart={setup:function(){function e(t,e){r=e,n(a,r?"scrollstart":"scrollend",t)}var r,o,a=this,s=t(a);s.on(i.scrollevent,function t(n){s.data("callee",t),r||e(n,!0),clearTimeout(o),o=setTimeout(function(){e(n,!1)},50)})},remove:function(){t(this).off(i.scrollevent,t(this).data.callee)}};var a,s,l,u,c=t(window),f={0:!0,180:!0};if(i.orientation_support){var d=window.innerWidth||c.width(),h=window.innerHeight||c.height();l=d>h&&d-h>50,u=f[window.orientation],(l&&u||!l&&!u)&&(f={"-90":!0,90:!0})}t.event.special.orientationchange={setup:function(){return!i.orientation_support&&(s=a(),c.on("throttledresize",e),!0)},teardown:function(){return!i.orientation_support&&(c.off("throttledresize",e),!0)},add:function(t){var e=t.handler;t.handler=function(t){return t.orientation=a(),e.apply(this,arguments)}}},t.event.special.orientationchange.orientation=a=function(){var t=!0,e=document.documentElement;return t=i.orientation_support?f[window.orientation]:e&&e.clientWidth/e.clientHeight<1.1,t?"portrait":"landscape"},t.event.special.throttledresize={setup:function(){t(this).on("resize",y)},teardown:function(){t(this).off("resize",y)}};var p,g,m,v=250,y=function(){g=Date.now(),m=g-_,m>=v?(_=g,t(this).trigger("throttledresize")):(p&&window.clearTimeout(p),p=window.setTimeout(e,v-m))},_=0;t.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap"},function(e,n){t.event.special[e]={setup:function(){t(this).on(n,t.noop)}}})}(jQuery),function(){var t=this,e=t._,n=Array.prototype,r=Object.prototype,o=Function.prototype,i=n.push,a=n.slice,s=n.concat,l=r.toString,u=r.hasOwnProperty,c=Array.isArray,f=Object.keys,d=o.bind,h=function(t){return t instanceof h?t:this instanceof h?void(this._wrapped=t):new h(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=h),exports._=h):t._=h,h.VERSION="1.7.0";var p=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return function(){return t.apply(e,arguments)}};h.iteratee=function(t,e,n){return null==t?h.identity:h.isFunction(t)?p(t,e,n):h.isObject(t)?h.matches(t):h.property(t)},h.each=h.forEach=function(t,e,n){if(null==t)return t;e=p(e,n);var r,o=t.length;if(o===+o)for(r=0;o>r;r++)e(t[r],r,t);else{var i=h.keys(t);for(r=0,o=i.length;o>r;r++)e(t[i[r]],i[r],t)}return t},h.map=h.collect=function(t,e,n){if(null==t)return[];e=h.iteratee(e,n);for(var r,o=t.length!==+t.length&&h.keys(t),i=(o||t).length,a=Array(i),s=0;i>s;s++)r=o?o[s]:s,a[s]=e(t[r],r,t);return a};var g="Reduce of empty array with no initial value";h.reduce=h.foldl=h.inject=function(t,e,n,r){null==t&&(t=[]),e=p(e,r,4);var o,i=t.length!==+t.length&&h.keys(t),a=(i||t).length,s=0;if(arguments.length<3){if(!a)throw new TypeError(g);n=t[i?i[s++]:s++]}for(;a>s;s++)o=i?i[s]:s,n=e(n,t[o],o,t);return n},h.reduceRight=h.foldr=function(t,e,n,r){null==t&&(t=[]),e=p(e,r,4);var o,i=t.length!==+t.length&&h.keys(t),a=(i||t).length;if(arguments.length<3){if(!a)throw new TypeError(g);n=t[i?i[--a]:--a]}for(;a--;)o=i?i[a]:a,n=e(n,t[o],o,t);return n},h.find=h.detect=function(t,e,n){var r;return e=h.iteratee(e,n),h.some(t,function(t,n,o){return e(t,n,o)?(r=t,!0):void 0}),r},h.filter=h.select=function(t,e,n){var r=[];return null==t?r:(e=h.iteratee(e,n),h.each(t,function(t,n,o){e(t,n,o)&&r.push(t)}),r)},h.reject=function(t,e,n){return h.filter(t,h.negate(h.iteratee(e)),n)},h.every=h.all=function(t,e,n){if(null==t)return!0;e=h.iteratee(e,n);var r,o,i=t.length!==+t.length&&h.keys(t),a=(i||t).length;for(r=0;a>r;r++)if(o=i?i[r]:r,!e(t[o],o,t))return!1;return!0},h.some=h.any=function(t,e,n){if(null==t)return!1;e=h.iteratee(e,n);var r,o,i=t.length!==+t.length&&h.keys(t),a=(i||t).length;for(r=0;a>r;r++)if(o=i?i[r]:r,e(t[o],o,t))return!0;return!1},h.contains=h.include=function(t,e){return null!=t&&(t.length!==+t.length&&(t=h.values(t)),h.indexOf(t,e)>=0)},h.invoke=function(t,e){var n=a.call(arguments,2),r=h.isFunction(e);return h.map(t,function(t){return(r?e:t[e]).apply(t,n)})},h.pluck=function(t,e){return h.map(t,h.property(e))},h.where=function(t,e){return h.filter(t,h.matches(e))},h.findWhere=function(t,e){return h.find(t,h.matches(e))},h.max=function(t,e,n){var r,o,i=-1/0,a=-1/0;if(null==e&&null!=t){t=t.length===+t.length?t:h.values(t);for(var s=0,l=t.length;l>s;s++)(r=t[s])>i&&(i=r)}else e=h.iteratee(e,n),h.each(t,function(t,n,r){((o=e(t,n,r))>a||o===-1/0&&i===-1/0)&&(i=t,a=o)});return i},h.min=function(t,e,n){var r,o,i=1/0,a=1/0;if(null==e&&null!=t){t=t.length===+t.length?t:h.values(t);for(var s=0,l=t.length;l>s;s++)r=t[s],i>r&&(i=r)}else e=h.iteratee(e,n),h.each(t,function(t,n,r){o=e(t,n,r),(a>o||1/0===o&&1/0===i)&&(i=t,a=o)});return i},h.shuffle=function(t){for(var e,n=t&&t.length===+t.length?t:h.values(t),r=n.length,o=Array(r),i=0;r>i;i++)e=h.random(0,i),e!==i&&(o[i]=o[e]),o[e]=n[i];return o},h.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=h.values(t)),t[h.random(t.length-1)]):h.shuffle(t).slice(0,Math.max(0,e))},h.sortBy=function(t,e,n){return e=h.iteratee(e,n),h.pluck(h.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var m=function(t){return function(e,n,r){var o={};return n=h.iteratee(n,r),h.each(e,function(r,i){var a=n(r,i,e);t(o,r,a)}),o}};h.groupBy=m(function(t,e,n){h.has(t,n)?t[n].push(e):t[n]=[e]}),h.indexBy=m(function(t,e,n){t[n]=e}),h.countBy=m(function(t,e,n){h.has(t,n)?t[n]++:t[n]=1}),h.sortedIndex=function(t,e,n,r){n=h.iteratee(n,r,1);for(var o=n(e),i=0,a=t.length;a>i;){var s=i+a>>>1;n(t[s])<o?i=s+1:a=s}return i},h.toArray=function(t){return t?h.isArray(t)?a.call(t):t.length===+t.length?h.map(t,h.identity):h.values(t):[]},h.size=function(t){return null==t?0:t.length===+t.length?t.length:h.keys(t).length},h.partition=function(t,e,n){e=h.iteratee(e,n);var r=[],o=[];return h.each(t,function(t,n,i){(e(t,n,i)?r:o).push(t)}),[r,o]},h.first=h.head=h.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:a.call(t,0,e)},h.initial=function(t,e,n){return a.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},h.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},h.rest=h.tail=h.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},h.compact=function(t){return h.filter(t,h.identity)};var v=function(t,e,n,r){if(e&&h.every(t,h.isArray))return s.apply(r,t);for(var o=0,a=t.length;a>o;o++){var l=t[o];h.isArray(l)||h.isArguments(l)?e?i.apply(r,l):v(l,e,n,r):n||r.push(l)}return r};h.flatten=function(t,e){return v(t,e,!1,[])},h.without=function(t){return h.difference(t,a.call(arguments,1))},h.uniq=h.unique=function(t,e,n,r){if(null==t)return[];h.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=h.iteratee(n,r));for(var o=[],i=[],a=0,s=t.length;s>a;a++){var l=t[a];if(e)a&&i===l||o.push(l),i=l;else if(n){var u=n(l,a,t);h.indexOf(i,u)<0&&(i.push(u),o.push(l))}else h.indexOf(o,l)<0&&o.push(l)}return o},h.union=function(){return h.uniq(v(arguments,!0,!0,[]))},h.intersection=function(t){if(null==t)return[];for(var e=[],n=arguments.length,r=0,o=t.length;o>r;r++){var i=t[r];if(!h.contains(e,i)){for(var a=1;n>a&&h.contains(arguments[a],i);a++);a===n&&e.push(i)}}return e},h.difference=function(t){var e=v(a.call(arguments,1),!0,!0,[]);return h.filter(t,function(t){return!h.contains(e,t)})},h.zip=function(t){if(null==t)return[];for(var e=h.max(arguments,"length").length,n=Array(e),r=0;e>r;r++)n[r]=h.pluck(arguments,r);return n},h.object=function(t,e){if(null==t)return{};for(var n={},r=0,o=t.length;o>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},h.indexOf=function(t,e,n){if(null==t)return-1;var r=0,o=t.length;if(n){if("number"!=typeof n)return r=h.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,o+n):n}for(;o>r;r++)if(t[r]===e)return r;return-1},h.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=t.length;for("number"==typeof n&&(r=0>n?r+n+1:Math.min(r,n+1));--r>=0;)if(t[r]===e)return r;return-1},h.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;r>i;i++,t+=n)o[i]=t;return o};var y=function(){};h.bind=function(t,e){var n,r;if(d&&t.bind===d)return d.apply(t,a.call(arguments,1));if(!h.isFunction(t))throw new TypeError("Bind must be called on a function");return n=a.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(a.call(arguments)));y.prototype=t.prototype;var o=new y;y.prototype=null;var i=t.apply(o,n.concat(a.call(arguments)));return h.isObject(i)?i:o}},h.partial=function(t){var e=a.call(arguments,1);return function(){for(var n=0,r=e.slice(),o=0,i=r.length;i>o;o++)r[o]===h&&(r[o]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return t.apply(this,r)}},h.bindAll=function(t){var e,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(e=1;r>e;e++)n=arguments[e],t[n]=h.bind(t[n],t);return t},h.memoize=function(t,e){var n=function(r){var o=n.cache,i=e?e.apply(this,arguments):r;return h.has(o,i)||(o[i]=t.apply(this,arguments)),o[i]};return n.cache={},n},h.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},h.defer=function(t){return h.delay.apply(h,[t,1].concat(a.call(arguments,1)))},h.throttle=function(t,e,n){var r,o,i,a=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:h.now(),a=null,i=t.apply(r,o),a||(r=o=null)};return function(){var u=h.now();s||!1!==n.leading||(s=u);var c=e-(u-s);return r=this,o=arguments,0>=c||c>e?(clearTimeout(a),a=null,s=u,i=t.apply(r,o),a||(r=o=null)):a||!1===n.trailing||(a=setTimeout(l,c)),i}},h.debounce=function(t,e,n){var r,o,i,a,s,l=function(){var u=h.now()-a;e>u&&u>0?r=setTimeout(l,e-u):(r=null,n||(s=t.apply(i,o),r||(i=o=null)))};return function(){i=this,o=arguments,a=h.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(s=t.apply(i,o),i=o=null),s}},h.wrap=function(t,e){return h.partial(e,t)},h.negate=function(t){return function(){return!t.apply(this,arguments)}},h.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},h.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},h.before=function(t,e){var n;return function(){return--t>0?n=e.apply(this,arguments):e=null,n}},h.once=h.partial(h.before,2),h.keys=function(t){if(!h.isObject(t))return[];if(f)return f(t);var e=[];for(var n in t)h.has(t,n)&&e.push(n);return e},h.values=function(t){for(var e=h.keys(t),n=e.length,r=Array(n),o=0;n>o;o++)r[o]=t[e[o]];return r},h.pairs=function(t){for(var e=h.keys(t),n=e.length,r=Array(n),o=0;n>o;o++)r[o]=[e[o],t[e[o]]];return r},h.invert=function(t){for(var e={},n=h.keys(t),r=0,o=n.length;o>r;r++)e[t[n[r]]]=n[r];return e},h.functions=h.methods=function(t){var e=[];for(var n in t)h.isFunction(t[n])&&e.push(n);return e.sort()},h.extend=function(t){if(!h.isObject(t))return t;for(var e,n,r=1,o=arguments.length;o>r;r++){e=arguments[r];for(n in e)u.call(e,n)&&(t[n]=e[n])}return t},h.pick=function(t,e,n){var r,o={};if(null==t)return o;if(h.isFunction(e)){e=p(e,n);for(r in t){var i=t[r];e(i,r,t)&&(o[r]=i)}}else{var l=s.apply([],a.call(arguments,1));t=new Object(t);for(var u=0,c=l.length;c>u;u++)(r=l[u])in t&&(o[r]=t[r])}return o},h.omit=function(t,e,n){if(h.isFunction(e))e=h.negate(e);else{var r=h.map(s.apply([],a.call(arguments,1)),String);e=function(t,e){return!h.contains(r,e)}}return h.pick(t,e,n)},h.defaults=function(t){if(!h.isObject(t))return t;for(var e=1,n=arguments.length;n>e;e++){var r=arguments[e];for(var o in r)void 0===t[o]&&(t[o]=r[o])}return t},h.clone=function(t){return h.isObject(t)?h.isArray(t)?t.slice():h.extend({},t):t},h.tap=function(t,e){return e(t),t};var _=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof h&&(t=t._wrapped),e instanceof h&&(e=e._wrapped);var o=l.call(t);if(o!==l.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}if("object"!=typeof t||"object"!=typeof e)return!1;for(var i=n.length;i--;)if(n[i]===t)return r[i]===e;var a=t.constructor,s=e.constructor;if(a!==s&&"constructor"in t&&"constructor"in e&&!(h.isFunction(a)&&a instanceof a&&h.isFunction(s)&&s instanceof s))return!1;n.push(t),r.push(e);var u,c;if("[object Array]"===o){if(u=t.length,c=u===e.length)for(;u--&&(c=_(t[u],e[u],n,r)););}else{var f,d=h.keys(t);if(u=d.length,c=h.keys(e).length===u)for(;u--&&(f=d[u],c=h.has(e,f)&&_(t[f],e[f],n,r)););}return n.pop(),r.pop(),c};h.isEqual=function(t,e){return _(t,e,[],[])},h.isEmpty=function(t){if(null==t)return!0;if(h.isArray(t)||h.isString(t)||h.isArguments(t))return 0===t.length;for(var e in t)if(h.has(t,e))return!1;return!0},h.isElement=function(t){return!(!t||1!==t.nodeType)},h.isArray=c||function(t){return"[object Array]"===l.call(t)},h.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},h.each(["Arguments","Function","String","Number","Date","RegExp"],function(t){h["is"+t]=function(e){return l.call(e)==="[object "+t+"]"}}),h.isArguments(arguments)||(h.isArguments=function(t){return h.has(t,"callee")}),"function"!=typeof/./&&(h.isFunction=function(t){return"function"==typeof t||!1}),h.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},h.isNaN=function(t){return h.isNumber(t)&&t!==+t},h.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===l.call(t)},h.isNull=function(t){return null===t},h.isUndefined=function(t){return void 0===t},h.has=function(t,e){return null!=t&&u.call(t,e)},h.noConflict=function(){return t._=e,this},h.identity=function(t){return t},h.constant=function(t){return function(){return t}},h.noop=function(){},h.property=function(t){return function(e){return e[t]}},h.matches=function(t){var e=h.pairs(t),n=e.length;return function(t){if(null==t)return!n;t=new Object(t);for(var r=0;n>r;r++){var o=e[r],i=o[0];if(o[1]!==t[i]||!(i in t))return!1}return!0}},h.times=function(t,e,n){var r=Array(Math.max(0,t));e=p(e,n,1);for(var o=0;t>o;o++)r[o]=e(o);return r},h.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},h.now=Date.now||function(){return(new Date).getTime()};var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},w=h.invert(b),k=function(t){var e=function(e){return t[e]},n="(?:"+h.keys(t).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(o,e):t}};h.escape=k(b),h.unescape=k(w),h.result=function(t,e){if(null!=t){var n=t[e];return h.isFunction(n)?t[e]():n}};var x=0;h.uniqueId=function(t){var e=++x+"";return t?t+e:e},h.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/(.)^/,T={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},E=/\\|'|\r|\n|\u2028|\u2029/g,S=function(t){return"\\"+T[t]};h.template=function(t,e,n){!e&&n&&(e=n),e=h.defaults({},e,h.templateSettings);var r=RegExp([(e.escape||C).source,(e.interpolate||C).source,(e.evaluate||C).source].join("|")+"|$","g"),o=0,i="__p+='";t.replace(r,function(e,n,r,a,s){return i+=t.slice(o,s).replace(E,S),o=s+e.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),e}),i+="';\n",e.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var a=new Function(e.variable||"obj","_",i)}catch(t){throw t.source=i,t}var s=function(t){return a.call(this,t,h)},l=e.variable||"obj";return s.source="function("+l+"){\n"+i+"}",s},h.chain=function(t){var e=h(t);return e._chain=!0,e};var A=function(t){return this._chain?h(t).chain():t};h.mixin=function(t){h.each(h.functions(t),function(e){var n=h[e]=t[e];h.prototype[e]=function(){var t=[this._wrapped];return i.apply(t,arguments),A.call(this,n.apply(h,t))}})},h.mixin(h),h.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];h.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],A.call(this,n)}}),h.each(["concat","join","slice"],function(t){var e=n[t];h.prototype[t]=function(){return A.call(this,e.apply(this._wrapped,arguments))}}),h.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return h})}.call(this),function(t,e){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,r,o){t.Backbone=e(t,o,n,r)});else if("undefined"!=typeof exports){var n=require("underscore");e(t,exports,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,n,r){var o=t.Backbone,i=[],a=(i.push,i.slice);i.splice;e.VERSION="1.1.2",e.$=r,e.noConflict=function(){return t.Backbone=o,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=e.Events={on:function(t,e,n){return u(this,"on",t,[e,n])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},once:function(t,e,r){if(!u(this,"once",t,[e,r])||!e)return this;var o=this,i=n.once(function(){o.off(t,i),e.apply(this,arguments)});return i._callback=e,this.on(t,i,r)},off:function(t,e,r){var o,i,a,s,l,c,f,d;if(!this._events||!u(this,"off",t,[e,r]))return this;if(!t&&!e&&!r)return this._events=void 0,this;for(s=t?[t]:n.keys(this._events),l=0,c=s.length;l<c;l++)if(t=s[l],a=this._events[t]){if(this._events[t]=o=[],e||r)for(f=0,d=a.length;f<d;f++)i=a[f],(e&&e!==i.callback&&e!==i.callback._callback||r&&r!==i.context)&&o.push(i);o.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=a.call(arguments,1);if(!u(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&c(n,e),r&&c(r,arguments),this},stopListening:function(t,e,r){var o=this._listeningTo;if(!o)return this;var i=!e&&!r;r||"object"!=typeof e||(r=this),t&&((o={})[t._listenId]=t);for(var a in o)t=o[a],t.off(e,r,this),(i||n.isEmpty(t._events))&&delete this._listeningTo[a];return this}},l=/\s+/,u=function(t,e,n,r){if(!n)return!0;if("object"==typeof n){for(var o in n)t[e].apply(t,[o,n[o]].concat(r));return!1}if(l.test(n)){for(var i=n.split(l),a=0,s=i.length;a<s;a++)t[e].apply(t,[i[a]].concat(r));return!1}return!0},c=function(t,e){var n,r=-1,o=t.length,i=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<o;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<o;)(n=t[r]).callback.call(n.ctx,i);return;case 2:for(;++r<o;)(n=t[r]).callback.call(n.ctx,i,a);return;case 3:for(;++r<o;)(n=t[r]).callback.call(n.ctx,i,a,s);return;default:for(;++r<o;)(n=t[r]).callback.apply(n.ctx,e);return}},f={listenTo:"on",listenToOnce:"once"};n.each(f,function(t,e){s[e]=function(e,r,o){return(this._listeningTo||(this._listeningTo={}))[e._listenId||(e._listenId=n.uniqueId("l"))]=e,o||"object"!=typeof r||(o=this),e[t](r,o,this),this}}),s.bind=s.on,s.unbind=s.off,n.extend(e,s);var d=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(d.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,r){var o,i,a,s,l,u,c,f;if(null==t)return this;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;a=r.unset,l=r.silent,s=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={}),f=this.attributes,c=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute])
;for(o in i)e=i[o],n.isEqual(f[o],e)||s.push(o),n.isEqual(c[o],e)?delete this.changed[o]:this.changed[o]=e,a?delete f[o]:f[o]=e;if(!l){s.length&&(this._pending=r);for(var d=0,h=s.length;d<h;d++)this.trigger("change:"+s[d],this,f[s[d]],r)}if(u)return this;if(!l)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e,r=!1,o=this._changing?this._previousAttributes:this.attributes;for(var i in t)n.isEqual(o[i],e=t[i])||((r||(r={}))[i]=e);return r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,r=t.success;return t.success=function(n){if(!e.set(e.parse(n,t),t))return!1;r&&r(e,n,t),e.trigger("sync",e,n,t)},$(this,t),this.sync("read",this,t)},save:function(t,e,r){var o,i,a,s=this.attributes;if(null==t||"object"==typeof t?(o=t,r=e):(o={})[t]=e,r=n.extend({validate:!0},r),o&&!r.wait){if(!this.set(o,r))return!1}else if(!this._validate(o,r))return!1;o&&r.wait&&(this.attributes=n.extend({},s,o)),void 0===r.parse&&(r.parse=!0);var l=this,u=r.success;return r.success=function(t){l.attributes=s;var e=l.parse(t,r);if(r.wait&&(e=n.extend(o||{},e)),n.isObject(e)&&!l.set(e,r))return!1;u&&u(l,t,r),l.trigger("sync",l,t,r)},$(this,r),i=this.isNew()?"create":r.patch?"patch":"update","patch"===i&&(r.attrs=o),a=this.sync(i,this,r),o&&r.wait&&(this.attributes=s),a},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,o=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&o(),r&&r(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;$(this,t);var i=this.sync("delete",this,t);return t.wait||o(),i},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}});var h=["keys","values","pairs","invert","pick","omit"];n.each(h,function(t){d.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}});var p=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},g={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1};n.extend(p.prototype,s,{model:d,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,m))},remove:function(t,e){var r=!n.isArray(t);t=r?[t]:n.clone(t),e||(e={});var o,i,a,s;for(o=0,i=t.length;o<i;o++)(s=t[o]=this.get(t[o]))&&(delete this._byId[s.id],delete this._byId[s.cid],a=this.indexOf(s),this.models.splice(a,1),this.length--,e.silent||(e.index=a,s.trigger("remove",s,this,e)),this._removeReference(s,e));return r?t[0]:t},set:function(t,e){e=n.defaults({},e,g),e.parse&&(t=this.parse(t,e));var r=!n.isArray(t);t=r?t?[t]:[]:n.clone(t);var o,i,a,s,l,u,c,f=e.at,h=this.model,p=this.comparator&&null==f&&!1!==e.sort,m=n.isString(this.comparator)?this.comparator:null,v=[],y=[],_={},b=e.add,w=e.merge,k=e.remove,x=!(p||!b||!k)&&[];for(o=0,i=t.length;o<i;o++){if(l=t[o]||{},a=l instanceof d?s=l:l[h.prototype.idAttribute||"id"],u=this.get(a))k&&(_[u.cid]=!0),w&&(l=l===s?s.attributes:l,e.parse&&(l=u.parse(l,e)),u.set(l,e),p&&!c&&u.hasChanged(m)&&(c=!0)),t[o]=u;else if(b){if(!(s=t[o]=this._prepareModel(l,e)))continue;v.push(s),this._addReference(s,e)}s=u||s,!x||!s.isNew()&&_[s.id]||x.push(s),_[s.id]=!0}if(k){for(o=0,i=this.length;o<i;++o)_[(s=this.models[o]).cid]||y.push(s);y.length&&this.remove(y,e)}if(v.length||x&&x.length)if(p&&(c=!0),this.length+=v.length,null!=f)for(o=0,i=v.length;o<i;o++)this.models.splice(f+o,0,v[o]);else{x&&(this.models.length=0);var C=x||v;for(o=0,i=C.length;o<i;o++)this.models.push(C[o])}if(c&&this.sort({silent:!0}),!e.silent){for(o=0,i=v.length;o<i;o++)(s=v[o]).trigger("add",s,this,e);(c||x&&x.length)&&this.trigger("sort",this,e)}return r?t[0]:t},reset:function(t,e){e||(e={});for(var r=0,o=this.models.length;r<o;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return a.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return n.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,r=this;return t.success=function(n){var o=t.reset?"reset":"set";r[o](n,t),e&&e(r,n,t),r.trigger("sync",r,n,t)},$(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var r=this,o=e.success;return e.success=function(t,n){e.wait&&r.add(t,e),o&&o(t,n,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof d)return t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_addReference:function(t){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,r),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(t){p.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(t){p.prototype[t]=function(e,r){var o=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,o,r)}});var _=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,w)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];n.extend(_.prototype,s,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],!1!==n&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[t[e]]),r){var o=e.match(b),i=o[1],a=o[2];r=n.bind(r,this),i+=".delegateEvents"+this.cid,""===a?this.$el.on(i,r):this.$el.on(i,a,r)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className"));var r=e.$("<"+n.result(this,"tagName")+">").attr(t);this.setElement(r,!1)}}}),e.sync=function(t,r,o){var i=x[t];n.defaults(o||(o={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:i,dataType:"json"};if(o.url||(a.url=n.result(r,"url")||F()),null!=o.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(o.attrs||r.toJSON(o))),o.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),o.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){a.type="POST",o.emulateJSON&&(a.data._method=i);var s=o.beforeSend;o.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",i),s)return s.apply(this,arguments)}}"GET"===a.type||o.emulateJSON||(a.processData=!1),"PATCH"===a.type&&k&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=o.xhr=e.ajax(n.extend(a,o));return r.trigger("request",r,l,o),l};var k=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var C=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,S=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,s,{initialize:function(){},route:function(t,r,o){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(o=r,r=""),o||(o=this[r]);var i=this;return e.history.route(t,function(n){var a=i._extractParameters(t,n);i.execute(o,a),i.trigger.apply(i,["route:"+r].concat(a)),i.trigger("route",r,a),e.history.trigger("route",i,r,a)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(A,"\\$&").replace(T,"(?:$1)?").replace(E,function(t,e){return e?t:"([^/?]+)"}).replace(S,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var D=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,L=/msie [\w.]+/,I=/\/$/,R=/#.*$/;D.started=!1,n.extend(D.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(I,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(M,"")},start:function(t){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),o=document.documentMode,i=L.exec(navigator.userAgent.toLowerCase())&&(!o||o<=7);if(this.root=("/"+this.root+"/").replace(N,"/"),i&&this._wantsHashChange){var a=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var s=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&s.hash&&(this.fragment=this.getHash().replace(M,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0})},navigate:function(t,e){if(!D.started)return!1;e&&!0!==e||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(R,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new D;var P=function(t,e){var r,o=this;r=t&&n.has(t,"constructor")?t.constructor:function(){return o.apply(this,arguments)},n.extend(r,o,e);var i=function(){this.constructor=r};return i.prototype=o.prototype,r.prototype=new i,t&&n.extend(r.prototype,t),r.__super__=o.prototype,r};d.extend=p.extend=C.extend=_.extend=D.extend=P;var F=function(){throw new Error('A "url" property or function must be specified')},$=function(t,e){var n=e.error;e.error=function(r){n&&n(t,r,e),t.trigger("error",t,r,e)}};return e}),function(t){function e(t){if(("BODY"==t.target.nodeName||"HTML"==t.target.nodeName)&&!(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)){var e=t.which;37==e?n():39==e&&r()}}function n(){var e=t(".pagination a[rel=prev]").attr("href");e&&e!=document.location&&"#"!=e&&Turbolinks.visit(e)}function r(){var e=t(".pagination a[rel=next]").attr("href");e&&e!=document.location&&"#"!=e&&Turbolinks.visit(e)}t(document).off("keydown.pagination"),t(document).on("keydown.pagination",e)}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof module&&"object"==typeof module.exports?require("jquery"):jQuery)}(function(t){function e(){var e=i.settings;if(e.autoDispose&&!t.contains(document.documentElement,this))return t(this).timeago("dispose"),this;var a=n(this);return isNaN(a.datetime)||(0===e.cutoff||Math.abs(o(a.datetime))<e.cutoff?t(this).text(r(a.datetime)):t(this).attr("title").length>0&&t(this).text(t(this).attr("title"))),this}function n(e){if(e=t(e),!e.data("timeago")){e.data("timeago",{datetime:i.datetime(e)});var n=t.trim(e.text());i.settings.localeTitle?e.attr("title",e.data("timeago").datetime.toLocaleString()):!(n.length>0)||i.isTime(e)&&e.attr("title")||e.attr("title",n)}return e.data("timeago")}function r(t){return i.inWords(o(t))}function o(t){return(new Date).getTime()-t.getTime()}t.timeago=function(e){return r(e instanceof Date?e:"string"==typeof e?t.timeago.parse(e):"number"==typeof e?new Date(e):t.timeago.datetime(e))};var i=t.timeago;t.extend(t.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,autoDispose:!0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(e){function n(n,o){var i=t.isFunction(n)?n(o,e):n,a=r.numbers&&r.numbers[o]||o;return i.replace(/%d/i,a)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var r=this.settings.strings,o=r.prefixAgo,i=r.suffixAgo;if(this.settings.allowFuture&&e<0&&(o=r.prefixFromNow,i=r.suffixFromNow),!this.settings.allowPast&&e>=0)return this.settings.strings.inPast;var a=Math.abs(e)/1e3,s=a/60,l=s/60,u=l/24,c=u/365,f=a<45&&n(r.seconds,Math.round(a))||a<90&&n(r.minute,1)||s<45&&n(r.minutes,Math.round(s))||s<90&&n(r.hour,1)||l<24&&n(r.hours,Math.round(l))||l<42&&n(r.day,1)||u<30&&n(r.days,Math.round(u))||u<45&&n(r.month,1)||u<365&&n(r.months,Math.round(u/30))||c<1.5&&n(r.year,1)||n(r.years,Math.round(c)),d=r.wordSeparator||"";return r.wordSeparator===undefined&&(d=" "),t.trim([o,f,i].join(d))},parse:function(e){var n=t.trim(e);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),n=n.replace(/([\+\-]\d\d)$/," $100"),new Date(n)},datetime:function(e){var n=i.isTime(e)?t(e).attr("datetime"):t(e).attr("title");return i.parse(n)},isTime:function(e){return"time"===t(e).get(0).tagName.toLowerCase()}});var a={init:function(){var n=t.proxy(e,this);n();var r=i.settings;r.refreshMillis>0&&(this._timeagoInterval=setInterval(n,r.refreshMillis))},update:function(n){var r=n instanceof Date?n:i.parse(n);t(this).data("timeago",{datetime:r}),i.settings.localeTitle&&t(this).attr("title",r.toLocaleString()),e.apply(this)},updateFromDOM:function(){t(this).data("timeago",{datetime:i.parse(i.isTime(this)?t(this).attr("datetime"):t(this).attr("title"))}),e.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};t.fn.timeago=function(t,e){var n=t?a[t]:a.init;if(!n)throw new Error("Unknown function name '"+t+"' for timeago");return this.each(function(){n.call(this,e)}),this},document.createElement("abbr"),document.createElement("time")}),function(){var t={"zh-CN":{prefixAgo:null,prefixFromNow:null,suffixAgo:"\u524d",suffixFromNow:"\u521a\u521a",seconds:"1 \u5206\u949f",minute:"\u7ea6 1 \u5206\u949f",minutes:"%d \u5206\u949f",hour:"1 \u5c0f\u65f6",hours:"%d \u5c0f\u65f6",day:"1 \u5929",days:"%d \u5929",month:"1 \u6708",months:"%d \u6708",year:"1 \u5e74",years:"%d \u5e74",numbers:[],wordSeparator:""},en:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"one second",seconds:"few seconds",minute:"one minute",minutes:"%d minutes",hour:"one hour",hours:"%d hours",day:"one day",days:"%d days",month:"one month",months:"%d months",year:"one year",years:"%d years",numbers:[]},"zh-TW":{prefixAgo:null,prefixFromNow:null,suffixAgo:"\u524d",suffixFromNow:"\u525b\u525b",seconds:"1 \u5206\u9418",minute:"\u7d04 1 \u5206\u9418",minutes:"%d \u5206\u9418",hour:"1 \u5c0f\u6642",hours:"%d \u5c0f\u6642",day:"1 \u5929",days:"%d \u5929",month:"1 \u6708",months:"%d \u6708",year:"1 \u5e74",years:"%d \u5e74",numbers:[],wordSeparator:""}};$("document").ready(function(){var e=t[App.locale];e&&(jQuery.timeago.settings.strings=e,jQuery.timeago.settings.cutoff=7776e6)})}(),function(t){function e(e){if("string"==typeof e.data){var n=e.handler,r=e.data.toLowerCase().split(" ");e.handler=function(e){if(this===e.target||!/textarea|select/i.test(e.target.nodeName)&&"text"!==e.target.type){var o="keypress"!==e.type&&t.hotkeys.specialKeys[e.which],i=String.fromCharCode(e.which).toLowerCase(),a="",s={};e.altKey&&"alt"!==o&&(a+="alt+"),e.ctrlKey&&"ctrl"!==o&&(a+="ctrl+"),e.metaKey&&!e.ctrlKey&&"meta"!==o&&(a+="meta+"),e.shiftKey&&"shift"!==o&&(a+="shift+"),o?s[a+o]=!0:(s[a+i]=!0,s[a+t.hotkeys.shiftNums[i]]=!0,"shift+"===a&&(s[t.hotkeys.shiftNums[i]]=!0));for(var l=0,u=r.length;l<u;l++)if(s[r[l]])return n.apply(this,arguments)}}}}t.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},t.each(["keydown","keyup","keypress"],function(){t.event.special[this]={add:e}})}(jQuery),function(t){t.fn.autogrow=function(){return this.filter("textarea").each(function(){var e=t(this),n=e.height(),r=(e.css("lineHeight"),t("<div></div>").css({position:"absolute",top:-1e4,left:-1e4,width:t(this).width(),fontSize:e.css("fontSize"),fontFamily:e.css("fontFamily"),lineHeight:e.css("lineHeight"),resize:"none"}).appendTo(document.body)),o=function(){var e=this.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n/g,"<br/>");r.html(e),t(this).css("height",Math.max(r.height()+20,n))};t(this).change(o).keyup(o).keydown(o),o.apply(this)}),this}}(jQuery),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){function e(t){this.$container,this.constraints=null,this.__$tooltip,this.__init(t)}function n(e,n){var r=!0;return t.each(e,function(t){return void 0===n[t]||e[t]!==n[t]?(r=!1,!1):void 0}),r}function r(e){var n=e.attr("id"),r=n?s.window.document.getElementById(n):null;return r?r===e[0]:t.contains(s.window.document.body,e[0])}function o(){if(!a)return!1;var t=a.document.body||a.document.documentElement,e=t.style,n="transition",r=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof e[n])return!0;n=n.charAt(0).toUpperCase()+n.substr(1);for(var o=0;o<r.length;o++)if("string"==typeof e[r[o]+n])return!0;return!1}var i={animation:"fade",animationDuration:350,content:null,contentAsHTML:!1,contentCloning:!1,debug:!0,delay:300,delayTouch:[300,500],functionInit:null,functionBefore:null,functionReady:null,functionAfter:null,functionFormat:null,IEmin:6,interactive:!1,multiple:!1,parent:"body",plugins:["sideTip"],repositionOnScroll:!1,restoration:"none",selfDestruction:!0,theme:[],timer:0,trackerInterval:500,trackOrigin:!1,trackTooltip:!1,trigger:"hover",triggerClose:{click:!1,mouseleave:!1,originClick:!1,scroll:!1,tap:!1,touchleave:!1},triggerOpen:{click:!1,mouseenter:!1,tap:!1,touchstart:!1},updateAnimation:"rotate",zIndex:9999999},a="undefined"!=typeof window?window:null,s={hasTouchCapability:!(!a||!("ontouchstart"in a||a.DocumentTouch&&a.document instanceof a.DocumentTouch||a.navigator.maxTouchPoints)),hasTransitions:o(),IE:!1,semVer:"4.1.6",window:a},l=function(){this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__instancesLatestArr=[],this.__plugins={},this._env=s};l.prototype={__bridge:function(e,n,r){if(!n[r]){var o=function(){};o.prototype=e;var a=new o;a.__init&&a.__init(n),t.each(e,function(t){0!=t.indexOf("__")&&(n[t]?i.debug&&console.log("The "+t+" method of the "+r+" plugin conflicts with another plugin or native methods"):(n[t]=function(){return a[t].apply(a,Array.prototype.slice.apply(arguments))},n[t].bridged=a))}),n[r]=a}return this},__setWindow:function(t){return s.window=t,this},_getRuler:function(t){return new e(t)},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_plugin:function(e){var n=this;if("string"==typeof e){var r=e,o=null;return r.indexOf(".")>0?o=n.__plugins[r]:t.each(n.__plugins,function(t,e){return e.name.substring(e.name.length-r.length-1)=="."+r?(o=e,!1):void 0}),o}if(e.name.indexOf(".")<0)throw new Error("Plugins must be namespaced");return n.__plugins[e.name]=e,e.core&&n.__bridge(e.core,n,e.name),this},_trigger:function(){var t=Array.prototype.slice.apply(arguments);return"string"==typeof t[0]&&(t[0]={type:t[0]}),this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,t),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,t),this},instances:function(e){var n=[];return t(e||".tooltipstered").each(function(){var e=t(this),r=e.data("tooltipster-ns");r&&t.each(r,function(t,r){n.push(e.data(r))})}),n},instancesLatest:function(){return this.__instancesLatestArr},off:function(){return this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},origins:function(e){return t((e?e+" ":"")+".tooltipstered").toArray()},setDefaults:function(e){return t.extend(i,e),this},triggerHandler:function(){return this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.tooltipster=new l,t.Tooltipster=function(e,n){this.__callbacks={close:[],open:[]},this.__closingTime,this.__Content,this.__contentBcr,this.__destroyed=!1,this.__destroying=!1,this.__$emitterPrivate=t({}),this.__$emitterPublic=t({}),this.__enabled=!0,this.__garbageCollector,this.__Geometry,this.__lastPosition,this.__namespace="tooltipster-"+Math.round(1e6*Math.random()),this.__options,this.__$originParents,this.__pointerIsOverOrigin=!1,this.__previousThemes=[],this.__state="closed",this.__timeouts={close:[],open:null},this.__touchEvents=[],this.__tracker=null,this._$origin,this._$tooltip,this.__init(e,n)},t.Tooltipster.prototype={__init:function(e,n){var r=this;if(r._$origin=t(e),r.__options=t.extend(!0,{},i,n),r.__optionsFormat(),!s.IE||s.IE>=r.__options.IEmin){var o=null;if(void 0===r._$origin.data("tooltipster-initialTitle")&&(o=r._$origin.attr("title"),void 0===o&&(o=null),r._$origin.data("tooltipster-initialTitle",o)),null!==r.__options.content)r.__contentSet(r.__options.content);else{var a,l=r._$origin.attr("data-tooltip-content");l&&(a=t(l)),a&&a[0]?r.__contentSet(a.first()):r.__contentSet(o)}r._$origin.removeAttr("title").addClass("tooltipstered"),r.__prepareOrigin(),r.__prepareGC(),t.each(r.__options.plugins,function(t,e){r._plug(e)}),s.hasTouchCapability&&t("body").on("touchmove."+r.__namespace+"-triggerOpen",function(t){r._touchRecordEvent(t)}),r._on("created",function(){r.__prepareTooltip()})._on("repositioned",function(t){r.__lastPosition=t.position})}else r.__options.disabled=!0},__contentInsert:function(){var t=this,e=t._$tooltip.find(".tooltipster-content"),n=t.__Content,r=function(t){n=t};return t._trigger({type:"format",content:t.__Content,format:r}),t.__options.functionFormat&&(n=t.__options.functionFormat.call(t,t,{origin:t._$origin[0]},t.__Content)),"string"!=typeof n||t.__options.contentAsHTML?e.empty().append(n):e.text(n),t},__contentSet:function(e){return e instanceof t&&this.__options.contentCloning&&(e=e.clone(!0)),this.__Content=e,this._trigger({type:"updated",content:e}),this},__destroyError:function(){throw new Error("This tooltip has been destroyed and cannot execute your method call.")},__geometry:function(){var e=this,n=e._$origin,r=e._$origin.is("area");if(r){var o=e._$origin.parent().attr("name");n=t('img[usemap="#'+o+'"]')}var i=n[0].getBoundingClientRect(),a=t(s.window.document),l=t(s.window),u=n,c={available:{document:null,window:null},document:{size:{height:a.height(),width:a.width()}},window:{scroll:{left:s.window.scrollX||s.window.document.documentElement.scrollLeft,top:s.window.scrollY||s.window.document.documentElement.scrollTop},size:{height:l.height(),width:l.width()}},origin:{fixedLineage:!1,offset:{},size:{height:i.bottom-i.top,width:i.right-i.left},usemapImage:r?n[0]:null,windowOffset:{bottom:i.bottom,left:i.left,right:i.right,top:i.top}}};if(r){var f=e._$origin.attr("shape"),d=e._$origin.attr("coords");if(d&&(d=d.split(","),t.map(d,function(t,e){d[e]=parseInt(t)})),"default"!=f)switch(f){case"circle":var h=d[0],p=d[1],g=d[2],m=p-g,v=h-g;c.origin.size.height=2*g,c.origin.size.width=c.origin.size.height,c.origin.windowOffset.left+=v,c.origin.windowOffset.top+=m;break;case"rect":var y=d[0],_=d[1],b=d[2],w=d[3];c.origin.size.height=w-_,c.origin.size.width=b-y,c.origin.windowOffset.left+=y,c.origin.windowOffset.top+=_;break;case"poly":for(var k=0,x=0,C=0,T=0,E="even",S=0;S<d.length;S++){var A=d[S];"even"==E?(A>C&&(C=A,0===S&&(k=C)),k>A&&(k=A),E="odd"):(A>T&&(T=A,1==S&&(x=T)),x>A&&(x=A),E="even")}c.origin.size.height=T-x,c.origin.size.width=C-k,c.origin.windowOffset.left+=k,c.origin.windowOffset.top+=x}}var D=function(t){c.origin.size.height=t.height,c.origin.windowOffset.left=t.left,c.origin.windowOffset.top=t.top,c.origin.size.width=t.width};for(e._trigger({type:"geometry",edit:D,geometry:{height:c.origin.size.height,left:c.origin.windowOffset.left,top:c.origin.windowOffset.top,width:c.origin.size.width}}),c.origin.windowOffset.right=c.origin.windowOffset.left+c.origin.size.width,c.origin.windowOffset.bottom=c.origin.windowOffset.top+c.origin.size.height,c.origin.offset.left=c.origin.windowOffset.left+c.window.scroll.left,c.origin.offset.top=c.origin.windowOffset.top+c.window.scroll.top,c.origin.offset.bottom=c.origin.offset.top+c.origin.size.height,c.origin.offset.right=c.origin.offset.left+c.origin.size.width,c.available.document={bottom:{height:c.document.size.height-c.origin.offset.bottom,width:c.document.size.width},left:{height:c.document.size.height,width:c.origin.offset.left},right:{height:c.document.size.height,width:c.document.size.width-c.origin.offset.right},top:{height:c.origin.offset.top,width:c.document.size.width}},c.available.window={bottom:{height:Math.max(c.window.size.height-Math.max(c.origin.windowOffset.bottom,0),0),width:c.window.size.width},left:{height:c.window.size.height,width:Math.max(c.origin.windowOffset.left,0)},right:{height:c.window.size.height,width:Math.max(c.window.size.width-Math.max(c.origin.windowOffset.right,0),0)},top:{height:Math.max(c.origin.windowOffset.top,0),width:c.window.size.width}};"html"!=u[0].tagName.toLowerCase();){if("fixed"==u.css("position")){c.origin.fixedLineage=!0;break}u=u.parent()}return c},__optionsFormat:function(){return"number"==typeof this.__options.animationDuration&&(this.__options.animationDuration=[this.__options.animationDuration,this.__options.animationDuration]),"number"==typeof this.__options.delay&&(this.__options.delay=[this.__options.delay,this.__options.delay]),"number"==typeof this.__options.delayTouch&&(this.__options.delayTouch=[this.__options.delayTouch,this.__options.delayTouch]),"string"==typeof this.__options.theme&&(this.__options.theme=[this.__options.theme]),"string"==typeof this.__options.parent&&(this.__options.parent=t(this.__options.parent)),
"hover"==this.__options.trigger?(this.__options.triggerOpen={mouseenter:!0,touchstart:!0},this.__options.triggerClose={mouseleave:!0,originClick:!0,touchleave:!0}):"click"==this.__options.trigger&&(this.__options.triggerOpen={click:!0,tap:!0},this.__options.triggerClose={click:!0,tap:!0}),this._trigger("options"),this},__prepareGC:function(){var e=this;return e.__options.selfDestruction?e.__garbageCollector=setInterval(function(){var n=(new Date).getTime();e.__touchEvents=t.grep(e.__touchEvents,function(t){return n-t.time>6e4}),r(e._$origin)||e.destroy()},2e4):clearInterval(e.__garbageCollector),e},__prepareOrigin:function(){var t=this;if(t._$origin.off("."+t.__namespace+"-triggerOpen"),s.hasTouchCapability&&t._$origin.on("touchstart."+t.__namespace+"-triggerOpen touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen",function(e){t._touchRecordEvent(e)}),t.__options.triggerOpen.click||t.__options.triggerOpen.tap&&s.hasTouchCapability){var e="";t.__options.triggerOpen.click&&(e+="click."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.tap&&s.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&t._open(e)})}if(t.__options.triggerOpen.mouseenter||t.__options.triggerOpen.touchstart&&s.hasTouchCapability){var e="";t.__options.triggerOpen.mouseenter&&(e+="mouseenter."+t.__namespace+"-triggerOpen "),t.__options.triggerOpen.touchstart&&s.hasTouchCapability&&(e+="touchstart."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){!t._touchIsTouchEvent(e)&&t._touchIsEmulatedEvent(e)||(t.__pointerIsOverOrigin=!0,t._openShortly(e))})}if(t.__options.triggerClose.mouseleave||t.__options.triggerClose.touchleave&&s.hasTouchCapability){var e="";t.__options.triggerClose.mouseleave&&(e+="mouseleave."+t.__namespace+"-triggerOpen "),t.__options.triggerClose.touchleave&&s.hasTouchCapability&&(e+="touchend."+t.__namespace+"-triggerOpen touchcancel."+t.__namespace+"-triggerOpen"),t._$origin.on(e,function(e){t._touchIsMeaningfulEvent(e)&&(t.__pointerIsOverOrigin=!1)})}return t},__prepareTooltip:function(){var e=this,n=e.__options.interactive?"auto":"";return e._$tooltip.attr("id",e.__namespace).css({"pointer-events":n,zIndex:e.__options.zIndex}),t.each(e.__previousThemes,function(t,n){e._$tooltip.removeClass(n)}),t.each(e.__options.theme,function(t,n){e._$tooltip.addClass(n)}),e.__previousThemes=t.merge([],e.__options.theme),e},__scrollHandler:function(e){var n=this;if(n.__options.triggerClose.scroll)n._close(e);else{if(e.target===s.window.document)n.__Geometry.origin.fixedLineage||n.__options.repositionOnScroll&&n.reposition(e);else{var r=n.__geometry(),o=!1;if("fixed"!=n._$origin.css("position")&&n.__$originParents.each(function(e,n){var i=t(n),a=i.css("overflow-x"),s=i.css("overflow-y");if("visible"!=a||"visible"!=s){var l=n.getBoundingClientRect();if("visible"!=a&&(r.origin.windowOffset.left<l.left||r.origin.windowOffset.right>l.right))return o=!0,!1;if("visible"!=s&&(r.origin.windowOffset.top<l.top||r.origin.windowOffset.bottom>l.bottom))return o=!0,!1}return"fixed"!=i.css("position")&&void 0}),o)n._$tooltip.css("visibility","hidden");else if(n._$tooltip.css("visibility","visible"),n.__options.repositionOnScroll)n.reposition(e);else{var i=r.origin.offset.left-n.__Geometry.origin.offset.left,a=r.origin.offset.top-n.__Geometry.origin.offset.top;n._$tooltip.css({left:n.__lastPosition.coord.left+i,top:n.__lastPosition.coord.top+a})}}n._trigger({type:"scroll",event:e})}return n},__stateSet:function(t){return this.__state=t,this._trigger({type:"state",state:t}),this},__timeoutsClear:function(){return clearTimeout(this.__timeouts.open),this.__timeouts.open=null,t.each(this.__timeouts.close,function(t,e){clearTimeout(e)}),this.__timeouts.close=[],this},__trackerStart:function(){var t=this,e=t._$tooltip.find(".tooltipster-content");return t.__options.trackTooltip&&(t.__contentBcr=e[0].getBoundingClientRect()),t.__tracker=setInterval(function(){if(r(t._$origin)&&r(t._$tooltip)){if(t.__options.trackOrigin){var o=t.__geometry(),i=!1;n(o.origin.size,t.__Geometry.origin.size)&&(t.__Geometry.origin.fixedLineage?n(o.origin.windowOffset,t.__Geometry.origin.windowOffset)&&(i=!0):n(o.origin.offset,t.__Geometry.origin.offset)&&(i=!0)),i||(t.__options.triggerClose.mouseleave?t._close():t.reposition())}if(t.__options.trackTooltip){var a=e[0].getBoundingClientRect();a.height===t.__contentBcr.height&&a.width===t.__contentBcr.width||(t.reposition(),t.__contentBcr=a)}}else t._close()},t.__options.trackerInterval),t},_close:function(e,n){var r=this,o=!0;if(r._trigger({type:"close",event:e,stop:function(){o=!1}}),o||r.__destroying){n&&r.__callbacks.close.push(n),r.__callbacks.open=[],r.__timeoutsClear();var i=function(){t.each(r.__callbacks.close,function(t,n){n.call(r,r,{event:e,origin:r._$origin[0]})}),r.__callbacks.close=[]};if("closed"!=r.__state){var a=!0,l=new Date,u=l.getTime(),c=u+r.__options.animationDuration[1];if("disappearing"==r.__state&&c>r.__closingTime&&(a=!1),a){r.__closingTime=c,"disappearing"!=r.__state&&r.__stateSet("disappearing");var f=function(){clearInterval(r.__tracker),r._trigger({type:"closing",event:e}),r._$tooltip.off("."+r.__namespace+"-triggerClose").removeClass("tooltipster-dying"),t(s.window).off("."+r.__namespace+"-triggerClose"),r.__$originParents.each(function(e,n){t(n).off("scroll."+r.__namespace+"-triggerClose")}),r.__$originParents=null,t("body").off("."+r.__namespace+"-triggerClose"),r._$origin.off("."+r.__namespace+"-triggerClose"),r._off("dismissable"),r.__stateSet("closed"),r._trigger({type:"after",event:e}),r.__options.functionAfter&&r.__options.functionAfter.call(r,r,{event:e,origin:r._$origin[0]}),i()};s.hasTransitions?(r._$tooltip.css({"-moz-animation-duration":r.__options.animationDuration[1]+"ms","-ms-animation-duration":r.__options.animationDuration[1]+"ms","-o-animation-duration":r.__options.animationDuration[1]+"ms","-webkit-animation-duration":r.__options.animationDuration[1]+"ms","animation-duration":r.__options.animationDuration[1]+"ms","transition-duration":r.__options.animationDuration[1]+"ms"}),r._$tooltip.clearQueue().removeClass("tooltipster-show").addClass("tooltipster-dying"),r.__options.animationDuration[1]>0&&r._$tooltip.delay(r.__options.animationDuration[1]),r._$tooltip.queue(f)):r._$tooltip.stop().fadeOut(r.__options.animationDuration[1],f)}}else i()}return r},_off:function(){return this.__$emitterPrivate.off.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_on:function(){return this.__$emitterPrivate.on.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_one:function(){return this.__$emitterPrivate.one.apply(this.__$emitterPrivate,Array.prototype.slice.apply(arguments)),this},_open:function(e,n){var o=this;if(!o.__destroying&&r(o._$origin)&&o.__enabled){var i=!0;if("closed"==o.__state&&(o._trigger({type:"before",event:e,stop:function(){i=!1}}),i&&o.__options.functionBefore&&(i=o.__options.functionBefore.call(o,o,{event:e,origin:o._$origin[0]}))),!1!==i&&null!==o.__Content){n&&o.__callbacks.open.push(n),o.__callbacks.close=[],o.__timeoutsClear();var a,l=function(){"stable"!=o.__state&&o.__stateSet("stable"),t.each(o.__callbacks.open,function(t,e){e.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}),o.__callbacks.open=[]};if("closed"!==o.__state)a=0,"disappearing"===o.__state?(o.__stateSet("appearing"),s.hasTransitions?(o._$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-show"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(l)):o._$tooltip.stop().fadeIn(l)):"stable"==o.__state&&l();else{if(o.__stateSet("appearing"),a=o.__options.animationDuration[0],o.__contentInsert(),o.reposition(e,!0),s.hasTransitions?(o._$tooltip.addClass("tooltipster-"+o.__options.animation).addClass("tooltipster-initial").css({"-moz-animation-duration":o.__options.animationDuration[0]+"ms","-ms-animation-duration":o.__options.animationDuration[0]+"ms","-o-animation-duration":o.__options.animationDuration[0]+"ms","-webkit-animation-duration":o.__options.animationDuration[0]+"ms","animation-duration":o.__options.animationDuration[0]+"ms","transition-duration":o.__options.animationDuration[0]+"ms"}),setTimeout(function(){"closed"!=o.__state&&(o._$tooltip.addClass("tooltipster-show").removeClass("tooltipster-initial"),o.__options.animationDuration[0]>0&&o._$tooltip.delay(o.__options.animationDuration[0]),o._$tooltip.queue(l))},0)):o._$tooltip.css("display","none").fadeIn(o.__options.animationDuration[0],l),o.__trackerStart(),t(s.window).on("resize."+o.__namespace+"-triggerClose",function(e){var n=t(document.activeElement);(n.is("input")||n.is("textarea"))&&t.contains(o._$tooltip[0],n[0])||o.reposition(e)}).on("scroll."+o.__namespace+"-triggerClose",function(t){o.__scrollHandler(t)}),o.__$originParents=o._$origin.parents(),o.__$originParents.each(function(e,n){t(n).on("scroll."+o.__namespace+"-triggerClose",function(t){o.__scrollHandler(t)})}),o.__options.triggerClose.mouseleave||o.__options.triggerClose.touchleave&&s.hasTouchCapability){o._on("dismissable",function(t){t.dismissable?t.delay?(d=setTimeout(function(){o._close(t.event)},t.delay),o.__timeouts.close.push(d)):o._close(t):clearTimeout(d)});var u=o._$origin,c="",f="",d=null;o.__options.interactive&&(u=u.add(o._$tooltip)),o.__options.triggerClose.mouseleave&&(c+="mouseenter."+o.__namespace+"-triggerClose ",f+="mouseleave."+o.__namespace+"-triggerClose "),o.__options.triggerClose.touchleave&&s.hasTouchCapability&&(c+="touchstart."+o.__namespace+"-triggerClose",f+="touchend."+o.__namespace+"-triggerClose touchcancel."+o.__namespace+"-triggerClose"),u.on(f,function(t){if(o._touchIsTouchEvent(t)||!o._touchIsEmulatedEvent(t)){var e="mouseleave"==t.type?o.__options.delay:o.__options.delayTouch;o._trigger({delay:e[1],dismissable:!0,event:t,type:"dismissable"})}}).on(c,function(t){!o._touchIsTouchEvent(t)&&o._touchIsEmulatedEvent(t)||o._trigger({dismissable:!1,event:t,type:"dismissable"})})}o.__options.triggerClose.originClick&&o._$origin.on("click."+o.__namespace+"-triggerClose",function(t){o._touchIsTouchEvent(t)||o._touchIsEmulatedEvent(t)||o._close(t)}),(o.__options.triggerClose.click||o.__options.triggerClose.tap&&s.hasTouchCapability)&&setTimeout(function(){if("closed"!=o.__state){var e="";o.__options.triggerClose.click&&(e+="click."+o.__namespace+"-triggerClose "),o.__options.triggerClose.tap&&s.hasTouchCapability&&(e+="touchend."+o.__namespace+"-triggerClose"),t("body").on(e,function(e){o._touchIsMeaningfulEvent(e)&&(o._touchRecordEvent(e),o.__options.interactive&&t.contains(o._$tooltip[0],e.target)||o._close(e))}),o.__options.triggerClose.tap&&s.hasTouchCapability&&t("body").on("touchstart."+o.__namespace+"-triggerClose",function(t){o._touchRecordEvent(t)})}},0),o._trigger("ready"),o.__options.functionReady&&o.__options.functionReady.call(o,o,{origin:o._$origin[0],tooltip:o._$tooltip[0]})}if(o.__options.timer>0){var d=setTimeout(function(){o._close()},o.__options.timer+a);o.__timeouts.close.push(d)}}}return o},_openShortly:function(t){var e=this,n=!0;if("stable"!=e.__state&&"appearing"!=e.__state&&!e.__timeouts.open&&(e._trigger({type:"start",event:t,stop:function(){n=!1}}),n)){var r=0==t.type.indexOf("touch")?e.__options.delayTouch:e.__options.delay;r[0]?e.__timeouts.open=setTimeout(function(){e.__timeouts.open=null,e.__pointerIsOverOrigin&&e._touchIsMeaningfulEvent(t)?(e._trigger("startend"),e._open(t)):e._trigger("startcancel")},r[0]):(e._trigger("startend"),e._open(t))}return e},_optionsExtract:function(e,n){var r=this,o=t.extend(!0,{},n),i=r.__options[e];return i||(i={},t.each(n,function(t){var e=r.__options[t];void 0!==e&&(i[t]=e)})),t.each(o,function(e,n){void 0!==i[e]&&("object"!=typeof n||n instanceof Array||null==n||"object"!=typeof i[e]||i[e]instanceof Array||null==i[e]?o[e]=i[e]:t.extend(o[e],i[e]))}),o},_plug:function(e){var n=t.tooltipster._plugin(e);if(!n)throw new Error('The "'+e+'" plugin is not defined');return n.instance&&t.tooltipster.__bridge(n.instance,this,n.name),this},_touchIsEmulatedEvent:function(t){for(var e=!1,n=(new Date).getTime(),r=this.__touchEvents.length-1;r>=0;r--){var o=this.__touchEvents[r];if(!(n-o.time<500))break;o.target===t.target&&(e=!0)}return e},_touchIsMeaningfulEvent:function(t){return this._touchIsTouchEvent(t)&&!this._touchSwiped(t.target)||!this._touchIsTouchEvent(t)&&!this._touchIsEmulatedEvent(t)},_touchIsTouchEvent:function(t){return 0==t.type.indexOf("touch")},_touchRecordEvent:function(t){return this._touchIsTouchEvent(t)&&(t.time=(new Date).getTime(),this.__touchEvents.push(t)),this},_touchSwiped:function(t){for(var e=!1,n=this.__touchEvents.length-1;n>=0;n--){var r=this.__touchEvents[n];if("touchmove"==r.type){e=!0;break}if("touchstart"==r.type&&t===r.target)break}return e},_trigger:function(){var e=Array.prototype.slice.apply(arguments);return"string"==typeof e[0]&&(e[0]={type:e[0]}),e[0].instance=this,e[0].origin=this._$origin?this._$origin[0]:null,e[0].tooltip=this._$tooltip?this._$tooltip[0]:null,this.__$emitterPrivate.trigger.apply(this.__$emitterPrivate,e),t.tooltipster._trigger.apply(t.tooltipster,e),this.__$emitterPublic.trigger.apply(this.__$emitterPublic,e),this},_unplug:function(e){var n=this;if(n[e]){var r=t.tooltipster._plugin(e);r.instance&&t.each(r.instance,function(t){n[t]&&n[t].bridged===n[e]&&delete n[t]}),n[e].__destroy&&n[e].__destroy(),delete n[e]}return n},close:function(t){return this.__destroyed?this.__destroyError():this._close(null,t),this},content:function(t){var e=this;if(void 0===t)return e.__Content;if(e.__destroyed)e.__destroyError();else if(e.__contentSet(t),null!==e.__Content){if("closed"!==e.__state&&(e.__contentInsert(),e.reposition(),e.__options.updateAnimation))if(s.hasTransitions){var n=e.__options.updateAnimation;e._$tooltip.addClass("tooltipster-update-"+n),setTimeout(function(){"closed"!=e.__state&&e._$tooltip.removeClass("tooltipster-update-"+n)},1e3)}else e._$tooltip.fadeTo(200,.5,function(){"closed"!=e.__state&&e._$tooltip.fadeTo(200,1)})}else e._close();return e},destroy:function(){var e=this;return e.__destroyed?e.__destroyError():e.__destroying||(e.__destroying=!0,e._close(null,function(){e._trigger("destroy"),e.__destroying=!1,e.__destroyed=!0,e._$origin.removeData(e.__namespace).off("."+e.__namespace+"-triggerOpen"),t("body").off("."+e.__namespace+"-triggerOpen");var n=e._$origin.data("tooltipster-ns");if(n)if(1===n.length){var r=null;"previous"==e.__options.restoration?r=e._$origin.data("tooltipster-initialTitle"):"current"==e.__options.restoration&&(r="string"==typeof e.__Content?e.__Content:t("<div></div>").append(e.__Content).html()),r&&e._$origin.attr("title",r),e._$origin.removeClass("tooltipstered"),e._$origin.removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=t.grep(n,function(t){return t!==e.__namespace}),e._$origin.data("tooltipster-ns",n);e._trigger("destroyed"),e._off(),e.off(),e.__Content=null,e.__$emitterPrivate=null,e.__$emitterPublic=null,e.__options.parent=null,e._$origin=null,e._$tooltip=null,t.tooltipster.__instancesLatestArr=t.grep(t.tooltipster.__instancesLatestArr,function(t){return e!==t}),clearInterval(e.__garbageCollector)})),e},disable:function(){return this.__destroyed?(this.__destroyError(),this):(this._close(),this.__enabled=!1,this)},elementOrigin:function(){return this.__destroyed?void this.__destroyError():this._$origin[0]},elementTooltip:function(){return this._$tooltip?this._$tooltip[0]:null},enable:function(){return this.__enabled=!0,this},hide:function(t){return this.close(t)},instance:function(){return this},off:function(){return this.__destroyed||this.__$emitterPublic.off.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},on:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.on.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},one:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.one.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this},open:function(t){return this.__destroyed||this.__destroying?this.__destroyError():this._open(null,t),this},option:function(e,n){return void 0===n?this.__options[e]:(this.__destroyed?this.__destroyError():(this.__options[e]=n,this.__optionsFormat(),t.inArray(e,["trigger","triggerClose","triggerOpen"])>=0&&this.__prepareOrigin(),"selfDestruction"===e&&this.__prepareGC()),this)},reposition:function(t,e){var n=this;return n.__destroyed?n.__destroyError():"closed"!=n.__state&&r(n._$origin)&&(e||r(n._$tooltip))&&(e||n._$tooltip.detach(),n.__Geometry=n.__geometry(),n._trigger({type:"reposition",event:t,helper:{geo:n.__Geometry}})),n},show:function(t){return this.open(t)},status:function(){return{destroyed:this.__destroyed,destroying:this.__destroying,enabled:this.__enabled,open:"closed"!==this.__state,state:this.__state}},triggerHandler:function(){return this.__destroyed?this.__destroyError():this.__$emitterPublic.triggerHandler.apply(this.__$emitterPublic,Array.prototype.slice.apply(arguments)),this}},t.fn.tooltipster=function(){var e=Array.prototype.slice.apply(arguments),n="You are using a single HTML element as content for several tooltips. You probably want to set the contentCloning option to TRUE.";if(0===this.length)return this;if("string"==typeof e[0]){var r="#*$~&";return this.each(function(){var o=t(this).data("tooltipster-ns"),i=o?t(this).data(o[0]):null;if(!i)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof i[e[0]])throw new Error('Unknown method "'+e[0]+'"');this.length>1&&"content"==e[0]&&(e[1]instanceof t||"object"==typeof e[1]&&null!=e[1]&&e[1].tagName)&&!i.__options.contentCloning&&i.__options.debug&&console.log(n);var a=i[e[0]](e[1],e[2]);return a!==i||"instance"===e[0]?(r=a,!1):void 0}),"#*$~&"!==r?r:this}t.tooltipster.__instancesLatestArr=[];var o=e[0]&&void 0!==e[0].multiple,a=o&&e[0].multiple||!o&&i.multiple,s=e[0]&&void 0!==e[0].content,l=s&&e[0].content||!s&&i.content,u=e[0]&&void 0!==e[0].contentCloning,c=u&&e[0].contentCloning||!u&&i.contentCloning,f=e[0]&&void 0!==e[0].debug,d=f&&e[0].debug||!f&&i.debug;return this.length>1&&(l instanceof t||"object"==typeof l&&null!=l&&l.tagName)&&!c&&d&&console.log(n),this.each(function(){var n=!1,r=t(this),o=r.data("tooltipster-ns"),i=null;o?a?n=!0:d&&(console.log("Tooltipster: one or more tooltips are already attached to the element below. Ignoring."),console.log(this)):n=!0,n&&(i=new t.Tooltipster(this,e[0]),o||(o=[]),o.push(i.__namespace),r.data("tooltipster-ns",o),r.data(i.__namespace,i),i.__options.functionInit&&i.__options.functionInit.call(i,i,{origin:this}),i._trigger("init")),t.tooltipster.__instancesLatestArr.push(i)}),this},e.prototype={__init:function(e){this.__$tooltip=e,this.__$tooltip.css({left:0,overflow:"hidden",position:"absolute",top:0}).find(".tooltipster-content").css("overflow","auto"),this.$container=t('<div class="tooltipster-ruler"></div>').append(this.__$tooltip).appendTo("body")},__forceRedraw:function(){var t=this.__$tooltip.parent();this.__$tooltip.detach(),this.__$tooltip.appendTo(t)},constrain:function(t,e){return this.constraints={width:t,height:e},this.__$tooltip.css({display:"block",height:"",overflow:"auto",width:t}),this},destroy:function(){this.__$tooltip.detach().find(".tooltipster-content").css({display:"",overflow:""}),this.$container.remove()},free:function(){return this.constraints=null,this.__$tooltip.css({display:"",height:"",overflow:"visible",width:""}),this},measure:function(){this.__forceRedraw();var t=this.__$tooltip[0].getBoundingClientRect(),e={size:{height:t.height||t.bottom,width:t.width||t.right}};if(this.constraints){var n=this.__$tooltip.find(".tooltipster-content"),r=this.__$tooltip.outerHeight(),o=n[0].getBoundingClientRect(),i={height:r<=this.constraints.height,width:t.width<=this.constraints.width&&o.width>=n[0].scrollWidth-1};e.fits=i.height&&i.width}return s.IE&&s.IE<=11&&e.size.width!==s.window.document.documentElement.clientWidth&&(e.size.width=Math.ceil(e.size.width)+1),e}};var u=navigator.userAgent.toLowerCase();-1!=u.indexOf("msie")?s.IE=parseInt(u.split("msie")[1]):-1!==u.toLowerCase().indexOf("trident")&&-1!==u.indexOf(" rv:11")?s.IE=11:-1!=u.toLowerCase().indexOf("edge/")&&(s.IE=parseInt(u.toLowerCase().split("edge/")[1]));var c="tooltipster.sideTip";return t.tooltipster._plugin({name:c,instance:{__defaults:function(){return{arrow:!0,distance:6,functionPosition:null,maxWidth:null,minIntersection:16,minWidth:0,position:null,side:"top",viewportAware:!0}},__init:function(t){var e=this;e.__instance=t,e.__namespace="tooltipster-sideTip-"+Math.round(1e6*Math.random()),e.__previousState="closed",e.__options,e.__optionsFormat(),e.__instance._on("state."+e.__namespace,function(t){"closed"==t.state?e.__close():"appearing"==t.state&&"closed"==e.__previousState&&e.__create(),e.__previousState=t.state}),e.__instance._on("options."+e.__namespace,function(){e.__optionsFormat()}),e.__instance._on("reposition."+e.__namespace,function(t){e.__reposition(t.event,t.helper)})},__close:function(){this.__instance.content()instanceof t&&this.__instance.content().detach(),this.__instance._$tooltip.remove(),this.__instance._$tooltip=null},__create:function(){var e=t('<div class="tooltipster-base tooltipster-sidetip"><div class="tooltipster-box"><div class="tooltipster-content"></div></div><div class="tooltipster-arrow"><div class="tooltipster-arrow-uncropped"><div class="tooltipster-arrow-border"></div><div class="tooltipster-arrow-background"></div></div></div></div>');this.__options.arrow||e.find(".tooltipster-box").css("margin",0).end().find(".tooltipster-arrow").hide(),this.__options.minWidth&&e.css("min-width",this.__options.minWidth+"px"),this.__options.maxWidth&&e.css("max-width",this.__options.maxWidth+"px"),this.__instance._$tooltip=e,this.__instance._trigger("created")},__destroy:function(){this.__instance._off("."+self.__namespace)},__optionsFormat:function(){var e=this;if(e.__options=e.__instance._optionsExtract(c,e.__defaults()),e.__options.position&&(e.__options.side=e.__options.position),"object"!=typeof e.__options.distance&&(e.__options.distance=[e.__options.distance]),e.__options.distance.length<4&&(void 0===e.__options.distance[1]&&(e.__options.distance[1]=e.__options.distance[0]),void 0===e.__options.distance[2]&&(e.__options.distance[2]=e.__options.distance[0]),void 0===e.__options.distance[3]&&(e.__options.distance[3]=e.__options.distance[1]),e.__options.distance={top:e.__options.distance[0],right:e.__options.distance[1],bottom:e.__options.distance[2],left:e.__options.distance[3]}),"string"==typeof e.__options.side){var n={top:"bottom",right:"left",bottom:"top",left:"right"};e.__options.side=[e.__options.side,n[e.__options.side]],"left"==e.__options.side[0]||"right"==e.__options.side[0]?e.__options.side.push("top","bottom"):e.__options.side.push("right","left")}6===t.tooltipster._env.IE&&!0!==e.__options.arrow&&(e.__options.arrow=!1)},__reposition:function(e,n){var r,o=this,i=o.__targetFind(n),a=[];o.__instance._$tooltip.detach();var s=o.__instance._$tooltip.clone(),l=t.tooltipster._getRuler(s),u=!1,c=o.__instance.option("animation");switch(c&&s.removeClass("tooltipster-"+c),t.each(["window","document"],function(r,c){var f=null;if(o.__instance._trigger({container:c,helper:n,satisfied:u,takeTest:function(t){f=t},results:a,type:"positionTest"}),1==f||0!=f&&0==u&&("window"!=c||o.__options.viewportAware))for(var r=0;r<o.__options.side.length;r++){var d={horizontal:0,vertical:0},h=o.__options.side[r];"top"==h||"bottom"==h?d.vertical=o.__options.distance[h]:d.horizontal=o.__options.distance[h],o.__sideChange(s,h),t.each(["natural","constrained"],function(t,r){if(f=null,o.__instance._trigger({container:c,event:e,helper:n,mode:r,results:a,satisfied:u,side:h,takeTest:function(t){f=t},type:"positionTest"}),1==f||0!=f&&0==u){var s={container:c,distance:d,fits:null,mode:r,outerSize:null,side:h,size:null,target:i[h],whole:null},p="natural"==r?l.free():l.constrain(n.geo.available[c][h].width-d.horizontal,n.geo.available[c][h].height-d.vertical),g=p.measure();if(s.size=g.size,s.outerSize={height:g.size.height+d.vertical,width:g.size.width+d.horizontal},"natural"==r?n.geo.available[c][h].width>=s.outerSize.width&&n.geo.available[c][h].height>=s.outerSize.height?s.fits=!0:s.fits=!1:s.fits=g.fits,"window"==c&&(s.fits?s.whole="top"==h||"bottom"==h?n.geo.origin.windowOffset.right>=o.__options.minIntersection&&n.geo.window.size.width-n.geo.origin.windowOffset.left>=o.__options.minIntersection:n.geo.origin.windowOffset.bottom>=o.__options.minIntersection&&n.geo.window.size.height-n.geo.origin.windowOffset.top>=o.__options.minIntersection:s.whole=!1),a.push(s),s.whole)u=!0;else if("natural"==s.mode&&(s.fits||s.size.width<=n.geo.available[c][h].width))return!1}})}}),o.__instance._trigger({edit:function(t){a=t},event:e,helper:n,results:a,type:"positionTested"}),a.sort(function(t,e){if(t.whole&&!e.whole)return-1;if(!t.whole&&e.whole)return 1;if(t.whole&&e.whole){var n=o.__options.side.indexOf(t.side),r=o.__options.side.indexOf(e.side);return r>n?-1:n>r?1:"natural"==t.mode?-1:1}if(t.fits&&!e.fits)return-1;if(!t.fits&&e.fits)return 1;if(t.fits&&e.fits){var n=o.__options.side.indexOf(t.side),r=o.__options.side.indexOf(e.side);return r>n?-1:n>r?1:"natural"==t.mode?-1:1}return"document"==t.container&&"bottom"==t.side&&"natural"==t.mode?-1:1}),r=a[0],r.coord={},r.side){case"left":case"right":r.coord.top=Math.floor(r.target-r.size.height/2);break;case"bottom":case"top":r.coord.left=Math.floor(r.target-r.size.width/2)}switch(r.side){case"left":r.coord.left=n.geo.origin.windowOffset.left-r.outerSize.width;break;case"right":r.coord.left=n.geo.origin.windowOffset.right+r.distance.horizontal;break;case"top":r.coord.top=n.geo.origin.windowOffset.top-r.outerSize.height;break;case"bottom":r.coord.top=n.geo.origin.windowOffset.bottom+r.distance.vertical}"window"==r.container?"top"==r.side||"bottom"==r.side?r.coord.left<0?n.geo.origin.windowOffset.right-this.__options.minIntersection>=0?r.coord.left=0:r.coord.left=n.geo.origin.windowOffset.right-this.__options.minIntersection-1:r.coord.left>n.geo.window.size.width-r.size.width&&(n.geo.origin.windowOffset.left+this.__options.minIntersection<=n.geo.window.size.width?r.coord.left=n.geo.window.size.width-r.size.width:r.coord.left=n.geo.origin.windowOffset.left+this.__options.minIntersection+1-r.size.width):r.coord.top<0?n.geo.origin.windowOffset.bottom-this.__options.minIntersection>=0?r.coord.top=0:r.coord.top=n.geo.origin.windowOffset.bottom-this.__options.minIntersection-1:r.coord.top>n.geo.window.size.height-r.size.height&&(n.geo.origin.windowOffset.top+this.__options.minIntersection<=n.geo.window.size.height?r.coord.top=n.geo.window.size.height-r.size.height:r.coord.top=n.geo.origin.windowOffset.top+this.__options.minIntersection+1-r.size.height):(r.coord.left>n.geo.window.size.width-r.size.width&&(r.coord.left=n.geo.window.size.width-r.size.width),r.coord.left<0&&(r.coord.left=0)),o.__sideChange(s,r.side),n.tooltipClone=s[0],n.tooltipParent=o.__instance.option("parent").parent[0],n.mode=r.mode,n.whole=r.whole,n.origin=o.__instance._$origin[0],n.tooltip=o.__instance._$tooltip[0],delete r.container,delete r.fits,delete r.mode,delete r.outerSize,delete r.whole,r.distance=r.distance.horizontal||r.distance.vertical;var f=t.extend(!0,{},r);if(o.__instance._trigger({edit:function(t){r=t},event:e,helper:n,position:f,type:"position"}),o.__options.functionPosition){var d=o.__options.functionPosition.call(o,o.__instance,n,f);d&&(r=d)}l.destroy();var h,p;"top"==r.side||"bottom"==r.side?(h={prop:"left",val:r.target-r.coord.left},p=r.size.width-this.__options.minIntersection):(h={prop:"top",val:r.target-r.coord.top},p=r.size.height-this.__options.minIntersection),h.val<this.__options.minIntersection?h.val=this.__options.minIntersection:h.val>p&&(h.val=p);var g;g=n.geo.origin.fixedLineage?n.geo.origin.windowOffset:{left:n.geo.origin.windowOffset.left+n.geo.window.scroll.left,top:n.geo.origin.windowOffset.top+n.geo.window.scroll.top},r.coord={left:g.left+(r.coord.left-n.geo.origin.windowOffset.left),top:g.top+(r.coord.top-n.geo.origin.windowOffset.top)},o.__sideChange(o.__instance._$tooltip,r.side),n.geo.origin.fixedLineage?o.__instance._$tooltip.css("position","fixed"):o.__instance._$tooltip.css("position",""),o.__instance._$tooltip.css({left:r.coord.left,top:r.coord.top,height:r.size.height,width:r.size.width}).find(".tooltipster-arrow").css({left:"",top:""}).css(h.prop,h.val),o.__instance._$tooltip.appendTo(o.__instance.option("parent")),o.__instance._trigger({type:"repositioned",event:e,position:r})},__sideChange:function(t,e){t.removeClass("tooltipster-bottom").removeClass("tooltipster-left").removeClass("tooltipster-right").removeClass("tooltipster-top").addClass("tooltipster-"+e)},__targetFind:function(t){var e={},n=this.__instance._$origin[0].getClientRects();if(n.length>1){1==this.__instance._$origin.css("opacity")&&(this.__instance._$origin.css("opacity",.99),n=this.__instance._$origin[0].getClientRects(),this.__instance._$origin.css("opacity",1))}if(n.length<2)e.top=Math.floor(t.geo.origin.windowOffset.left+t.geo.origin.size.width/2),e.bottom=e.top,e.left=Math.floor(t.geo.origin.windowOffset.top+t.geo.origin.size.height/2),e.right=e.left;else{var r=n[0];e.top=Math.floor(r.left+(r.right-r.left)/2),r=n.length>2?n[Math.ceil(n.length/2)-1]:n[0],e.right=Math.floor(r.top+(r.bottom-r.top)/2),r=n[n.length-1],e.bottom=Math.floor(r.left+(r.right-r.left)/2),r=n.length>2?n[Math.ceil((n.length+1)/2)-1]:n[n.length-1],e.left=Math.floor(r.top+(r.bottom-r.top)/2)}return e}}}),t}),function(){var t,e,n,r,o,i,a,s,l,u=[].slice,c=function(t,e){function n(){this.constructor=t}for(var r in e)f.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;s=function(){},e=function(){function t(){}return t.prototype.addEventListener=t.prototype.on,t.prototype.on=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},t.prototype.emit=function(){var t,e,n,r,o,i;if(r=arguments[0],t=2<=arguments.length?u.call(arguments,1):[],this._callbacks=this._callbacks||{},n=this._callbacks[r])for(o=0,i=n.length;o<i;o++)e=n[o],e.apply(this,t);return this},t.prototype.removeListener=t.prototype.off,t.prototype.removeAllListeners=t.prototype.off,t.prototype.removeEventListener=t.prototype.off,t.prototype.off=function(t,e){var n,r,o,i;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(n=this._callbacks[t]))return this;if(1===arguments.length)return delete this._callbacks[t],this;for(r=o=0,i=n.length;o<i;r=++o)if(n[r]===e){n.splice(r,1);break}return this},t}(),t=function(t){function r(t,e){var n,i,a;if(this.element=t,this.version=r.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(r.instances.push(this),this.element.dropzone=this,n=null!=(a=r.optionsForElement(this.element))?a:{},this.options=o({},this.defaultOptions,n,null!=e?e:{}),this.options.forceFallback||!r.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),null!=this.options.renameFilename&&(this.options.renameFile=function(t){return function(e){return t.options.renameFilename.call(t,e.name,e)}}(this)),this.options.method=this.options.method.toUpperCase(),(i=this.getExistingFallback())&&i.parentNode&&i.parentNode.removeChild(i),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=r.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=r.getElements(this.options.clickable,"clickable")),this.init()}var o,i;return c(r,t),r.prototype.Emitter=e,
r.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],r.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,timeout:3e4,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,params:{},headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){return s},accept:function(t,e){return e()},fallback:function(){var t,e,n,o,i,a;for(this.element.className=this.element.className+" dz-browser-not-supported",i=this.element.getElementsByTagName("div"),e=0,n=i.length;e<n;e++)t=i[e],/(^| )dz-message($| )/.test(t.className)&&(o=t,t.className="dz-message");return o||(o=r.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(o)),a=o.getElementsByTagName("span")[0],a&&(null!=a.textContent?a.textContent=this.options.dictFallbackMessage:null!=a.innerText&&(a.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(t,e,n,r){var o,i,a;if(o={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},i=t.width/t.height,null==e&&null==n?(e=o.srcWidth,n=o.srcHeight):null==e?e=n*i:null==n&&(n=e/i),e=Math.min(e,o.srcWidth),n=Math.min(n,o.srcHeight),a=e/n,o.srcWidth>e||o.srcHeight>n)if("crop"===r)i>a?(o.srcHeight=t.height,o.srcWidth=o.srcHeight*a):(o.srcWidth=t.width,o.srcHeight=o.srcWidth/a);else{if("contain"!==r)throw new Error("Unknown resizeMethod '"+r+"'");i>a?n=e/i:e=n*i}return o.srcX=(t.width-o.srcWidth)/2,o.srcY=(t.height-o.srcHeight)/2,o.trgWidth=e,o.trgHeight=n,o},transformFile:function(t,e){return(this.options.resizeWidth||this.options.resizeHeight)&&t.type.match(/image.*/)?this.resizeImage(t,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(t)},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:s,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:s,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e,n,o,i,a,s,l,u,c,f,d,h,p;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=r.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),u=t.previewElement.querySelectorAll("[data-dz-name]"),e=0,i=u.length;e<i;e++)l=u[e],l.textContent=t.name;for(c=t.previewElement.querySelectorAll("[data-dz-size]"),n=0,a=c.length;n<a;n++)l=c[n],l.innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=r.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),d=function(e){return function(n){return n.preventDefault(),n.stopPropagation(),t.status===r.UPLOADING?r.confirm(e.options.dictCancelUploadConfirmation,function(){return e.removeFile(t)}):e.options.dictRemoveFileConfirmation?r.confirm(e.options.dictRemoveFileConfirmation,function(){return e.removeFile(t)}):e.removeFile(t)}}(this),f=t.previewElement.querySelectorAll("[data-dz-remove]"),p=[],o=0,s=f.length;o<s;o++)h=f[o],p.push(h.addEventListener("click",d));return p}},removedfile:function(t){var e;return t.previewElement&&null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var n,r,o,i;if(t.previewElement){for(t.previewElement.classList.remove("dz-file-preview"),o=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),n=0,r=o.length;n<r;n++)i=o[n],i.alt=t.name,i.src=e;return setTimeout(function(){return function(){return t.previewElement.classList.add("dz-image-preview")}}(),1)}},error:function(t,e){var n,r,o,i,a;if(t.previewElement){for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),i=t.previewElement.querySelectorAll("[data-dz-errormessage]"),a=[],n=0,r=i.length;n<r;n++)o=i[n],a.push(o.textContent=e);return a}},errormultiple:s,processing:function(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:s,uploadprogress:function(t,e){var n,r,o,i,a;if(t.previewElement){for(i=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),a=[],n=0,r=i.length;n<r;n++)o=i[n],"PROGRESS"===o.nodeName?a.push(o.value=e):a.push(o.style.width=e+"%");return a}},totaluploadprogress:s,sending:s,sendingmultiple:s,success:function(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple:s,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:s,complete:function(t){if(t._removeLink&&(t._removeLink.textContent=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple:s,maxfilesexceeded:s,maxfilesreached:s,queuecomplete:s,addedfiles:s},o=function(){var t,e,n,r,o,i,a;for(i=arguments[0],o=2<=arguments.length?u.call(arguments,1):[],t=0,n=o.length;t<n;t++){r=o[t];for(e in r)a=r[e],i[e]=a}return i},r.prototype.getAcceptedFiles=function(){var t,e,n,r,o;for(r=this.files,o=[],e=0,n=r.length;e<n;e++)t=r[e],t.accepted&&o.push(t);return o},r.prototype.getRejectedFiles=function(){var t,e,n,r,o;for(r=this.files,o=[],e=0,n=r.length;e<n;e++)t=r[e],t.accepted||o.push(t);return o},r.prototype.getFilesWithStatus=function(t){var e,n,r,o,i;for(o=this.files,i=[],n=0,r=o.length;n<r;n++)e=o[n],e.status===t&&i.push(e);return i},r.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(r.QUEUED)},r.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(r.UPLOADING)},r.prototype.getAddedFiles=function(){return this.getFilesWithStatus(r.ADDED)},r.prototype.getActiveFiles=function(){var t,e,n,o,i;for(o=this.files,i=[],e=0,n=o.length;e<n;e++)t=o[e],t.status!==r.UPLOADING&&t.status!==r.QUEUED||i.push(t);return i},r.prototype.init=function(){var t,e,n,o,i,a,s;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(r.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(s=function(t){return function(){return t.hiddenFileInput&&t.hiddenFileInput.parentNode.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null==t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!=t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),null!=t.options.capture&&t.hiddenFileInput.setAttribute("capture",t.options.capture),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",document.querySelector(t.options.hiddenInputContainer).appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var e,n,r,o;if(n=t.hiddenFileInput.files,n.length)for(r=0,o=n.length;r<o;r++)e=n[r],t.addFile(e);return t.emit("addedfiles",n),s()})}}(this))(),this.URL=null!=(i=window.URL)?i:window.webkitURL,a=this.events,e=0,n=a.length;e<n;e++)t=a[e],this.on(t,this.options[t]);return this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this)),this.on("complete",function(t){return function(){if(0===t.getAddedFiles().length&&0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length)return setTimeout(function(){return t.emit("queuecomplete")},0)}}(this)),o=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(e){return o(e),t.emit("dragenter",e)}}(this),dragover:function(t){return function(e){var n;try{n=e.dataTransfer.effectAllowed}catch(t){}return e.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy",o(e),t.emit("dragover",e)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(e){return o(e),t.drop(e)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}],this.clickableElements.forEach(function(t){return function(e){return t.listeners.push({element:e,events:{click:function(n){return(e!==t.element||n.target===t.element||r.elementInside(n.target,t.element.querySelector(".dz-message")))&&t.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},r.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,r.instances.splice(r.instances.indexOf(this),1)},r.prototype.updateTotalUploadProgress=function(){var t,e,n,r,o,i,a,s;if(a=0,i=0,t=this.getActiveFiles(),t.length){for(o=this.getActiveFiles(),n=0,r=o.length;n<r;n++)e=o[n],a+=e.upload.bytesSent,i+=e.upload.total;s=100*a/i}else s=100;return this.emit("totaluploadprogress",s,i,a)},r.prototype._getParamName=function(t){return"function"==typeof this.options.paramName?this.options.paramName(t):this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")},r.prototype._renameFile=function(t){return"function"!=typeof this.options.renameFile?t.name:this.options.renameFile(t)},r.prototype.getFallbackForm=function(){var t,e,n,o;return(t=this.getExistingFallback())?t:(n='<div class="dz-fallback">',this.options.dictFallbackText&&(n+="<p>"+this.options.dictFallbackText+"</p>"),n+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',e=r.createElement(n),"FORM"!==this.element.tagName?(o=r.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),o.appendChild(e)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=o?o:e)},r.prototype.getExistingFallback=function(){var t,e,n,r,o,i;for(e=function(t){var e,n,r;for(n=0,r=t.length;n<r;n++)if(e=t[n],/(^| )fallback($| )/.test(e.className))return e},o=["div","form"],n=0,r=o.length;n<r;n++)if(i=o[n],t=e(this.element.getElementsByTagName(i)))return t},r.prototype.setupEventListeners=function(){var t,e,n,r,o,i,a;for(i=this.listeners,a=[],n=0,r=i.length;n<r;n++)t=i[n],a.push(function(){var n,r;n=t.events,r=[];for(e in n)o=n[e],r.push(t.element.addEventListener(e,o,!1));return r}());return a},r.prototype.removeEventListeners=function(){var t,e,n,r,o,i,a;for(i=this.listeners,a=[],n=0,r=i.length;n<r;n++)t=i[n],a.push(function(){var n,r;n=t.events,r=[];for(e in n)o=n[e],r.push(t.element.removeEventListener(e,o,!1));return r}());return a},r.prototype.disable=function(){var t,e,n,r,o;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),r=this.files,o=[],e=0,n=r.length;e<n;e++)t=r[e],o.push(this.cancelUpload(t));return o},r.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},r.prototype.filesize=function(t){var e,n,r,o,i,a,s,l;if(i=0,a="b",t>0){for(l=["tb","gb","mb","kb","b"],n=r=0,o=l.length;r<o;n=++r)if(s=l[n],e=Math.pow(this.options.filesizeBase,4-n)/10,t>=e){i=t/Math.pow(this.options.filesizeBase,4-n),a=s;break}i=Math.round(10*i)/10}return"<strong>"+i+"</strong> "+this.options.dictFileSizeUnits[a]},r.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},r.prototype.drop=function(t){var e,n;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,this.emit("addedfiles",e),e.length&&(n=t.dataTransfer.items,n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(e)))},r.prototype.paste=function(t){var e,n;if(null!=(null!=t&&null!=(n=t.clipboardData)?n.items:void 0))return this.emit("paste",t),e=t.clipboardData.items,e.length?this._addFilesFromItems(e):void 0},r.prototype.handleFiles=function(t){var e,n,r,o;for(o=[],n=0,r=t.length;n<r;n++)e=t[n],o.push(this.addFile(e));return o},r.prototype._addFilesFromItems=function(t){var e,n,r,o,i;for(i=[],r=0,o=t.length;r<o;r++)n=t[r],null!=n.webkitGetAsEntry&&(e=n.webkitGetAsEntry())?e.isFile?i.push(this.addFile(n.getAsFile())):e.isDirectory?i.push(this._addFilesFromDirectory(e,e.name)):i.push(void 0):null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?i.push(this.addFile(n.getAsFile())):i.push(void 0);return i},r.prototype._addFilesFromDirectory=function(t,e){var n,r,o;return n=t.createReader(),r=function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0},(o=function(t){return function(){return n.readEntries(function(n){var r,i,a;if(n.length>0){for(i=0,a=n.length;i<a;i++)r=n[i],r.isFile?r.file(function(n){if(!t.options.ignoreHiddenFiles||"."!==n.name.substring(0,1))return n.fullPath=e+"/"+n.name,t.addFile(n)}):r.isDirectory&&t._addFilesFromDirectory(r,e+"/"+r.name);o()}return null},r)}}(this))()},r.prototype.accept=function(t,e){return t.size>1024*this.options.maxFilesize*1024?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):r.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)},r.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0,filename:this._renameFile(t)},this.files.push(t),t.status=r.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return function(n){return n?(t.accepted=!1,e._errorProcessing([t],n)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()}}(this))},r.prototype.enqueueFiles=function(t){var e,n,r;for(n=0,r=t.length;n<r;n++)e=t[n],this.enqueueFile(e);return null},r.prototype.enqueueFile=function(t){if(t.status!==r.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=r.QUEUED,this.options.autoProcessQueue)return setTimeout(function(t){return function(){return t.processQueue()}}(this),0)},r.prototype._thumbnailQueue=[],r.prototype._processingThumbnail=!1,r.prototype._enqueueThumbnail=function(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(t),setTimeout(function(t){return function(){return t._processThumbnailQueue()}}(this),0)},r.prototype._processThumbnailQueue=function(){var t;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,t=this._thumbnailQueue.shift(),this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(e){return function(n){return e.emit("thumbnail",t,n),e._processingThumbnail=!1,e._processThumbnailQueue()}}(this))},r.prototype.removeFile=function(t){if(t.status===r.UPLOADING&&this.cancelUpload(t),this.files=l(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")},r.prototype.removeAllFiles=function(t){var e,n,o,i;for(null==t&&(t=!1),i=this.files.slice(),n=0,o=i.length;n<o;n++)e=i[n],(e.status!==r.UPLOADING||t)&&this.removeFile(e);return null},r.prototype.resizeImage=function(t,e,o,i,a){return this.createThumbnail(t,e,o,i,!1,function(e){return function(o,i){var s,l;return null===i?a(t):(s=e.options.resizeMimeType,null==s&&(s=t.type),l=i.toDataURL(s,e.options.resizeQuality),"image/jpeg"!==s&&"image/jpg"!==s||(l=n.restore(t.dataURL,l)),a(r.dataURItoBlob(l)))}}(this))},r.prototype.createThumbnail=function(t,e,n,r,o,i){var a;return a=new FileReader,a.onload=function(s){return function(){return t.dataURL=a.result,"image/svg+xml"===t.type?void(null!=i&&i(a.result)):s.createThumbnailFromUrl(t,e,n,r,o,i)}}(this),a.readAsDataURL(t)},r.prototype.createThumbnailFromUrl=function(t,e,n,r,o,i,s){var l;return l=document.createElement("img"),s&&(l.crossOrigin=s),l.onload=function(s){return function(){var u;return u=function(t){return t(1)},"undefined"!=typeof EXIF&&null!==EXIF&&o&&(u=function(t){return EXIF.getData(l,function(){return t(EXIF.getTag(this,"Orientation"))})}),u(function(o){var u,c,f,d,h,p,g,m;switch(t.width=l.width,t.height=l.height,g=s.options.resize.call(s,t,e,n,r),u=document.createElement("canvas"),c=u.getContext("2d"),u.width=g.trgWidth,u.height=g.trgHeight,o>4&&(u.width=g.trgHeight,u.height=g.trgWidth),o){case 2:c.translate(u.width,0),c.scale(-1,1);break;case 3:c.translate(u.width,u.height),c.rotate(Math.PI);break;case 4:c.translate(0,u.height),c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-u.height);break;case 7:c.rotate(.5*Math.PI),c.translate(u.width,-u.height),c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI),c.translate(-u.width,0)}if(a(c,l,null!=(f=g.srcX)?f:0,null!=(d=g.srcY)?d:0,g.srcWidth,g.srcHeight,null!=(h=g.trgX)?h:0,null!=(p=g.trgY)?p:0,g.trgWidth,g.trgHeight),m=u.toDataURL("image/png"),null!=i)return i(m,u)})}}(this),null!=i&&(l.onerror=i),l.src=t.dataURL},r.prototype.processQueue=function(){var t,e,n,r;if(e=this.options.parallelUploads,n=this.getUploadingFiles().length,t=n,!(n>=e)&&(r=this.getQueuedFiles(),r.length>0)){if(this.options.uploadMultiple)return this.processFiles(r.slice(0,e-n));for(;t<e;){if(!r.length)return;this.processFile(r.shift()),t++}}},r.prototype.processFile=function(t){return this.processFiles([t])},r.prototype.processFiles=function(t){var e,n,o;for(n=0,o=t.length;n<o;n++)e=t[n],e.processing=!0,e.status=r.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},r.prototype._getFilesWithXhr=function(t){var e;return function(){var n,r,o,i;for(o=this.files,i=[],n=0,r=o.length;n<r;n++)e=o[n],e.xhr===t&&i.push(e);return i}.call(this)},r.prototype.cancelUpload=function(t){var e,n,o,i,a,s,l;if(t.status===r.UPLOADING){for(n=this._getFilesWithXhr(t.xhr),o=0,a=n.length;o<a;o++)e=n[o],e.status=r.CANCELED;for(t.xhr.abort(),i=0,s=n.length;i<s;i++)e=n[i],this.emit("canceled",e);this.options.uploadMultiple&&this.emit("canceledmultiple",n)}else(l=t.status)!==r.ADDED&&l!==r.QUEUED||(t.status=r.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()},i=function(){var t,e;return e=arguments[0],t=2<=arguments.length?u.call(arguments,1):[],"function"==typeof e?e.apply(this,t):e},r.prototype.uploadFile=function(t){return this.uploadFiles([t])},r.prototype.uploadFiles=function(t){var e,n,a,s,l,u,c,f,d,h,p,g,m,v,y,_,b,w,k,x,C,T,E,S,A,D,M,N,L,I,R,P,F,$,O,q,j;for(j=new XMLHttpRequest,m=0,b=t.length;m<b;m++)a=t[m],a.xhr=j;T=i(this.options.method,t),O=i(this.options.url,t),j.open(T,O,!0),j.timeout=i(this.options.timeout,t),j.withCredentials=!!this.options.withCredentials,P=null,l=function(e){return function(){var n,r,o;for(o=[],n=0,r=t.length;n<r;n++)a=t[n],o.push(e._errorProcessing(t,P||e.options.dictResponseError.replace("{{statusCode}}",j.status),j));return o}}(this),$=function(e){return function(n){var r,o,i,s,l,u,c,f,d;if(null!=n)for(f=100*n.loaded/n.total,o=0,s=t.length;o<s;o++)a=t[o],a.upload.progress=f,a.upload.total=n.total,a.upload.bytesSent=n.loaded;else{for(r=!0,f=100,i=0,l=t.length;i<l;i++)a=t[i],100===a.upload.progress&&a.upload.bytesSent===a.upload.total||(r=!1),a.upload.progress=f,a.upload.bytesSent=a.upload.total;if(r)return}for(d=[],c=0,u=t.length;c<u;c++)a=t[c],d.push(e.emit("uploadprogress",a,f,a.upload.bytesSent));return d}}(this),j.onload=function(e){return function(n){var o;if(t[0].status!==r.CANCELED&&4===j.readyState){if("arraybuffer"!==j.responseType&&"blob"!==j.responseType&&(P=j.responseText,j.getResponseHeader("content-type")&&~j.getResponseHeader("content-type").indexOf("application/json")))try{P=JSON.parse(P)}catch(t){n=t,P="Invalid JSON response from server."}return $(),200<=(o=j.status)&&o<300?e._finished(t,P,n):l()}}}(this),j.onerror=function(){return function(){if(t[0].status!==r.CANCELED)return l()}}(),A=null!=(D=j.upload)?D:j,A.onprogress=$,f={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&o(f,this.options.headers);for(u in f)(c=f[u])&&j.setRequestHeader(u,c);if(s=new FormData,this.options.params){M=this.options.params;for(y in M)q=M[y],s.append(y,q)}for(v=0,w=t.length;v<w;v++)a=t[v],this.emit("sending",a,j,s);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,j,s),"FORM"===this.element.tagName)for(N=this.element.querySelectorAll("input, textarea, select, button"),_=0,k=N.length;_<k;_++)if(h=N[_],p=h.getAttribute("name"),g=h.getAttribute("type"),"SELECT"===h.tagName&&h.hasAttribute("multiple"))for(L=h.options,C=0,x=L.length;C<x;C++)S=L[C],S.selected&&s.append(p,S.value);else(!g||"checkbox"!==(I=g.toLowerCase())&&"radio"!==I||h.checked)&&s.append(p,h.value);for(e=0,F=[],d=E=0,R=t.length-1;0<=R?E<=R:E>=R;d=0<=R?++E:--E)n=function(n){return function(r,o,i){return function(r){if(s.append(o,r,i),++e===t.length)return n.submitRequest(j,s,t)}}}(this),F.push(this.options.transformFile.call(this,t[d],n(t[d],this._getParamName(d),t[d].upload.filename)));return F},r.prototype.submitRequest=function(t,e){return t.send(e)},r.prototype._finished=function(t,e,n){var o,i,a;for(i=0,a=t.length;i<a;i++)o=t[i],o.status=r.SUCCESS,this.emit("success",o,e,n),this.emit("complete",o);if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},r.prototype._errorProcessing=function(t,e,n){var o,i,a;for(i=0,a=t.length;i<a;i++)o=t[i],o.status=r.ERROR,this.emit("error",o,e,n),this.emit("complete",o);if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,n),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()},r}(e),t.version="5.1.1",t.options={},t.optionsForElement=function(e){return e.getAttribute("id")?t.options[r(e.getAttribute("id"))]:void 0},t.instances=[],t.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},t.autoDiscover=!0,t.discover=function(){var e,n,r,o,i,a;for(document.querySelectorAll?r=document.querySelectorAll(".dropzone"):(r=[],e=function(t){var e,n,o,i;for(i=[],n=0,o=t.length;n<o;n++)e=t[n],/(^| )dropzone($| )/.test(e.className)?i.push(r.push(e)):i.push(void 0);return i},e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),a=[],o=0,i=r.length;o<i;o++)n=r[o],!1!==t.optionsForElement(n)?a.push(new t(n)):a.push(void 0);return a},t.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],t.isBrowserSupported=function(){var e,n,r,o,i;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(o=t.blacklistedBrowsers,n=0,r=o.length;n<r;n++)i=o[n],i.test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},t.dataURItoBlob=function(t){var e,n,r,o,i,a,s;for(n=atob(t.split(",")[1]),a=t.split(",")[0].split(":")[1].split(";")[0],e=new ArrayBuffer(n.length),o=new Uint8Array(e),r=i=0,s=n.length;0<=s?i<=s:i>=s;r=0<=s?++i:--i)o[r]=n.charCodeAt(r);return new Blob([e],{type:a})},l=function(t,e){var n,r,o,i;for(i=[],r=0,o=t.length;r<o;r++)(n=t[r])!==e&&i.push(n);return i},r=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},t.createElement=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.childNodes[0]},t.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},t.getElement=function(t,e){var n;if("string"==typeof t?n=document.querySelector(t):null!=t.nodeType&&(n=t),null==n)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},t.getElements=function(t,e){var n,r,o,i,a,s,l;if(t instanceof Array){r=[];try{for(o=0,a=t.length;o<a;o++)n=t[o],r.push(this.getElement(n,e))}catch(t){t,r=null}}else if("string"==typeof t)for(r=[],l=document.querySelectorAll(t),i=0,s=l.length;i<s;i++)n=l[i],r.push(n);else null!=t.nodeType&&(r=[t]);if(null==r||!r.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return r},t.confirm=function(t,e,n){return window.confirm(t)?e():null!=n?n():void 0},t.isValidFile=function(t,e){var n,r,o,i,a;if(!e)return!0;for(e=e.split(","),i=t.type,n=i.replace(/\/.*$/,""),r=0,o=e.length;r<o;r++)if(a=e[r],a=a.trim(),"."===a.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(a.toLowerCase(),t.name.length-a.length))return!0}else if(/\/\*$/.test(a)){if(n===a.replace(/\/.*$/,""))return!0}else if(i===a)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new t(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=t:window.Dropzone=t,t.ADDED="added",t.QUEUED="queued",t.ACCEPTED=t.QUEUED,t.UPLOADING="uploading",t.PROCESSING=t.UPLOADING,t.CANCELED="canceled",t.ERROR="error",t.SUCCESS="success",i=function(t){var e,n,r,o,i,a,s,l,u;for(t.naturalWidth,a=t.naturalHeight,n=document.createElement("canvas"),n.width=1,n.height=a,r=n.getContext("2d"),r.drawImage(t,0,0),o=r.getImageData(1,0,1,a).data,u=0,i=a,s=a;s>u;)e=o[4*(s-1)+3],0===e?i=s:u=s,s=i+u>>1;return l=s/a,0===l?1:l},a=function(t,e,n,r,o,a,s,l,u,c){var f;return f=i(e),t.drawImage(e,n,r,o,a,s,l,u,c/f)},n=function(){function t(){}return t.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t.encode64=function(t){var e,n,r,o,i,a,s,l,u;for(u="",e=void 0,n=void 0,r="",o=void 0,i=void 0,a=void 0,s="",l=0;;)if(e=t[l++],n=t[l++],r=t[l++],o=e>>2,i=(3&e)<<4|n>>4,a=(15&n)<<2|r>>6,s=63&r,isNaN(n)?a=s=64:isNaN(r)&&(s=64),u=u+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(s),e=n=r="",o=i=a=s="",!(l<t.length))break;return u},t.restore=function(t,e){var n,r,o;return t.match("data:image/jpeg;base64,")?(r=this.decode64(t.replace("data:image/jpeg;base64,","")),o=this.slice2Segments(r),n=this.exifManipulation(e,o),"data:image/jpeg;base64,"+this.encode64(n)):e},t.exifManipulation=function(t,e){var n,r;return n=this.getExifArray(e),r=this.insertExif(t,n),new Uint8Array(r)},t.getExifArray=function(t){var e,n;for(e=void 0,n=0;n<t.length;){
if(e=t[n],255===e[0]&225===e[1])return e;n++}return[]},t.insertExif=function(t,e){var n,r,o,i,a,s;return i=t.replace("data:image/jpeg;base64,",""),o=this.decode64(i),s=o.indexOf(255,3),a=o.slice(0,s),r=o.slice(s),n=a,n=n.concat(e),n=n.concat(r)},t.slice2Segments=function(t){var e,n,r,o,i;for(n=0,i=[];;){if(255===t[n]&218===t[n+1])break;if(255===t[n]&216===t[n+1]?n+=2:(r=256*t[n+2]+t[n+3],e=n+r+2,o=t.slice(n,e),i.push(o),n=e),n>t.length)break}return i},t.decode64=function(t){var e,n,r,o,i,a,s,l,u,c;for("",r=void 0,o=void 0,i="",a=void 0,s=void 0,l=void 0,u="",c=0,n=[],e=/[^A-Za-z0-9\+\/\=]/g,e.exec(t)&&console.warning("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");;)if(a=this.KEY_STR.indexOf(t.charAt(c++)),s=this.KEY_STR.indexOf(t.charAt(c++)),l=this.KEY_STR.indexOf(t.charAt(c++)),u=this.KEY_STR.indexOf(t.charAt(c++)),r=a<<2|s>>4,o=(15&s)<<4|l>>2,i=(3&l)<<6|u,n.push(r),64!==l&&n.push(o),64!==u&&n.push(i),r=o=i="",a=s=l=u="",!(c<t.length))break;return n},t}(),o=function(t,e){var n,r,o,i,a,s,l,u,c;if(o=!1,c=!0,r=t.document,u=r.documentElement,n=r.addEventListener?"addEventListener":"attachEvent",l=r.addEventListener?"removeEventListener":"detachEvent",s=r.addEventListener?"":"on",i=function(n){if("readystatechange"!==n.type||"complete"===r.readyState)return("load"===n.type?t:r)[l](s+n.type,i,!1),!o&&(o=!0)?e.call(t,n.type||n):void 0},a=function(){try{u.doScroll("left")}catch(t){return t,void setTimeout(a,50)}return i("poll")},"complete"!==r.readyState){if(r.createEventObject&&u.doScroll){try{c=!t.frameElement}catch(t){}c&&a()}return r[n](s+"DOMContentLoaded",i,!1),r[n](s+"readystatechange",i,!1),t[n](s+"load",i,!1)}},t._autoDiscoverFunction=function(){if(t.autoDiscover)return t.discover()},o(window,t._autoDiscoverFunction)}.call(this),function(t,e){var n=function(t,e,n){var r;return function(){function o(){n||t.apply(i,a),r=null}var i=this,a=arguments;r?clearTimeout(r):n&&t.apply(i,a),r=setTimeout(o,e||100)}};jQuery.fn[e]=function(t){return t?this.bind("resize",n(t)):this.trigger(e)}}(jQuery,"smartresize"),function(t){t.fn.fluidbox=function(e){var n=t.extend(!0,{viewportFill:.95,overlayColor:"rgba(255,255,255,.85)",debounceResize:!0,stackIndex:1e3,stackIndexDelta:10,closeTrigger:[{selector:".fluidbox-overlay",event:"click"},{selector:"document",event:"keyup",keyCode:27}]},e);n.stackIndex<n.stackIndexDelta&&(n.stackIndexDelta=n.stackIndex),$fbOverlay=t("<div />",{"class":"fluidbox-overlay",css:{"background-color":n.overlayColor,"z-index":n.stackIndex}});var r,o=this,i=t(window),a=function(){t(".fluidbox-opened").trigger("click")},s=function(t){var e=t.find("img"),n=t.find(".fluidbox-ghost"),r=t.find(".fluidbox-wrap"),o=i.scrollTop()-e.offset().top+.5*e.data("imgHeight")*(e.data("imgScale")-1)+.5*(i.height()-e.data("imgHeight")*e.data("imgScale")),a=.5*e.data("imgWidth")*(e.data("imgScale")-1)+.5*(i.width()-e.data("imgWidth")*e.data("imgScale"))-e.offset().left,s=e.data("imgScale");n.css({transform:"translate("+parseInt(10*a)/10+"px,"+parseInt(10*o)/10+"px) scale("+parseInt(1e3*s)/1e3+")",top:e.offset().top-r.offset().top,left:e.offset().left-r.offset().left})},l=function(){o.each(function(){u(t(this))})},u=function(t){function e(){l.imgWidth=o.width(),l.imgHeight=o.height(),l.imgRatio=o.width()/o.height(),a.css({width:o.width(),height:o.height(),top:o.offset().top-s.offset().top+parseInt(o.css("borderTopWidth"))+parseInt(o.css("paddingTop")),left:o.offset().left-s.offset().left+parseInt(o.css("borderLeftWidth"))+parseInt(o.css("paddingLeft"))}),l.imgScale=r>l.imgRatio?i.height()*n.viewportFill/o.height():i.width()*n.viewportFill/o.width()}if(r=i.width()/i.height(),t.hasClass("fluidbox")){var o=t.find("img"),a=t.find(".fluidbox-ghost"),s=t.find(".fluidbox-wrap"),l=o.data();e(),o.load(e)}},c=function(e){if(t(this).hasClass("fluidbox")){var r=t(this),o=t(this).find("img"),i=t(this).find(".fluidbox-ghost"),a=t(this).find(".fluidbox-wrap"),l={};0!==t(this).data("fluidbox-state")&&t(this).data("fluidbox-state")?(r.data("fluidbox-state",0).removeClass("fluidbox-opened").addClass("fluidbox-closed"),l.open&&window.clearTimeout(l.open),l.close=window.setTimeout(function(){t(".fluidbox-overlay").remove(),a.css({"z-index":n.stackIndex-n.stackIndexDelta})},10),t(".fluidbox-overlay").css({opacity:0}),i.css({transform:"translate(0,0) scale(1)",opacity:0,top:o.offset().top-a.offset().top+parseInt(o.css("borderTopWidth"))+parseInt(o.css("paddingTop")),left:o.offset().left-a.offset().left+parseInt(o.css("borderLeftWidth"))+parseInt(o.css("paddingLeft"))}),o.css({opacity:1})):t("<img />",{src:o.attr("src")}).load(function(){r.append($fbOverlay).data("fluidbox-state",1).removeClass("fluidbox-closed").addClass("fluidbox-opened"),l.close&&window.clearTimeout(l.close),l.open=window.setTimeout(function(){t(".fluidbox-overlay").css({opacity:1})},10),t(".fluidbox-wrap").css({zIndex:n.stackIndex-n.stackIndexDelta-1}),a.css({"z-index":n.stackIndex+n.stackIndexDelta}),i.css({"background-image":"url("+o.attr("src")+")",opacity:1}),o.css({opacity:0}),t("<img />",{src:r.attr("href")}).load(function(){i.css({"background-image":"url("+r.attr("href")+")"})}),s(r)}),e.preventDefault()}};n.closeTrigger&&t.each(n.closeTrigger,function(e){var r=n.closeTrigger[e];"window"!=r.selector?"document"==r.selector?r.keyCode?t(document).on(r.event,function(t){t.keyCode==r.keyCode&&a()}):t(document).on(r.event,a):t(document).on(r.event,n.closeTrigger[e].selector,a):i.on(r.event,a)}),o.each(function(){if(t(this).is("a")&&1===t(this).children().length&&t(this).children().is("img")){var e=t("<div />",{"class":"fluidbox-wrap",css:{"z-index":n.stackIndex-n.stackIndexDelta}}),r=t(this);r.addClass("fluidbox").wrapInner(e).find("img").css({opacity:1}).after('<div class="fluidbox-ghost" />').each(function(){var e=t(this);e.width()>0&&e.height()>0?(u(r),r.click(c)):e.load(function(){u(r),r.click(c)})})}});var f=function(){l();var e=t("a.fluidbox.fluidbox-opened");e.length>0&&s(e)};return n.debounceResize?t(window).smartresize(f):t(window).resize(f),o}}(jQuery),function(){window.SocialShareButton={openUrl:function(t,e,n){var r,o,i;return null==e&&(e=640),null==n&&(n=480),r=screen.width/2-e/2,i=.3*screen.height-n/2,o="width="+e+",height="+n+",left="+r+",top="+i+",menubar=no,status=no,location=no",window.open(t,"popup",o),!1},share:function(t){var e,n,r,o,i,a,s,l,u,c,f,d,h;switch(l=$(t).data("site"),n=$(t).data("appkey")||"",e=$(t).parent(),u=encodeURIComponent($(t).data(l+"-title")||e.data("title")||""),s=encodeURIComponent(e.data("img")||""),f=encodeURIComponent(e.data("url")||""),d=encodeURIComponent(e.data("via")||""),r=encodeURIComponent(e.data("desc")||" "),o=window[window.GoogleAnalyticsObject||"ga"],"function"==typeof o&&o("send","event","Social Share Button","click",l),0===f.length&&(f=encodeURIComponent(location.href)),l){case"email":location.href="mailto:?to=&subject="+u+"&body="+f;break;case"weibo":SocialShareButton.openUrl("http://service.weibo.com/share/share.php?url="+f+"&type=3&pic="+s+"&title="+u+"&appkey="+n,620,370);break;case"twitter":a=encodeURIComponent($(t).data(l+"-hashtags")||e.data("hashtags")||""),h="",d.length>0&&(h="&via="+d),SocialShareButton.openUrl("https://twitter.com/intent/tweet?url="+f+"&text="+u+"&hashtags="+a+h,650,300);break;case"douban":SocialShareButton.openUrl("http://shuo.douban.com/!service/share?href="+f+"&name="+u+"&image="+s+"&sel="+r,770,470);break;case"facebook":SocialShareButton.openUrl("http://www.facebook.com/sharer/sharer.php?u="+f+"&display=popup&quote="+r,555,400);break;case"qq":SocialShareButton.openUrl("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+f+"&title="+u+"&pics="+s+"&summary="+r+"&site="+n);break;case"google_plus":SocialShareButton.openUrl("https://plus.google.com/share?url="+f);break;case"google_bookmark":SocialShareButton.openUrl("https://www.google.com/bookmarks/mark?op=edit&output=popup&bkmk="+f+"&title="+u);break;case"delicious":SocialShareButton.openUrl("https://del.icio.us/save?url="+f+"&title="+u+"&jump=yes&pic="+s);break;case"pinterest":SocialShareButton.openUrl("http://www.pinterest.com/pin/create/button/?url="+f+"&media="+s+"&description="+u);break;case"linkedin":SocialShareButton.openUrl("https://www.linkedin.com/shareArticle?mini=true&url="+f+"&title="+u+"&summary="+r);break;case"xing":SocialShareButton.openUrl("https://www.xing.com/spi/shares/new?url="+f);break;case"vkontakte":SocialShareButton.openUrl("http://vk.com/share.php?url="+f+"&title="+u+"&image="+s);break;case"odnoklassniki":SocialShareButton.openUrl("https://connect.ok.ru/offer?url="+f+"&title="+u+"&description="+r+"&imageUrl="+s);break;case"wechat":if(!window.SocialShareWeChatButton)throw new Error("You should require social-share-button/wechat to your application.js");window.SocialShareWeChatButton.qrcode({url:decodeURIComponent(f),header:$(t).attr("title"),footer:$(t).data("wechat-footer")});break;case"tumblr":i=function(e){var n;if(n=$(t).attr("data-"+e))return encodeURIComponent(n)},c=function(){var t,e,n,r;return e=i("type")||"link",t=function(){switch(e){case"text":return"title="+(u=i("title")||u);case"photo":return u=i("caption")||u,r=i("source")||s,"caption="+u+"&source="+r;case"quote":return n=i("quote")||u,r=i("source")||"","quote="+n+"&source="+r;default:return u=i("title")||u,f=i("url")||f,"name="+u+"&url="+f}}(),"/"+e+"?"+t},SocialShareButton.openUrl("http://www.tumblr.com/share"+c());break;case"reddit":SocialShareButton.openUrl("http://www.reddit.com/submit?url="+f+"&newwindow=1",555,400);break;case"hacker_news":SocialShareButton.openUrl("http://news.ycombinator.com/submitlink?u="+f+"&t="+u,770,500);break;case"telegram":SocialShareButton.openUrl("https://telegram.me/share/url?text="+u+"&url="+f)}return!1}}}.call(this),function(t){t.fn.qrcode=function(e){function n(t){this.mode=s,this.data=t}function r(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function o(t,e){if(void 0==t.length)throw Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=Array(t.length-n+e);for(var r=0;r<t.length-n;r++)this.num[r]=t[r+n]}function i(t,e){this.totalCount=t,this.dataCount=e}function a(){this.buffer=[],this.length=0}var s;n.prototype={getLength:function(){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},r.prototype={addData:function(t){this.dataList.push(new n(t)),this.dataCache=null},isDark:function(t,e){if(0>t||this.moduleCount<=t||0>e||this.moduleCount<=e)throw Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(1>this.typeNumber){for(var t=1,t=1;40>t;t++){for(var e=i.getRSBlocks(t,this.errorCorrectLevel),n=new a,r=0,o=0;o<e.length;o++)r+=e[o].dataCount;for(o=0;o<this.dataList.length;o++)e=this.dataList[o],n.put(e.mode,4),n.put(e.getLength(),l.getLengthInBits(e.mode,t)),e.write(n);if(n.getLengthInBits()<=8*r)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[n][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),7<=this.typeNumber&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=r.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var n=-1;7>=n;n++)if(!(-1>=t+n||this.moduleCount<=t+n))for(var r=-1;7>=r;r++)-1>=e+r||this.moduleCount<=e+r||(this.modules[t+n][e+r]=0<=n&&6>=n&&(0==r||6==r)||0<=r&&6>=r&&(0==n||6==n)||2<=n&&4>=n&&2<=r&&4>=r)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;8>n;n++){this.makeImpl(!0,n);var r=l.getLostPoint(this);(0==n||t>r)&&(t=r,e=n)}return e},createMovieClip:function(t,e,n){for(t=t.createEmptyMovieClip(e,n),this.make(),e=0;e<this.modules.length;e++)for(var n=1*e,r=0;r<this.modules[e].length;r++){var o=1*r;this.modules[e][r]&&(t.beginFill(0,100),t.moveTo(o,n),t.lineTo(o+1,n),t.lineTo(o+1,n+1),t.lineTo(o,n+1),t.endFill())}return t},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=0==t%2);for(t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=0==t%2)},setupPositionAdjustPattern:function(){for(var t=l.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var r=t[e],o=t[n];if(null==this.modules[r][o])for(var i=-2;2>=i;i++)for(var a=-2;2>=a;a++)this.modules[r+i][o+a]=-2==i||2==i||-2==a||2==a||0==i&&0==a}},setupTypeNumber:function(t){for(var e=l.getBCHTypeNumber(this.typeNumber),n=0;18>n;n++){var r=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;18>n;n++)r=!t&&1==(e>>n&1),this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r},setupTypeInfo:function(t,e){for(var n=l.getBCHTypeInfo(this.errorCorrectLevel<<3|e),r=0;15>r;r++){var o=!t&&1==(n>>r&1);6>r?this.modules[r][8]=o:8>r?this.modules[r+1][8]=o:this.modules[this.moduleCount-15+r][8]=o}for(r=0;15>r;r++)o=!t&&1==(n>>r&1),8>r?this.modules[8][this.moduleCount-r-1]=o:9>r?this.modules[8][15-r-1+1]=o:this.modules[8][15-r-1]=o;this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,r=this.moduleCount-1,o=7,i=0,a=this.moduleCount-1;0<a;a-=2)for(6==a&&a--;;){for(var s=0;2>s;s++)if(null==this.modules[r][a-s]){var u=!1;i<t.length&&(u=1==(t[i]>>>o&1)),l.getMask(e,r,a-s)&&(u=!u),this.modules[r][a-s]=u,o--,-1==o&&(i++,o=7)}if(0>(r+=n)||this.moduleCount<=r){r-=n,n=-n;break}}}},r.PAD0=236,r.PAD1=17,r.createData=function(t,e,n){for(var e=i.getRSBlocks(t,e),o=new a,s=0;s<n.length;s++){var u=n[s];o.put(u.mode,4),o.put(u.getLength(),l.getLengthInBits(u.mode,t)),u.write(o)}for(s=t=0;s<e.length;s++)t+=e[s].dataCount;if(o.getLengthInBits()>8*t)throw Error("code length overflow. ("+o.getLengthInBits()+">"+8*t+")");for(o.getLengthInBits()+4<=8*t&&o.put(0,4);0!=o.getLengthInBits()%8;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*t)&&(o.put(r.PAD0,8),!(o.getLengthInBits()>=8*t));)o.put(r.PAD1,8);return r.createBytes(o,e)},r.createBytes=function(t,e){for(var n=0,r=0,i=0,a=Array(e.length),s=Array(e.length),u=0;u<e.length;u++){var c=e[u].dataCount,f=e[u].totalCount-c,r=Math.max(r,c),i=Math.max(i,f);a[u]=Array(c);for(var d=0;d<a[u].length;d++)a[u][d]=255&t.buffer[d+n];for(n+=c,d=l.getErrorCorrectPolynomial(f),c=new o(a[u],d.getLength()-1).mod(d),s[u]=Array(d.getLength()-1),d=0;d<s[u].length;d++)f=d+c.getLength()-s[u].length,s[u][d]=0<=f?c.get(f):0}for(d=u=0;d<e.length;d++)u+=e[d].totalCount;for(n=Array(u),d=c=0;d<r;d++)for(u=0;u<e.length;u++)d<a[u].length&&(n[c++]=a[u][d]);for(d=0;d<i;d++)for(u=0;u<e.length;u++)d<s[u].length&&(n[c++]=s[u][d]);return n},s=4;for(var l={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;0<=l.getBCHDigit(e)-l.getBCHDigit(l.G15);)e^=l.G15<<l.getBCHDigit(e)-l.getBCHDigit(l.G15);return(t<<10|e)^l.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;0<=l.getBCHDigit(e)-l.getBCHDigit(l.G18);)e^=l.G18<<l.getBCHDigit(e)-l.getBCHDigit(l.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return l.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case 0:return 0==(e+n)%2;case 1:return 0==e%2;case 2:return 0==n%3;case 3:return 0==(e+n)%3;case 4:return 0==(Math.floor(e/2)+Math.floor(n/3))%2;case 5:return 0==e*n%2+e*n%3;case 6:return 0==(e*n%2+e*n%3)%2;case 7:return 0==(e*n%3+(e+n)%2)%2;default:throw Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new o([1],0),n=0;n<t;n++)e=e.multiply(new o([1,u.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&10>e)switch(t){case 1:return 10;case 2:return 9;case s:case 8:return 8;default:throw Error("mode:"+t)}else if(27>e)switch(t){case 1:return 12;case 2:return 11;case s:return 16;case 8:return 10;default:throw Error("mode:"+t)}else{if(!(41>e))throw Error("type:"+e);switch(t){case 1:return 14;case 2:return 13;case s:return 16;case 8:return 12;default:throw Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r++)for(var o=0;o<e;o++){for(var i=0,a=t.isDark(r,o),s=-1;1>=s;s++)if(!(0>r+s||e<=r+s))for(var l=-1;1>=l;l++)0>o+l||e<=o+l||0==s&&0==l||a==t.isDark(r+s,o+l)&&i++;5<i&&(n+=3+i-5)}for(r=0;r<e-1;r++)for(o=0;o<e-1;o++)i=0,t.isDark(r,o)&&i++,t.isDark(r+1,o)&&i++,t.isDark(r,o+1)&&i++,t.isDark(r+1,o+1)&&i++,(0==i||4==i)&&(n+=3);for(r=0;r<e;r++)for(o=0;o<e-6;o++)t.isDark(r,o)&&!t.isDark(r,o+1)&&t.isDark(r,o+2)&&t.isDark(r,o+3)&&t.isDark(r,o+4)&&!t.isDark(r,o+5)&&t.isDark(r,o+6)&&(n+=40);for(o=0;o<e;o++)for(r=0;r<e-6;r++)t.isDark(r,o)&&!t.isDark(r+1,o)&&t.isDark(r+2,o)&&t.isDark(r+3,o)&&t.isDark(r+4,o)&&!t.isDark(r+5,o)&&t.isDark(r+6,o)&&(n+=40);for(o=i=0;o<e;o++)for(r=0;r<e;r++)t.isDark(r,o)&&i++;return t=Math.abs(100*i/e/e-50)/5,n+10*t}},u={glog:function(t){if(1>t)throw Error("glog("+t+")");return u.LOG_TABLE[t]},gexp:function(t){for(;0>t;)t+=255;for(;256<=t;)t-=255;return u.EXP_TABLE[t]},EXP_TABLE:Array(256),LOG_TABLE:Array(256)},c=0;8>c;c++)u.EXP_TABLE[c]=1<<c;for(c=8;256>c;c++)u.EXP_TABLE[c]=u.EXP_TABLE[c-4]^u.EXP_TABLE[c-5]^u.EXP_TABLE[c-6]^u.EXP_TABLE[c-8];for(c=0;255>c;c++)u.LOG_TABLE[u.EXP_TABLE[c]]=c;return o.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var r=0;r<t.getLength();r++)e[n+r]^=u.gexp(u.glog(this.get(n))+u.glog(t.get(r)));return new o(e,0)},mod:function(t){if(0>this.getLength()-t.getLength())return this;for(var e=u.glog(this.get(0))-u.glog(t.get(0)),n=Array(this.getLength()),r=0;r<this.getLength();r++)n[r]=this.get(r);for(r=0;r<t.getLength();r++)n[r]^=u.gexp(u.glog(t.get(r))+e);return new o(n,0).mod(t)}},i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(t,e){var n=i.getRsBlockTable(t,e);if(void 0==n)throw Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var r=n.length/3,o=[],a=0;a<r;a++)for(var s=n[3*a+0],l=n[3*a+1],u=n[3*a+2],c=0;c<s;c++)o.push(new i(l,u));return o},i.getRsBlockTable=function(t,e){switch(e){case 1:return i.RS_BLOCK_TABLE[4*(t-1)+0];case 0:return i.RS_BLOCK_TABLE[4*(t-1)+1];case 3:return i.RS_BLOCK_TABLE[4*(t-1)+2];case 2:return i.RS_BLOCK_TABLE[4*(t-1)+3]}},a.prototype={get:function(t){return 1==(this.buffer[Math.floor(t/8)]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},"string"==typeof e&&(e={text:e}),e=t.extend({},{render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},e),this.each(function(){var n;if("canvas"==e.render){n=new r(e.typeNumber,e.correctLevel),n.addData(e.text),n.make();var o=document.createElement("canvas");o.width=e.width,o.height=e.height;for(var i=o.getContext("2d"),a=e.width/n.getModuleCount(),s=e.height/n.getModuleCount(),l=0;l<n.getModuleCount();l++)for(var u=0;u<n.getModuleCount();u++){i.fillStyle=n.isDark(l,u)?e.foreground:e.background;var c=Math.ceil((u+1)*a)-Math.floor(u*a),f=Math.ceil((l+1)*a)-Math.floor(l*a);i.fillRect(Math.round(u*a),Math.round(l*s),c,f)}}else for(n=new r(e.typeNumber,e.correctLevel),n.addData(e.text),n.make(),o=t("<table></table>").css("width",e.width+"px").css("height",e.height+"px").css("border","0px").css("border-collapse","collapse").css("background-color",e.background),i=e.width/n.getModuleCount(),a=e.height/n.getModuleCount(),s=0;s<n.getModuleCount();s++)for(l=t("<tr></tr>").css("height",a+"px").appendTo(o),u=0;u<n.getModuleCount();u++)t("<td></td>").css("width",i+"px").css("background-color",n.isDark(s,u)?e.foreground:e.background).appendTo(l);n=o,jQuery(n).appendTo(this)})}}(jQuery),function(){window.SocialShareWeChatButton={init:function(t){var e;return null==t&&(t={}),e="<div id='ss-wechat-dialog' class='ss-wechat-dialog'> <div class='wechat-popup-header'> <span>"+t.header+"</span> <a href='#' onclick='return false;' class='wechat-popup-close'>\xd7</a> </div> <div id='ss-wechat-dialog-qr' class='wechat-dialog-qr'></div> <div class='wechat-popup-footer'> "+t.footer+" </div> </div>",$("body").append(e)},bindEvents:function(){var t;return t=$("#ss-wechat-dialog"),t.find(".wechat-popup-close").on("click",function(){return t.hide()})},qrcode:function(t){var e,n,r,o;return null==t&&(t={}),$("#ss-wechat-dialog").length||(this.init(t),this.bindEvents()),e=$("#ss-wechat-dialog-qr"),e.empty(),e.qrcode({width:200,height:200,text:t.url}),n=$("#ss-wechat-dialog"),o=($(window).height()-n.height())/2,o<100&&(o=100),r=($(window).width()-n.width())/2,n.css({top:o,left:r}),n.show()}}}.call(this),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(n){return t.returnExportsGlobal=e(n)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){"use strict";var e,n,r,o,i,a,s,l,u;e=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.setPos=function(){return this.domInputor},e.prototype.getIEPosition=function(){return this.getPosition()},e.prototype.getPosition=function(){var t,e;return e=this.getOffset(),t=this.$inputor.offset(),e.left-=t.left,e.top-=t.top,e},e.prototype.getOldIEPos=function(){var t,e;return e=a.selection.createRange(),t=a.body.createTextRange(),t.moveToElementText(this.domInputor),t.setEndPoint("EndToEnd",e),t.text.length},e.prototype.getPos=function(){var t,e,n;return(n=this.range())?(t=n.cloneRange(),t.selectNodeContents(this.domInputor),t.setEnd(n.endContainer,n.endOffset),e=t.toString().length,t.detach(),e):a.selection?this.getOldIEPos():void 0},e.prototype.getOldIEOffset=function(){var t,e;return t=a.selection.createRange().duplicate(),t.moveStart("character",-1),e=t.getBoundingClientRect(),{height:e.bottom-e.top,left:e.left,top:e.top}},e.prototype.getOffset=function(){var e,n,r,o,i;return l.getSelection&&(r=this.range())?(r.endOffset-1>0&&r.endContainer===!this.domInputor&&(e=r.cloneRange(),e.setStart(r.endContainer,r.endOffset-1),e.setEnd(r.endContainer,r.endOffset),o=e.getBoundingClientRect(),n={height:o.height,left:o.left+o.width,top:o.top},e.detach()),n&&0!==(null!=n?n.height:void 0)||(e=r.cloneRange(),i=t(a.createTextNode("|")),e.insertNode(i[0]),e.selectNode(i[0]),o=e.getBoundingClientRect(),n={height:o.height,left:o.left,top:o.top},i.remove(),e.detach())):a.selection&&(n=this.getOldIEOffset()),n&&(n.top+=t(l).scrollTop(),n.left+=t(l).scrollLeft()),n},e.prototype.range=function(){var t;if(l.getSelection)return t=l.getSelection(),t.rangeCount>0?t.getRangeAt(0):null},e}(),n=function(){function e(t){this.$inputor=t,this.domInputor=this.$inputor[0]}return e.prototype.getIEPos=function(){var t,e,n,r,o,i,s;return e=this.domInputor,i=a.selection.createRange(),o=0,i&&i.parentElement()===e&&(r=e.value.replace(/\r\n/g,"\n"),n=r.length,s=e.createTextRange(),s.moveToBookmark(i.getBookmark()),t=e.createTextRange(),t.collapse(!1),o=s.compareEndPoints("StartToEnd",t)>-1?n:-s.moveStart("character",-n)),o},e.prototype.getPos=function(){return a.selection?this.getIEPos():this.domInputor.selectionStart},e.prototype.setPos=function(t){var e,n;return e=this.domInputor,a.selection?(n=e.createTextRange(),n.move("character",t),n.select()):e.setSelectionRange&&e.setSelectionRange(t,t),e},e.prototype.getIEOffset=function(t){var e,n,r,o;return n=this.domInputor.createTextRange(),t||(t=this.getPos()),n.move("character",t),r=n.boundingLeft,o=n.boundingTop,e=n.boundingHeight,{left:r,top:o,height:e}},e.prototype.getOffset=function(e){var n,r,o;return n=this.$inputor,a.selection?(r=this.getIEOffset(e),r.top+=t(l).scrollTop()+n.scrollTop(),r.left+=t(l).scrollLeft()+n.scrollLeft(),r):(r=n.offset(),o=this.getPosition(e),r={left:r.left+o.left-n.scrollLeft(),top:r.top+o.top-n.scrollTop(),height:o.height})},e.prototype.getPosition=function(t){var e,n,o,i,a,s;return e=this.$inputor,o=function(t){return t=t.replace(/<|>|`|"|&/g,"?").replace(/\r\n|\r|\n/g,"<br/>"),/firefox/i.test(navigator.userAgent)&&(t=t.replace(/\s/g,"&nbsp;")),t},void 0===t&&(t=this.getPos()),s=e.val().slice(0,t),n=e.val().slice(t),i="<span style='position: relative; display: inline;'>"+o(s)+"</span>",i+="<span id='caret' style='position: relative; display: inline;'>|</span>",i+="<span style='position: relative; display: inline;'>"+o(n)+"</span>",a=new r(e),a.create(i).rect()},e.prototype.getIEPosition=function(t){var e,n,r,o,i;return r=this.getIEOffset(t),n=this.$inputor.offset(),o=r.left-n.left,i=r.top-n.top,e=r.height,{left:o,top:i,height:e}},e}(),r=function(){function e(t){this.$inputor=t}return e.prototype.css_attr=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","borderTopWidth","boxSizing","fontFamily","fontSize","fontWeight","height","letterSpacing","lineHeight","marginBottom","marginLeft","marginRight","marginTop","outlineWidth","overflow","overflowX","overflowY","paddingBottom","paddingLeft","paddingRight","paddingTop","textAlign","textOverflow","textTransform","whiteSpace","wordBreak","wordWrap"],e.prototype.mirrorCss=function(){var e,n=this;return e={position:"absolute",left:-9999,top:0,zIndex:-2e4},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),t.each(this.css_attr,function(t,r){return e[r]=n.$inputor.css(r)}),e},e.prototype.create=function(e){return this.$mirror=t("<div></div>"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(e),this.$inputor.after(this.$mirror),this},e.prototype.rect=function(){var t,e,n;return t=this.$mirror.find("#caret"),e=t.position(),n={left:e.left,top:e.top,height:t.height()},this.$mirror.remove(),n},e}(),o={contentEditable:function(t){return!(!t[0].contentEditable||"true"!==t[0].contentEditable)}},i={pos:function(t){return t||0===t?this.setPos(t):this.getPos()},position:function(t){return a.selection?this.getIEPosition(t):this.getPosition(t)},offset:function(t){return this.getOffset(t)}},a=null,l=null,s=null,u=function(t){var e;return(e=null!=t?t.iframe:void 0)?(s=e,l=e.contentWindow,a=e.contentDocument||l.document):(s=void 0,l=window,a=document)},t.fn.caret=function(r,a,s){var l;return i[r]?(t.isPlainObject(a)?(u(a),a=void 0):u(s),l=o.contentEditable(this)?new e(this):new n(this),i[r].apply(l,[a])):t.error("Method "+r+" does not exist on jQuery.caret")},t.fn.caret.EditableCaret=e,t.fn.caret.InputCaret=n,t.fn.caret.Utils=o,t.fn.caret.apis=i}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){var e,n,r,o,i,a,s,l,u,c,f=[].slice,d=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;e=t,r=function(){function t(t){this.currentFlag=null,this.controllers={},this.aliasMaps={},this.$inputor=e(t),this.setupRootElement(),this.listen()}return t.prototype.createContainer=function(t){var n;return null!=(n=this.$el)&&n.remove(),e(t.body).append(this.$el=e("<div class='atwho-container'></div>"))},t.prototype.setupRootElement=function(t,n){var r;if(null==n&&(n=!1),t)this.window=t.contentWindow,this.document=t.contentDocument||this.window.document,this.iframe=t;else{this.document=this.$inputor[0].ownerDocument,this.window=this.document.defaultView||this.document.parentWindow;try{this.iframe=this.window.frameElement}catch(t){if(r=t,this.iframe=null,e.fn.atwho.debug)throw new Error("iframe auto-discovery is failed.\nPlease use `setIframe` to set the target iframe manually.\n"+r)}}return this.createContainer((this.iframeAsRoot=n)?this.document:document)},t.prototype.controller=function(t){var e,n,r,o;if(this.aliasMaps[t])n=this.controllers[this.aliasMaps[t]];else{o=this.controllers;for(r in o)if(e=o[r],r===t){n=e;break}}return n||this.controllers[this.currentFlag]},t.prototype.setContextFor=function(t){return this.currentFlag=t,this},t.prototype.reg=function(t,e){var n,r;return r=(n=this.controllers)[t]||(n[t]=this.$inputor.is("[contentEditable]")?new a(this,t):new u(this,t)),e.alias&&(this.aliasMaps[e.alias]=t),r.init(e),this},t.prototype.listen=function(){return this.$inputor.on("compositionstart",function(t){return function(){var e;return null!=(e=t.controller())&&e.view.hide(),t.isComposing=!0}}(this)).on("compositionend",function(t){return function(){return t.isComposing=!1}}(this)).on("keyup.atwhoInner",function(t){return function(e){return t.onKeyup(e)}}(this)).on("keydown.atwhoInner",function(t){return function(e){return t.onKeydown(e)}}(this)).on("blur.atwhoInner",function(t){return function(e){var n;if(n=t.controller())return n.expectedQueryCBId=null,
n.view.hide(e,n.getOpt("displayTimeout"))}}(this)).on("click.atwhoInner",function(t){return function(e){return t.dispatch(e)}}(this)).on("scroll.atwhoInner",function(t){return function(){var e;return e=t.$inputor.scrollTop(),function(n){var r,o;return r=n.target.scrollTop,e!==r&&null!=(o=t.controller())&&o.view.hide(n),e=r,!0}}}(this)())},t.prototype.shutdown=function(){var t,e,n;n=this.controllers;for(t in n)e=n[t],e.destroy(),delete this.controllers[t];return this.$inputor.off(".atwhoInner"),this.$el.remove()},t.prototype.dispatch=function(t){var e,n,r,o;r=this.controllers,o=[];for(e in r)n=r[e],o.push(n.lookUp(t));return o},t.prototype.onKeyup=function(t){var n;switch(t.keyCode){case s.ESC:t.preventDefault(),null!=(n=this.controller())&&n.view.hide();break;case s.DOWN:case s.UP:case s.CTRL:e.noop();break;case s.P:case s.N:t.ctrlKey||this.dispatch(t);break;default:this.dispatch(t)}},t.prototype.onKeydown=function(t){var n,r;if((r=null!=(n=this.controller())?n.view:void 0)&&r.visible())switch(t.keyCode){case s.ESC:t.preventDefault(),r.hide(t);break;case s.UP:t.preventDefault(),r.prev();break;case s.DOWN:t.preventDefault(),r.next();break;case s.P:if(!t.ctrlKey)return;t.preventDefault(),r.prev();break;case s.N:if(!t.ctrlKey)return;t.preventDefault(),r.next();break;case s.TAB:case s.ENTER:case s.SPACE:if(!r.visible())return;if(!this.controller().getOpt("spaceSelectsMatch")&&t.keyCode===s.SPACE)return;if(!this.controller().getOpt("tabSelectsMatch")&&t.keyCode===s.TAB)return;r.highlighted()?(t.preventDefault(),r.choose(t)):r.hide(t);break;default:e.noop()}},t}(),o=function(){function t(t,n){this.app=t,this.at=n,this.$inputor=this.app.$inputor,this.id=this.$inputor[0].id||this.uid(),this.expectedQueryCBId=null,this.setting=null,this.query=null,this.pos=0,this.range=null,0===(this.$el=e("#atwho-ground-"+this.id,this.app.$el)).length&&this.app.$el.append(this.$el=e("<div id='atwho-ground-"+this.id+"'></div>")),this.model=new l(this),this.view=new c(this)}return t.prototype.uid=function(){return(Math.random().toString(16)+"000000000").substr(2,8)+(new Date).getTime()},t.prototype.init=function(t){return this.setting=e.extend({},this.setting||e.fn.atwho["default"],t),this.view.init(),this.model.reload(this.setting.data)},t.prototype.destroy=function(){return this.trigger("beforeDestroy"),this.model.destroy(),this.view.destroy(),this.$el.remove()},t.prototype.callDefault=function(){var t,n,r;r=arguments[0],t=2<=arguments.length?f.call(arguments,1):[];try{return i[r].apply(this,t)}catch(t){return n=t,e.error(n+" Or maybe At.js doesn't have function "+r)}},t.prototype.trigger=function(t,e){var n,r;return null==e&&(e=[]),e.push(this),n=this.getOpt("alias"),r=n?t+"-"+n+".atwho":t+".atwho",this.$inputor.trigger(r,e)},t.prototype.callbacks=function(t){return this.getOpt("callbacks")[t]||i[t]},t.prototype.getOpt=function(t){try{return this.setting[t]}catch(t){return t,null}},t.prototype.insertContentFor=function(t){var n,r;return r=this.getOpt("insertTpl"),n=e.extend({},t.data("item-data"),{"atwho-at":this.at}),this.callbacks("tplEval").call(this,r,n,"onInsert")},t.prototype.renderView=function(t){var e;return e=this.getOpt("searchKey"),t=this.callbacks("sorter").call(this,this.query.text,t.slice(0,1001),e),this.view.render(t.slice(0,this.getOpt("limit")))},t.arrayToDefaultHash=function(t){var n,r,o,i;if(!e.isArray(t))return t;for(i=[],n=0,o=t.length;n<o;n++)r=t[n],e.isPlainObject(r)?i.push(r):i.push({name:r});return i},t.prototype.lookUp=function(t){var e,n;return(e=this.catchQuery(t))?(this.app.setContextFor(this.at),(n=this.getOpt("delay"))?this._delayLookUp(e,n):this._lookUp(e),e):(this.expectedQueryCBId=null,e)},t.prototype._delayLookUp=function(t,e){var n,r;return n=Date.now?Date.now():(new Date).getTime(),this.previousCallTime||(this.previousCallTime=n),r=e-(n-this.previousCallTime),0<r&&r<e?(this.previousCallTime=n,this._stopDelayedCall(),this.delayedCallTimeout=setTimeout(function(e){return function(){return e.previousCallTime=0,e.delayedCallTimeout=null,e._lookUp(t)}}(this),e)):(this._stopDelayedCall(),this.previousCallTime!==n&&(this.previousCallTime=0),this._lookUp(t))},t.prototype._stopDelayedCall=function(){if(this.delayedCallTimeout)return clearTimeout(this.delayedCallTimeout),this.delayedCallTimeout=null},t.prototype._generateQueryCBId=function(){return{}},t.prototype._lookUp=function(t){var n;return n=function(t,e){if(t===this.expectedQueryCBId)return e&&e.length>0?this.renderView(this.constructor.arrayToDefaultHash(e)):this.view.hide()},this.expectedQueryCBId=this._generateQueryCBId(),this.model.query(t.text,e.proxy(n,this,this.expectedQueryCBId))},t}(),u=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return d(n,t),n.prototype.catchQuery=function(){var t,e,n,r,o,i;return e=this.$inputor.val(),t=this.$inputor.caret("pos",{iframe:this.app.iframe}),i=e.slice(0,t),r=this.callbacks("matcher").call(this,this.at,i,this.getOpt("startWithSpace")),"string"==typeof r&&r.length<=this.getOpt("maxLen",20)?(o=t-r.length,n=o+r.length,this.pos=o,r={text:r,headPos:o,endPos:n},this.trigger("matched",[this.at,r.text])):(r=null,this.view.hide()),this.query=r},n.prototype.rect=function(){var t,n,r;if(t=this.$inputor.caret("offset",this.pos-1,{iframe:this.app.iframe}))return this.app.iframe&&!this.app.iframeAsRoot&&(n=e(this.app.iframe).offset(),t.left+=n.left,t.top+=n.top),r=this.app.document.selection?0:2,{left:t.left,top:t.top,bottom:t.top+t.height+r}},n.prototype.insert=function(t){var e,n,r,o,i;return e=this.$inputor,n=e.val(),r=n.slice(0,Math.max(this.query.headPos-this.at.length,0)),o=""===(o=this.getOpt("suffix"))?o:o||" ",t+=o,i=""+r+t+n.slice(this.query.endPos||0),e.val(i),e.caret("pos",r.length+t.length,{iframe:this.app.iframe}),e.is(":focus")||e.focus(),e.change()},n}(o),a=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return d(n,t),n.prototype._getRange=function(){var t;if(t=this.app.window.getSelection(),t.rangeCount>0)return t.getRangeAt(0)},n.prototype._setRange=function(t,n,r){if(null==r&&(r=this._getRange()),r)return n=e(n)[0],"after"===t?(r.setEndAfter(n),r.setStartAfter(n)):(r.setEndBefore(n),r.setStartBefore(n)),r.collapse(!1),this._clearRange(r)},n.prototype._clearRange=function(t){var e;if(null==t&&(t=this._getRange()),e=this.app.window.getSelection(),null==this.ctrl_a_pressed)return e.removeAllRanges(),e.addRange(t)},n.prototype._movingEvent=function(t){var e;return"click"===t.type||(e=t.which)===s.RIGHT||e===s.LEFT||e===s.UP||e===s.DOWN},n.prototype._unwrap=function(t){var n;return t=e(t).unwrap().get(0),(n=t.nextSibling)&&n.nodeValue&&(t.nodeValue+=n.nodeValue,e(n).remove()),t},n.prototype.catchQuery=function(t){var n,r,o,i,a,l,u,c,f,d;if(!this.app.isComposing&&(d=this._getRange())){if(t.which===s.CTRL?this.ctrl_pressed=!0:t.which===s.A?null==this.ctrl_pressed&&(this.ctrl_a_pressed=!0):(delete this.ctrl_a_pressed,delete this.ctrl_pressed),t.which===s.ENTER)return(r=e(d.startContainer).closest(".atwho-query")).contents().unwrap(),r.is(":empty")&&r.remove(),(r=e(".atwho-query",this.app.document)).text(r.text()).contents().last().unwrap(),void this._clearRange();if(/firefox/i.test(navigator.userAgent)){if(e(d.startContainer).is(this.$inputor))return void this._clearRange();t.which===s.BACKSPACE&&d.startContainer.nodeType===document.ELEMENT_NODE&&(c=d.startOffset-1)>=0?(o=d.cloneRange(),o.setStart(d.startContainer,c),e(o.cloneContents()).contents().last().is(".atwho-inserted")&&(a=e(d.startContainer).contents().get(c),this._setRange("after",e(a).contents().last()))):t.which===s.LEFT&&d.startContainer.nodeType===document.TEXT_NODE&&(n=e(d.startContainer.previousSibling),n.is(".atwho-inserted")&&0===d.startOffset&&this._setRange("after",n.contents().last()))}return e(d.startContainer).closest(".atwho-inserted").addClass("atwho-query").siblings().removeClass("atwho-query"),(r=e(".atwho-query",this.app.document)).length>0&&r.is(":empty")&&0===r.text().length&&r.remove(),this._movingEvent(t)||r.removeClass("atwho-inserted"),o=d.cloneRange(),o.setStart(d.startContainer,0),u=this.callbacks("matcher").call(this,this.at,o.toString(),this.getOpt("startWithSpace")),0===r.length&&"string"==typeof u&&(i=d.startOffset-this.at.length-u.length)>=0&&(d.setStart(d.startContainer,i),r=e("<span/>",this.app.document).attr(this.getOpt("editableAtwhoQueryAttrs")).addClass("atwho-query"),d.surroundContents(r.get(0)),l=r.contents().last().get(0),/firefox/i.test(navigator.userAgent)?(d.setStart(l,l.length),d.setEnd(l,l.length),this._clearRange(d)):this._setRange("after",l,d)),"string"==typeof u&&u.length<=this.getOpt("maxLen",20)?(f={text:u,el:r},this.trigger("matched",[this.at,f.text]),this.query=f):(this.view.hide(),this.query={el:r},r.text().indexOf(this.at)>=0&&(this._movingEvent(t)&&r.hasClass("atwho-inserted")?r.removeClass("atwho-query"):!1!==this.callbacks("afterMatchFailed").call(this,this.at,r)&&this._setRange("after",this._unwrap(r.text(r.text()).contents().first()))),null)}},n.prototype.rect=function(){var t,n;return n=this.query.el.offset(),this.app.iframe&&!this.app.iframeAsRoot&&(t=e(this.app.iframe).offset(),n.left+=t.left-this.$inputor.scrollLeft(),n.top+=t.top-this.$inputor.scrollTop()),n.bottom=n.top+this.query.el.height(),n},n.prototype.insert=function(t){var e,n,r;return n=""===(n=this.getOpt("suffix"))?n:n||"\xa0",this.query.el.removeClass("atwho-query").addClass("atwho-inserted").html(t),(e=this._getRange())&&(e.setEndAfter(this.query.el[0]),e.collapse(!1),e.insertNode(r=this.app.document.createTextNode(n)),this._setRange("after",r,e)),this.$inputor.is(":focus")||this.$inputor.focus(),this.$inputor.change()},n}(o),l=function(){function t(t){this.context=t,this.at=this.context.at,this.storage=this.context.$inputor}return t.prototype.destroy=function(){return this.storage.data(this.at,null)},t.prototype.saved=function(){return this.fetch()>0},t.prototype.query=function(t,e){var n,r,o;return r=this.fetch(),o=this.context.getOpt("searchKey"),r=this.context.callbacks("filter").call(this.context,t,r,o)||[],n=this.context.callbacks("remoteFilter"),r.length>0||!n&&0===r.length?e(r):n.call(this.context,t,e)},t.prototype.fetch=function(){return this.storage.data(this.at)||[]},t.prototype.save=function(t){return this.storage.data(this.at,this.context.callbacks("beforeSave").call(this.context,t||[]))},t.prototype.load=function(t){if(!this.saved()&&t)return this._load(t)},t.prototype.reload=function(t){return this._load(t)},t.prototype._load=function(t){return"string"==typeof t?e.ajax(t,{dataType:"json"}).done(function(t){return function(e){return t.save(e)}}(this)):this.save(t)},t}(),c=function(){function t(t){this.context=t,this.$el=e("<div class='atwho-view'><ul class='atwho-view-ul'></ul></div>"),this.timeoutID=null,this.context.$el.append(this.$el),this.bindEvent()}return t.prototype.init=function(){var t;return t=this.context.getOpt("alias")||this.context.at.charCodeAt(0),this.$el.attr({id:"at-view-"+t})},t.prototype.destroy=function(){return this.$el.remove()},t.prototype.bindEvent=function(){var t;return t=this.$el.find("ul"),t.on("mouseenter.atwho-view","li",function(n){return t.find(".cur").removeClass("cur"),e(n.currentTarget).addClass("cur")}).on("click.atwho-view","li",function(n){return function(r){return t.find(".cur").removeClass("cur"),e(r.currentTarget).addClass("cur"),n.choose(r),r.preventDefault()}}(this))},t.prototype.visible=function(){return this.$el.is(":visible")},t.prototype.highlighted=function(){return this.$el.find(".cur").length>0},t.prototype.choose=function(t){var e,n;if((e=this.$el.find(".cur")).length&&(n=this.context.insertContentFor(e),this.context.insert(this.context.callbacks("beforeInsert").call(this.context,n,e),e),this.context.trigger("inserted",[e,t]),this.hide(t)),this.context.getOpt("hideWithoutSuffix"))return this.stopShowing=!0},t.prototype.reposition=function(t){var n,r,o,i;return n=this.context.app.iframeAsRoot?this.context.app.window:window,t.bottom+this.$el.height()-e(n).scrollTop()>e(n).height()&&(t.bottom=t.top-this.$el.height()),t.left>(o=e(n).width()-this.$el.width()-5)&&(t.left=o),r={left:t.left,top:t.bottom},null!=(i=this.context.callbacks("beforeReposition"))&&i.call(this.context,r),this.$el.offset(r),this.context.trigger("reposition",[r])},t.prototype.next=function(){var t,e;return t=this.$el.find(".cur").removeClass("cur"),e=t.next(),e.length||(e=this.$el.find("li:first")),e.addClass("cur"),this.scrollTop(Math.max(0,t.innerHeight()*(e.index()+2)-this.$el.height()))},t.prototype.prev=function(){var t,e;return t=this.$el.find(".cur").removeClass("cur"),e=t.prev(),e.length||(e=this.$el.find("li:last")),e.addClass("cur"),this.scrollTop(Math.max(0,t.innerHeight()*(e.index()+2)-this.$el.height()))},t.prototype.scrollTop=function(t){var e;return e=this.context.getOpt("scrollDuration"),e?this.$el.animate({scrollTop:t},e):this.$el.scrollTop(t)},t.prototype.show=function(){var t;return this.stopShowing?void(this.stopShowing=!1):(this.visible()||(this.$el.show(),this.$el.scrollTop(0),this.context.trigger("shown")),(t=this.context.rect())?this.reposition(t):void 0)},t.prototype.hide=function(t,e){var n;if(this.visible())return isNaN(e)?(this.$el.hide(),this.context.trigger("hidden",[t])):(n=function(t){return function(){return t.hide()}}(this),clearTimeout(this.timeoutID),this.timeoutID=setTimeout(n,e))},t.prototype.render=function(t){var n,r,o,i,a,s,l;if(!(e.isArray(t)&&t.length>0))return void this.hide();for(this.$el.find("ul").empty(),r=this.$el.find("ul"),l=this.context.getOpt("displayTpl"),o=0,a=t.length;o<a;o++)i=t[o],i=e.extend({},i,{"atwho-at":this.context.at}),s=this.context.callbacks("tplEval").call(this.context,l,i,"onDisplay"),n=e(this.context.callbacks("highlighter").call(this.context,s,this.context.query.text)),n.data("item-data",i),r.append(n);return this.show(),this.context.getOpt("highlightFirst")?r.find("li:first").addClass("cur"):void 0},t}(),s={DOWN:40,UP:38,ESC:27,TAB:9,ENTER:13,CTRL:17,A:65,P:80,N:78,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,SPACE:32},i={beforeSave:function(t){return o.arrayToDefaultHash(t)},matcher:function(t,e,n,r){var o,i,a,s,l;return t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),n&&(t="(?:^|\\s)"+t),o=decodeURI("%C3%80"),i=decodeURI("%C3%BF"),l=r?" ":"",s=new RegExp(t+"([A-Za-z"+o+"-"+i+"0-9_"+l+".+-]*)$|"+t+"([^\\x00-\\xff]*)$","gi"),a=s.exec(e),a?a[2]||a[1]:null},filter:function(t,e,n){var r,o,i,a;for(r=[],o=0,a=e.length;o<a;o++)i=e[o],~new String(i[n]).toLowerCase().indexOf(t.toLowerCase())&&r.push(i);return r},remoteFilter:null,sorter:function(t,e,n){var r,o,i,a;if(!t)return e;for(r=[],o=0,a=e.length;o<a;o++)i=e[o],i.atwho_order=new String(i[n]).toLowerCase().indexOf(t.toLowerCase()),i.atwho_order>-1&&r.push(i);return r.sort(function(t,e){return t.atwho_order-e.atwho_order})},tplEval:function(t,e){var n;n=t;try{return"string"!=typeof t&&(n=t(e)),n.replace(/\$\{([^\}]*)\}/g,function(t,n){return e[n]})}catch(t){return t,""}},highlighter:function(t,e){var n;return e?(n=new RegExp(">\\s*(\\w*?)("+e.replace("+","\\+")+")(\\w*)\\s*<","ig"),t.replace(n,function(t,e,n,r){return"> "+e+"<strong>"+n+"</strong>"+r+" <"})):t},beforeInsert:function(t){return t},beforeReposition:function(t){return t},afterMatchFailed:function(){}},n={load:function(t,e){var n;if(n=this.controller(t))return n.model.load(e)},isSelecting:function(){var t;return null!=(t=this.controller())?t.view.visible():void 0},hide:function(){var t;return null!=(t=this.controller())?t.view.hide():void 0},reposition:function(){var t;if(t=this.controller())return t.view.reposition(t.rect())},setIframe:function(t,e){return this.setupRootElement(t,e),null},run:function(){return this.dispatch()},destroy:function(){return this.shutdown(),this.$inputor.data("atwho",null)}},e.fn.atwho=function(t){var o,i;return o=arguments,i=null,this.filter('textarea, input, [contenteditable=""], [contenteditable=true]').each(function(){var a,s;return(s=(a=e(this)).data("atwho"))||a.data("atwho",s=new r(this)),"object"!=typeof t&&t?n[t]&&s?i=n[t].apply(s,Array.prototype.slice.call(o,1)):e.error("Method "+t+" does not exist on jQuery.atwho"):s.reg(t.at,t)}),null!=i?i:this},e.fn.atwho["default"]={at:void 0,alias:void 0,data:null,displayTpl:"<li>${name}</li>",insertTpl:"${atwho-at}${name}",callbacks:i,searchKey:"name",suffix:void 0,hideWithoutSuffix:!1,startWithSpace:!0,highlightFirst:!0,limit:5,maxLen:20,displayTimeout:300,delay:null,spaceSelectsMatch:!1,tabSelectsMatch:!0,editableAtwhoQueryAttrs:{},scrollDuration:150},e.fn.atwho.debug=!1});var default_emojis=[":+1:",":-1:",":clap:",":smile:",":sob:",":heart_eyes:",":sweat_smile:",":tada:",":ok_hand:"];window.EMOJI_LIST=_.sortBy([{code:":mahjong:",url:"1f004"},{code:":black_joker:",url:"1f0cf"},{code:":a_negative:",url:"1f170"},{code:":b_negative:",url:"1f171"},{code:":o_negative:",url:"1f17e"},{code:":parking:",url:"1f17f"},{code:":ab:",url:"1f18e"},{code:":cl:",url:"1f191"},{code:":cool:",url:"1f192"},{code:":free:",url:"1f193"},{code:":id:",url:"1f194"},{code:":new:",url:"1f195"},{code:":ng:",url:"1f196"},{code:":ok:",url:"1f197"},{code:":sos:",url:"1f198"},{code:":up:",url:"1f199"},{code:":vs:",url:"1f19a"},{code:":a:",url:"1f1e6"},{code:":flag-ac:",url:"1f1e6-1f1e8"},{code:":flag-ad:",url:"1f1e6-1f1e9"},{code:":flag-ae:",url:"1f1e6-1f1ea"},{code:":flag-af:",url:"1f1e6-1f1eb"},{code:":flag-ag:",url:"1f1e6-1f1ec"},{code:":flag-ai:",url:"1f1e6-1f1ee"},{code:":flag-al:",url:"1f1e6-1f1f1"},{code:":flag-am:",url:"1f1e6-1f1f2"},{code:":flag-ao:",url:"1f1e6-1f1f4"},{code:":flag-aq:",url:"1f1e6-1f1f6"},{code:":flag-ar:",url:"1f1e6-1f1f7"},{code:":flag-as:",url:"1f1e6-1f1f8"},{code:":flag-at:",url:"1f1e6-1f1f9"},{code:":flag-au:",url:"1f1e6-1f1fa"},{code:":flag-aw:",url:"1f1e6-1f1fc"},{code:":flag-ax:",url:"1f1e6-1f1fd"},{code:":flag-az:",url:"1f1e6-1f1ff"},{code:":b:",url:"1f1e7"},{code:":flag-ba:",url:"1f1e7-1f1e6"},{code:":flag-bb:",url:"1f1e7-1f1e7"},{code:":flag-bd:",url:"1f1e7-1f1e9"},{code:":flag-be:",url:"1f1e7-1f1ea"},{code:":flag-bf:",url:"1f1e7-1f1eb"},{code:":flag-bg:",url:"1f1e7-1f1ec"},{code:":flag-bh:",url:"1f1e7-1f1ed"},{code:":flag-bi:",url:"1f1e7-1f1ee"},{code:":flag-bj:",url:"1f1e7-1f1ef"},{code:":flag-bl:",url:"1f1e7-1f1f1"},{code:":flag-bm:",url:"1f1e7-1f1f2"},{code:":flag-bn:",url:"1f1e7-1f1f3"},{code:":flag-bo:",url:"1f1e7-1f1f4"},{code:":flag-bq:",url:"1f1e7-1f1f6"},{code:":flag-br:",url:"1f1e7-1f1f7"},{code:":flag-bs:",url:"1f1e7-1f1f8"},{code:":flag-bt:",url:"1f1e7-1f1f9"},{code:":flag-bv:",url:"1f1e7-1f1fb"},{code:":flag-bw:",url:"1f1e7-1f1fc"},{code:":flag-by:",url:"1f1e7-1f1fe"},{code:":flag-bz:",url:"1f1e7-1f1ff"},{code:":c:",url:"1f1e8"},{code:":flag-ca:",url:"1f1e8-1f1e6"},{code:":flag-cc:",url:"1f1e8-1f1e8"},{code:":flag-cd:",url:"1f1e8-1f1e9"},{code:":flag-cf:",url:"1f1e8-1f1eb"},{code:":flag-cg:",url:"1f1e8-1f1ec"},{code:":flag-ch:",url:"1f1e8-1f1ed"},{code:":flag-ci:",url:"1f1e8-1f1ee"},{code:":flag-ck:",url:"1f1e8-1f1f0"},{code:":flag-cl:",url:"1f1e8-1f1f1"},{code:":flag-cm:",url:"1f1e8-1f1f2"},{code:":flag-cn:",url:"1f1e8-1f1f3"},{code:":flag-co:",url:"1f1e8-1f1f4"},{code:":flag-cp:",url:"1f1e8-1f1f5"},{code:":flag-cr:",url:"1f1e8-1f1f7"},{code:":flag-cu:",url:"1f1e8-1f1fa"},{code:":flag-cv:",url:"1f1e8-1f1fb"},{code:":flag-cw:",url:"1f1e8-1f1fc"},{code:":flag-cx:",url:"1f1e8-1f1fd"},{code:":flag-cy:",url:"1f1e8-1f1fe"},{code:":flag-cz:",url:"1f1e8-1f1ff"},{code:":d:",url:"1f1e9"},{code:":flag-de:",url:"1f1e9-1f1ea"},{code:":flag-dg:",url:"1f1e9-1f1ec"},{code:":flag-dj:",url:"1f1e9-1f1ef"},{code:":flag-dk:",url:"1f1e9-1f1f0"},{code:":flag-dm:",url:"1f1e9-1f1f2"},{code:":flag-do:",url:"1f1e9-1f1f4"},{code:":flag-dz:",url:"1f1e9-1f1ff"},{code:":e:",url:"1f1ea"},{code:":flag-ea:",url:"1f1ea-1f1e6"},{code:":flag-ec:",url:"1f1ea-1f1e8"},{code:":flag-ee:",url:"1f1ea-1f1ea"},{code:":flag-eg:",url:"1f1ea-1f1ec"},{code:":flag-eh:",url:"1f1ea-1f1ed"},{code:":flag-er:",url:"1f1ea-1f1f7"},{code:":flag-es:",url:"1f1ea-1f1f8"},{code:":flag-et:",url:"1f1ea-1f1f9"},{code:":flag-eu:",url:"1f1ea-1f1fa"},{code:":f:",url:"1f1eb"},{code:":flag-fi:",url:"1f1eb-1f1ee"},{code:":flag-fj:",url:"1f1eb-1f1ef"},{code:":flag-fk:",url:"1f1eb-1f1f0"},{code:":flag-fm:",url:"1f1eb-1f1f2"},{code:":flag-fo:",url:"1f1eb-1f1f4"},{code:":flag-fr:",url:"1f1eb-1f1f7"},{code:":g:",url:"1f1ec"},{code:":flag-ga:",url:"1f1ec-1f1e6"},{code:":flag-gb:",url:"1f1ec-1f1e7"},{code:":flag-gd:",url:"1f1ec-1f1e9"},{code:":flag-ge:",url:"1f1ec-1f1ea"},{code:":flag-gf:",url:"1f1ec-1f1eb"},{code:":flag-gg:",url:"1f1ec-1f1ec"},{code:":flag-gh:",url:"1f1ec-1f1ed"},{code:":flag-gi:",url:"1f1ec-1f1ee"},{code:":flag-gl:",url:"1f1ec-1f1f1"},{code:":flag-gm:",url:"1f1ec-1f1f2"},{code:":flag-gn:",url:"1f1ec-1f1f3"},{code:":flag-gp:",url:"1f1ec-1f1f5"},{code:":flag-gq:",url:"1f1ec-1f1f6"},{code:":flag-gr:",url:"1f1ec-1f1f7"},{code:":flag-gs:",url:"1f1ec-1f1f8"},{code:":flag-gt:",url:"1f1ec-1f1f9"},{code:":flag-gu:",url:"1f1ec-1f1fa"},{code:":flag-gw:",url:"1f1ec-1f1fc"},{code:":flag-gy:",url:"1f1ec-1f1fe"},{code:":h:",url:"1f1ed"},{code:":flag-hk:",url:"1f1ed-1f1f0"},{code:":flag-hm:",url:"1f1ed-1f1f2"},{code:":flag-hn:",url:"1f1ed-1f1f3"},{code:":flag-hr:",url:"1f1ed-1f1f7"},{code:":flag-ht:",url:"1f1ed-1f1f9"},{code:":flag-hu:",url:"1f1ed-1f1fa"},{code:":i:",url:"1f1ee"},{code:":flag-ic:",url:"1f1ee-1f1e8"},{code:":flag-id:",url:"1f1ee-1f1e9"},{code:":flag-ie:",url:"1f1ee-1f1ea"},{code:":flag-il:",url:"1f1ee-1f1f1"},{code:":flag-im:",url:"1f1ee-1f1f2"},{code:":flag-in:",url:"1f1ee-1f1f3"},{code:":flag-io:",url:"1f1ee-1f1f4"},{code:":flag-iq:",url:"1f1ee-1f1f6"},{code:":flag-ir:",url:"1f1ee-1f1f7"},{code:":flag-is:",url:"1f1ee-1f1f8"},{code:":flag-it:",url:"1f1ee-1f1f9"},{code:":j:",url:"1f1ef"},{code:":flag-je:",url:"1f1ef-1f1ea"},{code:":flag-jm:",url:"1f1ef-1f1f2"},{code:":flag-jo:",url:"1f1ef-1f1f4"},{code:":flag-jp:",url:"1f1ef-1f1f5"},{code:":k:",url:"1f1f0"},{code:":flag-ke:",url:"1f1f0-1f1ea"},{code:":flag-kg:",url:"1f1f0-1f1ec"},{code:":flag-kh:",url:"1f1f0-1f1ed"},{code:":flag-ki:",url:"1f1f0-1f1ee"},{code:":flag-km:",url:"1f1f0-1f1f2"},{code:":flag-kn:",url:"1f1f0-1f1f3"},{code:":flag-kp:",url:"1f1f0-1f1f5"},{code:":flag-kr:",url:"1f1f0-1f1f7"},{code:":flag-kw:",url:"1f1f0-1f1fc"},{code:":flag-ky:",url:"1f1f0-1f1fe"},{code:":flag-kz:",url:"1f1f0-1f1ff"},{code:":l:",url:"1f1f1"},{code:":flag-la:",url:"1f1f1-1f1e6"},{code:":flag-lb:",url:"1f1f1-1f1e7"},{code:":flag-lc:",url:"1f1f1-1f1e8"},{code:":flag-li:",url:"1f1f1-1f1ee"},{code:":flag-lk:",url:"1f1f1-1f1f0"},{code:":flag-lr:",url:"1f1f1-1f1f7"},{code:":flag-ls:",url:"1f1f1-1f1f8"},{code:":flag-lt:",url:"1f1f1-1f1f9"},{code:":flag-lu:",url:"1f1f1-1f1fa"},{code:":flag-lv:",url:"1f1f1-1f1fb"},{code:":flag-ly:",url:"1f1f1-1f1fe"},{code:":m:",url:"1f1f2"},{code:":flag-ma:",url:"1f1f2-1f1e6"},{code:":flag-mc:",url:"1f1f2-1f1e8"},{code:":flag-md:",url:"1f1f2-1f1e9"},{code:":flag-me:",url:"1f1f2-1f1ea"},{code:":flag-mf:",url:"1f1f2-1f1eb"},{code:":flag-mg:",url:"1f1f2-1f1ec"},{code:":flag-mh:",url:"1f1f2-1f1ed"},{code:":flag-mk:",url:"1f1f2-1f1f0"},{code:":flag-ml:",url:"1f1f2-1f1f1"},{code:":flag-mm:",url:"1f1f2-1f1f2"},{code:":flag-mn:",url:"1f1f2-1f1f3"},{code:":flag-mo:",url:"1f1f2-1f1f4"},{code:":flag-mp:",url:"1f1f2-1f1f5"},{code:":flag-mq:",url:"1f1f2-1f1f6"},{code:":flag-mr:",url:"1f1f2-1f1f7"},{code:":flag-ms:",url:"1f1f2-1f1f8"},{code:":flag-mt:",url:"1f1f2-1f1f9"},{code:":flag-mu:",url:"1f1f2-1f1fa"},{code:":flag-mv:",url:"1f1f2-1f1fb"},{code:":flag-mw:",url:"1f1f2-1f1fc"},{code:":flag-mx:",url:"1f1f2-1f1fd"},{code:":flag-my:",url:"1f1f2-1f1fe"},{code:":flag-mz:",url:"1f1f2-1f1ff"},{code:":n:",url:"1f1f3"},{code:":flag-na:",url:"1f1f3-1f1e6"},{code:":flag-nc:",url:"1f1f3-1f1e8"},{code:":flag-ne:",url:"1f1f3-1f1ea"},{code:":flag-nf:",url:"1f1f3-1f1eb"},{code:":flag-ng:",url:"1f1f3-1f1ec"},{code:":flag-ni:",url:"1f1f3-1f1ee"},{code:":flag-nl:",url:"1f1f3-1f1f1"},{code:":flag-no:",url:"1f1f3-1f1f4"},{code:":flag-np:",url:"1f1f3-1f1f5"},{code:":flag-nr:",url:"1f1f3-1f1f7"},{code:":flag-nu:",url:"1f1f3-1f1fa"},{code:":flag-nz:",url:"1f1f3-1f1ff"},{code:":o:",url:"1f1f4"},{code:":flag-om:",url:"1f1f4-1f1f2"},{code:":p:",url:"1f1f5"},{code:":flag-pa:",url:"1f1f5-1f1e6"},{code:":flag-pe:",url:"1f1f5-1f1ea"},{code:":flag-pf:",url:"1f1f5-1f1eb"},{code:":flag-pg:",url:"1f1f5-1f1ec"},{code:":flag-ph:",url:"1f1f5-1f1ed"},{code:":flag-pk:",url:"1f1f5-1f1f0"},{code:":flag-pl:",url:"1f1f5-1f1f1"},{code:":flag-pm:",url:"1f1f5-1f1f2"},{code:":flag-pn:",url:"1f1f5-1f1f3"},{code:":flag-pr:",url:"1f1f5-1f1f7"},{code:":flag-ps:",url:"1f1f5-1f1f8"},{code:":flag-pt:",url:"1f1f5-1f1f9"},{code:":flag-pw:",url:"1f1f5-1f1fc"},{code:":flag-py:",url:"1f1f5-1f1fe"},{code:":q:",url:"1f1f6"},{code:":flag-qa:",url:"1f1f6-1f1e6"},{code:":r:",url:"1f1f7"},{code:":flag-re:",url:"1f1f7-1f1ea"},{code:":flag-ro:",url:"1f1f7-1f1f4"},{code:":flag-rs:",url:"1f1f7-1f1f8"},{code:":flag-ru:",url:"1f1f7-1f1fa"},{code:":flag-rw:",url:"1f1f7-1f1fc"},{code:":s:",url:"1f1f8"},{code:":flag-sa:",url:"1f1f8-1f1e6"},{code:":flag-sb:",url:"1f1f8-1f1e7"},{code:":flag-sc:",url:"1f1f8-1f1e8"},{code:":flag-sd:",url:"1f1f8-1f1e9"},{code:":flag-se:",url:"1f1f8-1f1ea"},{code:":flag-sg:",url:"1f1f8-1f1ec"},{code:":flag-sh:",url:"1f1f8-1f1ed"},{code:":flag-si:",url:"1f1f8-1f1ee"},{code:":flag-sj:",url:"1f1f8-1f1ef"},{code:":flag-sk:",url:"1f1f8-1f1f0"},{code:":flag-sl:",url:"1f1f8-1f1f1"},{code:":flag-sm:",url:"1f1f8-1f1f2"},{code:":flag-sn:",url:"1f1f8-1f1f3"},{code:":flag-so:",url:"1f1f8-1f1f4"},{code:":flag-sr:",url:"1f1f8-1f1f7"},{code:":flag-ss:",url:"1f1f8-1f1f8"},{code:":flag-st:",url:"1f1f8-1f1f9"},{code:":flag-sv:",url:"1f1f8-1f1fb"},{code:":flag-sx:",url:"1f1f8-1f1fd"},{code:":flag-sy:",url:"1f1f8-1f1fe"},{code:":flag-sz:",url:"1f1f8-1f1ff"},{code:":t:",url:"1f1f9"},{code:":flag-ta:",url:"1f1f9-1f1e6"},{code:":flag-tc:",url:"1f1f9-1f1e8"},{code:":flag-td:",url:"1f1f9-1f1e9"},{code:":flag-tf:",url:"1f1f9-1f1eb"},{code:":flag-tg:",url:"1f1f9-1f1ec"},{code:":flag-th:",url:"1f1f9-1f1ed"},{code:":flag-tj:",url:"1f1f9-1f1ef"},{code:":flag-tk:",url:"1f1f9-1f1f0"},{code:":flag-tl:",url:"1f1f9-1f1f1"},{code:":flag-tm:",url:"1f1f9-1f1f2"},{code:":flag-tn:",url:"1f1f9-1f1f3"},{code:":flag-to:",url:"1f1f9-1f1f4"},{code:":flag-tr:",url:"1f1f9-1f1f7"},{code:":flag-tt:",url:"1f1f9-1f1f9"},{code:":flag-tv:",url:"1f1f9-1f1fb"},{code:":flag-tw:",url:"1f1f9-1f1fc"},{code:":flag-tz:",url:"1f1f9-1f1ff"},{code:":u:",url:"1f1fa"},{code:":flag-ua:",url:"1f1fa-1f1e6"},{code:":flag-ug:",url:"1f1fa-1f1ec"},{code:":flag-um:",url:"1f1fa-1f1f2"},{code:":flag-us:",url:"1f1fa-1f1f8"},{code:":flag-uy:",url:"1f1fa-1f1fe"},{code:":flag-uz:",url:"1f1fa-1f1ff"},{code:":v:",url:"1f1fb"},{code:":flag-va:",url:"1f1fb-1f1e6"},{code:":flag-vc:",url:"1f1fb-1f1e8"},{code:":flag-ve:",url:"1f1fb-1f1ea"},{code:":flag-vg:",url:"1f1fb-1f1ec"},{code:":flag-vi:",url:"1f1fb-1f1ee"},{code:":flag-vn:",url:"1f1fb-1f1f3"},{code:":flag-vu:",url:"1f1fb-1f1fa"},{code:":w:",url:"1f1fc"},{code:":flag-wf:",url:"1f1fc-1f1eb"},{code:":flag-ws:",url:"1f1fc-1f1f8"},{code:":x:",url:"1f1fd"},{code:":flag-xk:",url:"1f1fd-1f1f0"},{code:":y:",url:"1f1fe"},{code:":flag-ye:",url:"1f1fe-1f1ea"},{code:":flag-yt:",url:"1f1fe-1f1f9"},{code:":z:",url:"1f1ff"},{code:":flag-za:",url:"1f1ff-1f1e6"},{code:":flag-zm:",url:"1f1ff-1f1f2"},{code:":flag-zw:",url:"1f1ff-1f1fc"},{code:":koko:",url:"1f201"},{code:":sa:",url:"1f202"},{code:":negation:",url:"1f21a"},{code:":finger:",url:"1f22f"},{code:":prohibit:",url:"1f232"},{code:":empty:",url:"1f233"},{code:":together:",url:"1f234"},{code:":fullness:",url:"1f235"},{code:":exist:",url:"1f236"},{code:":moon:",url:"1f237"},{code:":apply:",url:"1f238"},{code:":divide:",url:"1f239"},{code:":operating:",url:"1f23a"},{code:":ideograph_advantage:",url:"1f250"},{code:":accept:",url:"1f251"},{code:":cyclone:",url:"1f300"},{code:":foggy:",url:"1f301"},{code:":closed_umbrella:",url:"1f302"},{code:":night_with_stars:",url:"1f303"},{code:":sunrise_over_mountains:",url:"1f304"},{code:":sunrise:",url:"1f305"},{code:":city_sunset:",url:"1f306"},{code:":city_sunrise:",url:"1f307"},{code:":rainbow:",url:"1f308"},{code:":bridge_at_night:",url:"1f309"},{code:":ocean:",url:"1f30a"},{code:":volcano:",url:"1f30b"},{code:":milky_way:",url:"1f30c"},{code:":earth_africa:",url:"1f30d"},{code:":earth_americas:",url:"1f30e"},{code:":earth_asia:",url:"1f30f"},{code:":globe_with_meridians:",url:"1f310"},{code:":new_moon:",url:"1f311"},{code:":waxing_crescent_moon:",url:"1f312"},{code:":first_quarter_moon:",url:"1f313"},{code:":waxing_gibbous_moon:",url:"1f314"},{code:":full_moon:",url:"1f315"},{code:":waning_gibbous_moon:",url:"1f316"},{code:":last_quarter_moon:",url:"1f317"},{code:":waning_crescent_moon:",url:"1f318"},{code:":crescent_moon:",url:"1f319"},{code:":new_moon_with_face:",url:"1f31a"},{code:":first_quarter_moon_with_face:",url:"1f31b"},{code:":last_quarter_moon_with_face:",url:"1f31c"},{code:":full_moon_with_face:",url:"1f31d"},{code:":sun_with_face:",url:"1f31e"},{code:":star2:",url:"1f31f"},{code:":stars:",url:"1f320"},{code:":thermometer:",url:"1f321"},{code:":mostly_sunny:",url:"1f324"},{code:":barely_sunny:",url:"1f325"},{code:":partly_sunny_rain:",url:"1f326"},{code:":rain_cloud:",url:"1f327"},{code:":snow_cloud:",url:"1f328"},{code:":lightning:",url:"1f329"},{code:":tornado:",url:"1f32a"},{code:":fog:",url:"1f32b"},{code:":wind_blowing_face:",url:"1f32c"},{code:":hotdog:",url:"1f32d"},{code:":taco:",url:"1f32e"},{code:":burrito:",url:"1f32f"},{code:":chestnut:",url:"1f330"},{code:":seedling:",url:"1f331"},{code:":evergreen_tree:",url:"1f332"},{code:":deciduous_tree:",url:"1f333"},{code:":palm_tree:",url:"1f334"},{code:":cactus:",url:"1f335"},{code:":hot_pepper:",url:"1f336"},{code:":tulip:",url:"1f337"},{code:":cherry_blossom:",url:"1f338"},{code:":rose:",url:"1f339"},{code:":hibiscus:",url:"1f33a"},{code:":sunflower:",url:"1f33b"},{code:":blossom:",url:"1f33c"},{code:":corn:",url:"1f33d"},{code:":ear_of_rice:",url:"1f33e"},{code:":herb:",url:"1f33f"},{code:":four_leaf_clover:",url:"1f340"},{code:":maple_leaf:",url:"1f341"},{code:":fallen_leaf:",url:"1f342"},{code:":leaves:",url:"1f343"},{code:":mushroom:",url:"1f344"},{code:":tomato:",url:"1f345"},{code:":eggplant:",url:"1f346"},{code:":grapes:",url:"1f347"},{code:":melon:",url:"1f348"},{code:":watermelon:",url:"1f349"},{code:":tangerine:",url:"1f34a"},{code:":lemon:",url:"1f34b"},{code:":banana:",url:"1f34c"},{code:":pineapple:",url:"1f34d"},{code:":apple:",url:"1f34e"},{code:":green_apple:",url:"1f34f"},{code:":pear:",url:"1f350"},{code:":peach:",url:"1f351"},{code:":cherries:",url:"1f352"},{code:":strawberry:",url:"1f353"},{code:":hamburger:",url:"1f354"},{code:":pizza:",url:"1f355"},{code:":meat_on_bone:",url:"1f356"},{code:":poultry_leg:",url:"1f357"},{code:":rice_cracker:",url:"1f358"},{code:":rice_ball:",url:"1f359"},{code:":rice:",url:"1f35a"},{code:":curry:",url:"1f35b"},{code:":ramen:",url:"1f35c"},{code:":spaghetti:",url:"1f35d"},{code:":bread:",url:"1f35e"},{code:":fries:",url:"1f35f"},{code:":sweet_potato:",url:"1f360"},{code:":dango:",url:"1f361"},{code:":oden:",url:"1f362"},{code:":sushi:",url:"1f363"},{code:":fried_shrimp:",url:"1f364"},{code:":fish_cake:",url:"1f365"},{code:":icecream:",url:"1f366"},{code:":shaved_ice:",url:"1f367"},{code:":ice_cream:",url:"1f368"},{code:":doughnut:",url:"1f369"},{code:":cookie:",url:"1f36a"},{code:":chocolate_bar:",url:"1f36b"},{code:":candy:",url:"1f36c"},{code:":lollipop:",url:"1f36d"},{code:":custard:",url:"1f36e"},{code:":honey_pot:",url:"1f36f"},{code:":cake:",url:"1f370"},{code:":bento:",url:"1f371"},{code:":stew:",url:"1f372"},{code:":egg:",url:"1f373"},{code:":fork_and_knife:",url:"1f374"},{code:":tea:",url:"1f375"},{code:":sake:",url:"1f376"},{code:":wine_glass:",url:"1f377"},{code:":cocktail:",url:"1f378"},{code:":tropical_drink:",url:"1f379"},{code:":beer:",url:"1f37a"},{code:":beers:",url:"1f37b"},{code:":baby_bottle:",url:"1f37c"},{code:":knife_fork_plate:",url:"1f37d"},{code:":champagne:",url:"1f37e"},{code:":popcorn:",url:"1f37f"},{code:":ribbon:",url:"1f380"},{code:":gift:",url:"1f381"},{code:":birthday:",url:"1f382"},{code:":jack_o_lantern:",url:"1f383"},{code:":christmas_tree:",url:"1f384"},{code:":santa::skin-tone-2:",url:"1f385-1f3fb"},{code:":santa::skin-tone-3:",url:"1f385-1f3fc"},{code:":santa::skin-tone-4:",url:"1f385-1f3fd"},{code:":santa::skin-tone-5:",url:"1f385-1f3fe"},{code:":santa::skin-tone-6:",url:"1f385-1f3ff"},{code:":santa:",url:"1f385"},{code:":fireworks:",url:"1f386"},{code:":sparkler:",url:"1f387"},{code:":balloon:",url:"1f388"},{code:":tada:",url:"1f389"},{code:":confetti_ball:",url:"1f38a"},{code:":tanabata_tree:",url:"1f38b"},{code:":crossed_flags:",url:"1f38c"},{code:":bamboo:",url:"1f38d"},{code:":dolls:",url:"1f38e"},{
code:":flags:",url:"1f38f"},{code:":wind_chime:",url:"1f390"},{code:":rice_scene:",url:"1f391"},{code:":school_satchel:",url:"1f392"},{code:":mortar_board:",url:"1f393"},{code:":medal:",url:"1f396"},{code:":reminder_ribbon:",url:"1f397"},{code:":studio_microphone:",url:"1f399"},{code:":level_slider:",url:"1f39a"},{code:":control_knobs:",url:"1f39b"},{code:":film_frames:",url:"1f39e"},{code:":admission_tickets:",url:"1f39f"},{code:":carousel_horse:",url:"1f3a0"},{code:":ferris_wheel:",url:"1f3a1"},{code:":roller_coaster:",url:"1f3a2"},{code:":fishing_pole_and_fish:",url:"1f3a3"},{code:":microphone:",url:"1f3a4"},{code:":movie_camera:",url:"1f3a5"},{code:":cinema:",url:"1f3a6"},{code:":headphones:",url:"1f3a7"},{code:":art:",url:"1f3a8"},{code:":tophat:",url:"1f3a9"},{code:":circus_tent:",url:"1f3aa"},{code:":ticket:",url:"1f3ab"},{code:":clapper:",url:"1f3ac"},{code:":performing_arts:",url:"1f3ad"},{code:":video_game:",url:"1f3ae"},{code:":dart:",url:"1f3af"},{code:":slot_machine:",url:"1f3b0"},{code:":8ball:",url:"1f3b1"},{code:":game_die:",url:"1f3b2"},{code:":bowling:",url:"1f3b3"},{code:":flower_playing_cards:",url:"1f3b4"},{code:":musical_note:",url:"1f3b5"},{code:":notes:",url:"1f3b6"},{code:":saxophone:",url:"1f3b7"},{code:":guitar:",url:"1f3b8"},{code:":musical_keyboard:",url:"1f3b9"},{code:":trumpet:",url:"1f3ba"},{code:":violin:",url:"1f3bb"},{code:":musical_score:",url:"1f3bc"},{code:":running_shirt_with_sash:",url:"1f3bd"},{code:":tennis:",url:"1f3be"},{code:":ski:",url:"1f3bf"},{code:":basketball:",url:"1f3c0"},{code:":checkered_flag:",url:"1f3c1"},{code:":snowboarder::skin-tone-2:",url:"1f3c2-1f3fb"},{code:":snowboarder::skin-tone-3:",url:"1f3c2-1f3fc"},{code:":snowboarder::skin-tone-4:",url:"1f3c2-1f3fd"},{code:":snowboarder::skin-tone-5:",url:"1f3c2-1f3fe"},{code:":snowboarder::skin-tone-6:",url:"1f3c2-1f3ff"},{code:":snowboarder:",url:"1f3c2"},{code:":runner::skin-tone-2:",url:"1f3c3-1f3fb"},{code:":runner::skin-tone-3:",url:"1f3c3-1f3fc"},{code:":runner::skin-tone-4:",url:"1f3c3-1f3fd"},{code:":runner::skin-tone-5:",url:"1f3c3-1f3fe"},{code:":runner::skin-tone-6:",url:"1f3c3-1f3ff"},{code:":runner:",url:"1f3c3"},{code:":surfer::skin-tone-2:",url:"1f3c4-1f3fb"},{code:":surfer::skin-tone-3:",url:"1f3c4-1f3fc"},{code:":surfer::skin-tone-4:",url:"1f3c4-1f3fd"},{code:":surfer::skin-tone-5:",url:"1f3c4-1f3fe"},{code:":surfer::skin-tone-6:",url:"1f3c4-1f3ff"},{code:":surfer:",url:"1f3c4"},{code:":sports_medal:",url:"1f3c5"},{code:":trophy:",url:"1f3c6"},{code:":horse_racing::skin-tone-2:",url:"1f3c7-1f3fb"},{code:":horse_racing::skin-tone-3:",url:"1f3c7-1f3fc"},{code:":horse_racing::skin-tone-4:",url:"1f3c7-1f3fd"},{code:":horse_racing::skin-tone-5:",url:"1f3c7-1f3fe"},{code:":horse_racing::skin-tone-6:",url:"1f3c7-1f3ff"},{code:":horse_racing:",url:"1f3c7"},{code:":football:",url:"1f3c8"},{code:":rugby_football:",url:"1f3c9"},{code:":swimmer::skin-tone-2:",url:"1f3ca-1f3fb"},{code:":swimmer::skin-tone-3:",url:"1f3ca-1f3fc"},{code:":swimmer::skin-tone-4:",url:"1f3ca-1f3fd"},{code:":swimmer::skin-tone-5:",url:"1f3ca-1f3fe"},{code:":swimmer::skin-tone-6:",url:"1f3ca-1f3ff"},{code:":swimmer:",url:"1f3ca"},{code:":weight_lifter::skin-tone-2:",url:"1f3cb-1f3fb"},{code:":weight_lifter::skin-tone-3:",url:"1f3cb-1f3fc"},{code:":weight_lifter::skin-tone-4:",url:"1f3cb-1f3fd"},{code:":weight_lifter::skin-tone-5:",url:"1f3cb-1f3fe"},{code:":weight_lifter::skin-tone-6:",url:"1f3cb-1f3ff"},{code:":weight_lifter:",url:"1f3cb"},{code:":golfer:",url:"1f3cc"},{code:":racing_motorcycle:",url:"1f3cd"},{code:":racing_car:",url:"1f3ce"},{code:":cricket_bat_and_ball:",url:"1f3cf"},{code:":volleyball:",url:"1f3d0"},{code:":field_hockey_stick_and_ball:",url:"1f3d1"},{code:":ice_hockey_stick_and_puck:",url:"1f3d2"},{code:":table_tennis_paddle_and_ball:",url:"1f3d3"},{code:":snow_capped_mountain:",url:"1f3d4"},{code:":camping:",url:"1f3d5"},{code:":beach_with_umbrella:",url:"1f3d6"},{code:":building_construction:",url:"1f3d7"},{code:":house_buildings:",url:"1f3d8"},{code:":cityscape:",url:"1f3d9"},{code:":derelict_house_building:",url:"1f3da"},{code:":classical_building:",url:"1f3db"},{code:":desert:",url:"1f3dc"},{code:":desert_island:",url:"1f3dd"},{code:":national_park:",url:"1f3de"},{code:":stadium:",url:"1f3df"},{code:":house:",url:"1f3e0"},{code:":house_with_garden:",url:"1f3e1"},{code:":office:",url:"1f3e2"},{code:":post_office:",url:"1f3e3"},{code:":european_post_office:",url:"1f3e4"},{code:":hospital:",url:"1f3e5"},{code:":bank:",url:"1f3e6"},{code:":atm:",url:"1f3e7"},{code:":hotel:",url:"1f3e8"},{code:":love_hotel:",url:"1f3e9"},{code:":convenience_store:",url:"1f3ea"},{code:":school:",url:"1f3eb"},{code:":department_store:",url:"1f3ec"},{code:":factory:",url:"1f3ed"},{code:":izakaya_lantern:",url:"1f3ee"},{code:":japanese_castle:",url:"1f3ef"},{code:":european_castle:",url:"1f3f0"},{code:":waving_white_flag:",url:"1f3f3"},{code:":waving_black_flag:",url:"1f3f4"},{code:":rosette:",url:"1f3f5"},{code:":label:",url:"1f3f7"},{code:":badminton_racquet_and_shuttlecock:",url:"1f3f8"},{code:":bow_and_arrow:",url:"1f3f9"},{code:":amphora:",url:"1f3fa"},{code:":skin-tone-2:",url:"1f3fb"},{code:":skin-tone-3:",url:"1f3fc"},{code:":skin-tone-4:",url:"1f3fd"},{code:":skin-tone-5:",url:"1f3fe"},{code:":skin-tone-6:",url:"1f3ff"},{code:":rat:",url:"1f400"},{code:":mouse2:",url:"1f401"},{code:":ox:",url:"1f402"},{code:":water_buffalo:",url:"1f403"},{code:":cow2:",url:"1f404"},{code:":tiger2:",url:"1f405"},{code:":leopard:",url:"1f406"},{code:":rabbit2:",url:"1f407"},{code:":cat2:",url:"1f408"},{code:":dragon:",url:"1f409"},{code:":crocodile:",url:"1f40a"},{code:":whale2:",url:"1f40b"},{code:":snail:",url:"1f40c"},{code:":snake:",url:"1f40d"},{code:":racehorse:",url:"1f40e"},{code:":ram:",url:"1f40f"},{code:":goat:",url:"1f410"},{code:":sheep:",url:"1f411"},{code:":monkey:",url:"1f412"},{code:":rooster:",url:"1f413"},{code:":chicken:",url:"1f414"},{code:":dog2:",url:"1f415"},{code:":pig2:",url:"1f416"},{code:":boar:",url:"1f417"},{code:":elephant:",url:"1f418"},{code:":octopus:",url:"1f419"},{code:":shell:",url:"1f41a"},{code:":bug:",url:"1f41b"},{code:":ant:",url:"1f41c"},{code:":bee:",url:"1f41d"},{code:":beetle:",url:"1f41e"},{code:":fish:",url:"1f41f"},{code:":tropical_fish:",url:"1f420"},{code:":blowfish:",url:"1f421"},{code:":turtle:",url:"1f422"},{code:":hatching_chick:",url:"1f423"},{code:":baby_chick:",url:"1f424"},{code:":hatched_chick:",url:"1f425"},{code:":bird:",url:"1f426"},{code:":penguin:",url:"1f427"},{code:":koala:",url:"1f428"},{code:":poodle:",url:"1f429"},{code:":dromedary_camel:",url:"1f42a"},{code:":camel:",url:"1f42b"},{code:":dolphin:",url:"1f42c"},{code:":mouse:",url:"1f42d"},{code:":cow:",url:"1f42e"},{code:":tiger:",url:"1f42f"},{code:":rabbit:",url:"1f430"},{code:":cat:",url:"1f431"},{code:":dragon_face:",url:"1f432"},{code:":whale:",url:"1f433"},{code:":horse:",url:"1f434"},{code:":monkey_face:",url:"1f435"},{code:":dog:",url:"1f436"},{code:":pig:",url:"1f437"},{code:":frog:",url:"1f438"},{code:":hamster:",url:"1f439"},{code:":wolf:",url:"1f43a"},{code:":bear:",url:"1f43b"},{code:":panda_face:",url:"1f43c"},{code:":pig_nose:",url:"1f43d"},{code:":feet:",url:"1f43e"},{code:":chipmunk:",url:"1f43f"},{code:":eyes:",url:"1f440"},{code:":eye:",url:"1f441"},{code:":eye::left_speech_bubble:",url:"1f441-200d-1f5e8"},{code:":ear::skin-tone-2:",url:"1f442-1f3fb"},{code:":ear::skin-tone-3:",url:"1f442-1f3fc"},{code:":ear::skin-tone-4:",url:"1f442-1f3fd"},{code:":ear::skin-tone-5:",url:"1f442-1f3fe"},{code:":ear::skin-tone-6:",url:"1f442-1f3ff"},{code:":ear:",url:"1f442"},{code:":nose::skin-tone-2:",url:"1f443-1f3fb"},{code:":nose::skin-tone-3:",url:"1f443-1f3fc"},{code:":nose::skin-tone-4:",url:"1f443-1f3fd"},{code:":nose::skin-tone-5:",url:"1f443-1f3fe"},{code:":nose::skin-tone-6:",url:"1f443-1f3ff"},{code:":nose:",url:"1f443"},{code:":lips:",url:"1f444"},{code:":tongue:",url:"1f445"},{code:":point_up_2::skin-tone-2:",url:"1f446-1f3fb"},{code:":point_up_2::skin-tone-3:",url:"1f446-1f3fc"},{code:":point_up_2::skin-tone-4:",url:"1f446-1f3fd"},{code:":point_up_2::skin-tone-5:",url:"1f446-1f3fe"},{code:":point_up_2::skin-tone-6:",url:"1f446-1f3ff"},{code:":point_up_2:",url:"1f446"},{code:":point_down::skin-tone-2:",url:"1f447-1f3fb"},{code:":point_down::skin-tone-3:",url:"1f447-1f3fc"},{code:":point_down::skin-tone-4:",url:"1f447-1f3fd"},{code:":point_down::skin-tone-5:",url:"1f447-1f3fe"},{code:":point_down::skin-tone-6:",url:"1f447-1f3ff"},{code:":point_down:",url:"1f447"},{code:":point_left::skin-tone-2:",url:"1f448-1f3fb"},{code:":point_left::skin-tone-3:",url:"1f448-1f3fc"},{code:":point_left::skin-tone-4:",url:"1f448-1f3fd"},{code:":point_left::skin-tone-5:",url:"1f448-1f3fe"},{code:":point_left::skin-tone-6:",url:"1f448-1f3ff"},{code:":point_left:",url:"1f448"},{code:":point_right::skin-tone-2:",url:"1f449-1f3fb"},{code:":point_right::skin-tone-3:",url:"1f449-1f3fc"},{code:":point_right::skin-tone-4:",url:"1f449-1f3fd"},{code:":point_right::skin-tone-5:",url:"1f449-1f3fe"},{code:":point_right::skin-tone-6:",url:"1f449-1f3ff"},{code:":point_right:",url:"1f449"},{code:":facepunch::skin-tone-2:",url:"1f44a-1f3fb"},{code:":facepunch::skin-tone-3:",url:"1f44a-1f3fc"},{code:":facepunch::skin-tone-4:",url:"1f44a-1f3fd"},{code:":facepunch::skin-tone-5:",url:"1f44a-1f3fe"},{code:":facepunch::skin-tone-6:",url:"1f44a-1f3ff"},{code:":facepunch:",url:"1f44a"},{code:":wave::skin-tone-2:",url:"1f44b-1f3fb"},{code:":wave::skin-tone-3:",url:"1f44b-1f3fc"},{code:":wave::skin-tone-4:",url:"1f44b-1f3fd"},{code:":wave::skin-tone-5:",url:"1f44b-1f3fe"},{code:":wave::skin-tone-6:",url:"1f44b-1f3ff"},{code:":wave:",url:"1f44b"},{code:":ok_hand::skin-tone-2:",url:"1f44c-1f3fb"},{code:":ok_hand::skin-tone-3:",url:"1f44c-1f3fc"},{code:":ok_hand::skin-tone-4:",url:"1f44c-1f3fd"},{code:":ok_hand::skin-tone-5:",url:"1f44c-1f3fe"},{code:":ok_hand::skin-tone-6:",url:"1f44c-1f3ff"},{code:":ok_hand:",url:"1f44c"},{code:":+1::skin-tone-2:",url:"1f44d-1f3fb"},{code:":+1::skin-tone-3:",url:"1f44d-1f3fc"},{code:":+1::skin-tone-4:",url:"1f44d-1f3fd"},{code:":+1::skin-tone-5:",url:"1f44d-1f3fe"},{code:":+1::skin-tone-6:",url:"1f44d-1f3ff"},{code:":+1:",url:"1f44d"},{code:":-1::skin-tone-2:",url:"1f44e-1f3fb"},{code:":-1::skin-tone-3:",url:"1f44e-1f3fc"},{code:":-1::skin-tone-4:",url:"1f44e-1f3fd"},{code:":-1::skin-tone-5:",url:"1f44e-1f3fe"},{code:":-1::skin-tone-6:",url:"1f44e-1f3ff"},{code:":-1:",url:"1f44e"},{code:":clap::skin-tone-2:",url:"1f44f-1f3fb"},{code:":clap::skin-tone-3:",url:"1f44f-1f3fc"},{code:":clap::skin-tone-4:",url:"1f44f-1f3fd"},{code:":clap::skin-tone-5:",url:"1f44f-1f3fe"},{code:":clap::skin-tone-6:",url:"1f44f-1f3ff"},{code:":clap:",url:"1f44f"},{code:":open_hands::skin-tone-2:",url:"1f450-1f3fb"},{code:":open_hands::skin-tone-3:",url:"1f450-1f3fc"},{code:":open_hands::skin-tone-4:",url:"1f450-1f3fd"},{code:":open_hands::skin-tone-5:",url:"1f450-1f3fe"},{code:":open_hands::skin-tone-6:",url:"1f450-1f3ff"},{code:":open_hands:",url:"1f450"},{code:":crown:",url:"1f451"},{code:":womans_hat:",url:"1f452"},{code:":eyeglasses:",url:"1f453"},{code:":necktie:",url:"1f454"},{code:":shirt:",url:"1f455"},{code:":jeans:",url:"1f456"},{code:":dress:",url:"1f457"},{code:":kimono:",url:"1f458"},{code:":bikini:",url:"1f459"},{code:":womans_clothes:",url:"1f45a"},{code:":purse:",url:"1f45b"},{code:":handbag:",url:"1f45c"},{code:":pouch:",url:"1f45d"},{code:":mans_shoe:",url:"1f45e"},{code:":athletic_shoe:",url:"1f45f"},{code:":high_heel:",url:"1f460"},{code:":sandal:",url:"1f461"},{code:":boot:",url:"1f462"},{code:":footprints:",url:"1f463"},{code:":bust_in_silhouette:",url:"1f464"},{code:":busts_in_silhouette:",url:"1f465"},{code:":boy::skin-tone-2:",url:"1f466-1f3fb"},{code:":boy::skin-tone-3:",url:"1f466-1f3fc"},{code:":boy::skin-tone-4:",url:"1f466-1f3fd"},{code:":boy::skin-tone-5:",url:"1f466-1f3fe"},{code:":boy::skin-tone-6:",url:"1f466-1f3ff"},{code:":boy:",url:"1f466"},{code:":girl::skin-tone-2:",url:"1f467-1f3fb"},{code:":girl::skin-tone-3:",url:"1f467-1f3fc"},{code:":girl::skin-tone-4:",url:"1f467-1f3fd"},{code:":girl::skin-tone-5:",url:"1f467-1f3fe"},{code:":girl::skin-tone-6:",url:"1f467-1f3ff"},{code:":girl:",url:"1f467"},{code:":man::skin-tone-2:",url:"1f468-1f3fb"},{code:":man::skin-tone-3:",url:"1f468-1f3fc"},{code:":man::skin-tone-4:",url:"1f468-1f3fd"},{code:":man::skin-tone-5:",url:"1f468-1f3fe"},{code:":man::skin-tone-6:",url:"1f468-1f3ff"},{code:":man:",url:"1f468"},{code:":man-man-boy:",url:"1f468-200d-1f468-200d-1f466"},{code:":man-man-boy-boy:",url:"1f468-200d-1f468-200d-1f466-200d-1f466"},{code:":man-man-girl:",url:"1f468-200d-1f468-200d-1f467"},{code:":man-man-girl-boy:",url:"1f468-200d-1f468-200d-1f467-200d-1f466"},{code:":man-man-girl-girl:",url:"1f468-200d-1f468-200d-1f467-200d-1f467"},{code:":man-woman-boy:",url:"1f468-200d-1f469-200d-1f466"},{code:":man-woman-boy-boy:",url:"1f468-200d-1f469-200d-1f466-200d-1f466"},{code:":man-woman-girl:",url:"1f468-200d-1f469-200d-1f467"},{code:":man-woman-girl-boy:",url:"1f468-200d-1f469-200d-1f467-200d-1f466"},{code:":man-woman-girl-girl:",url:"1f468-200d-1f469-200d-1f467-200d-1f467"},{code:":man-heart-man:",url:"1f468-200d-2764-fe0f-200d-1f468"},{code:":man-kiss-man:",url:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468"},{code:":woman::skin-tone-2:",url:"1f469-1f3fb"},{code:":woman::skin-tone-3:",url:"1f469-1f3fc"},{code:":woman::skin-tone-4:",url:"1f469-1f3fd"},{code:":woman::skin-tone-5:",url:"1f469-1f3fe"},{code:":woman::skin-tone-6:",url:"1f469-1f3ff"},{code:":woman:",url:"1f469"},{code:":woman-woman-boy:",url:"1f469-200d-1f469-200d-1f466"},{code:":woman-woman-boy-boy:",url:"1f469-200d-1f469-200d-1f466-200d-1f466"},{code:":woman-woman-girl:",url:"1f469-200d-1f469-200d-1f467"},{code:":woman-woman-girl-boy:",url:"1f469-200d-1f469-200d-1f467-200d-1f466"},{code:":woman-woman-girl-girl:",url:"1f469-200d-1f469-200d-1f467-200d-1f467"},{code:":woman-heart-man:",url:"1f469-200d-2764-fe0f-200d-1f468"},{code:":woman-heart-woman:",url:"1f469-200d-2764-fe0f-200d-1f469"},{code:":woman-kiss-man:",url:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468"},{code:":woman-kiss-woman:",url:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469"},{code:":family:",url:"1f46a"},{code:":couple:",url:"1f46b"},{code:":two_men_holding_hands:",url:"1f46c"},{code:":two_women_holding_hands:",url:"1f46d"},{code:":cop::skin-tone-2:",url:"1f46e-1f3fb"},{code:":cop::skin-tone-3:",url:"1f46e-1f3fc"},{code:":cop::skin-tone-4:",url:"1f46e-1f3fd"},{code:":cop::skin-tone-5:",url:"1f46e-1f3fe"},{code:":cop::skin-tone-6:",url:"1f46e-1f3ff"},{code:":cop:",url:"1f46e"},{code:":dancers:",url:"1f46f"},{code:":bride_with_veil::skin-tone-2:",url:"1f470-1f3fb"},{code:":bride_with_veil::skin-tone-3:",url:"1f470-1f3fc"},{code:":bride_with_veil::skin-tone-4:",url:"1f470-1f3fd"},{code:":bride_with_veil::skin-tone-5:",url:"1f470-1f3fe"},{code:":bride_with_veil::skin-tone-6:",url:"1f470-1f3ff"},{code:":bride_with_veil:",url:"1f470"},{code:":person_with_blond_hair::skin-tone-2:",url:"1f471-1f3fb"},{code:":person_with_blond_hair::skin-tone-3:",url:"1f471-1f3fc"},{code:":person_with_blond_hair::skin-tone-4:",url:"1f471-1f3fd"},{code:":person_with_blond_hair::skin-tone-5:",url:"1f471-1f3fe"},{code:":person_with_blond_hair::skin-tone-6:",url:"1f471-1f3ff"},{code:":person_with_blond_hair:",url:"1f471"},{code:":man_with_gua_pi_mao::skin-tone-2:",url:"1f472-1f3fb"},{code:":man_with_gua_pi_mao::skin-tone-3:",url:"1f472-1f3fc"},{code:":man_with_gua_pi_mao::skin-tone-4:",url:"1f472-1f3fd"},{code:":man_with_gua_pi_mao::skin-tone-5:",url:"1f472-1f3fe"},{code:":man_with_gua_pi_mao::skin-tone-6:",url:"1f472-1f3ff"},{code:":man_with_gua_pi_mao:",url:"1f472"},{code:":man_with_turban::skin-tone-2:",url:"1f473-1f3fb"},{code:":man_with_turban::skin-tone-3:",url:"1f473-1f3fc"},{code:":man_with_turban::skin-tone-4:",url:"1f473-1f3fd"},{code:":man_with_turban::skin-tone-5:",url:"1f473-1f3fe"},{code:":man_with_turban::skin-tone-6:",url:"1f473-1f3ff"},{code:":man_with_turban:",url:"1f473"},{code:":older_man::skin-tone-2:",url:"1f474-1f3fb"},{code:":older_man::skin-tone-3:",url:"1f474-1f3fc"},{code:":older_man::skin-tone-4:",url:"1f474-1f3fd"},{code:":older_man::skin-tone-5:",url:"1f474-1f3fe"},{code:":older_man::skin-tone-6:",url:"1f474-1f3ff"},{code:":older_man:",url:"1f474"},{code:":older_woman::skin-tone-2:",url:"1f475-1f3fb"},{code:":older_woman::skin-tone-3:",url:"1f475-1f3fc"},{code:":older_woman::skin-tone-4:",url:"1f475-1f3fd"},{code:":older_woman::skin-tone-5:",url:"1f475-1f3fe"},{code:":older_woman::skin-tone-6:",url:"1f475-1f3ff"},{code:":older_woman:",url:"1f475"},{code:":baby::skin-tone-2:",url:"1f476-1f3fb"},{code:":baby::skin-tone-3:",url:"1f476-1f3fc"},{code:":baby::skin-tone-4:",url:"1f476-1f3fd"},{code:":baby::skin-tone-5:",url:"1f476-1f3fe"},{code:":baby::skin-tone-6:",url:"1f476-1f3ff"},{code:":baby:",url:"1f476"},{code:":construction_worker::skin-tone-2:",url:"1f477-1f3fb"},{code:":construction_worker::skin-tone-3:",url:"1f477-1f3fc"},{code:":construction_worker::skin-tone-4:",url:"1f477-1f3fd"},{code:":construction_worker::skin-tone-5:",url:"1f477-1f3fe"},{code:":construction_worker::skin-tone-6:",url:"1f477-1f3ff"},{code:":construction_worker:",url:"1f477"},{code:":princess::skin-tone-2:",url:"1f478-1f3fb"},{code:":princess::skin-tone-3:",url:"1f478-1f3fc"},{code:":princess::skin-tone-4:",url:"1f478-1f3fd"},{code:":princess::skin-tone-5:",url:"1f478-1f3fe"},{code:":princess::skin-tone-6:",url:"1f478-1f3ff"},{code:":princess:",url:"1f478"},{code:":japanese_ogre:",url:"1f479"},{code:":japanese_goblin:",url:"1f47a"},{code:":ghost:",url:"1f47b"},{code:":angel::skin-tone-2:",url:"1f47c-1f3fb"},{code:":angel::skin-tone-3:",url:"1f47c-1f3fc"},{code:":angel::skin-tone-4:",url:"1f47c-1f3fd"},{code:":angel::skin-tone-5:",url:"1f47c-1f3fe"},{code:":angel::skin-tone-6:",url:"1f47c-1f3ff"},{code:":angel:",url:"1f47c"},{code:":alien:",url:"1f47d"},{code:":space_invader:",url:"1f47e"},{code:":imp:",url:"1f47f"},{code:":skull:",url:"1f480"},{code:":information_desk_person::skin-tone-2:",url:"1f481-1f3fb"},{code:":information_desk_person::skin-tone-3:",url:"1f481-1f3fc"},{code:":information_desk_person::skin-tone-4:",url:"1f481-1f3fd"},{code:":information_desk_person::skin-tone-5:",url:"1f481-1f3fe"},{code:":information_desk_person::skin-tone-6:",url:"1f481-1f3ff"},{code:":information_desk_person:",url:"1f481"},{code:":guardsman::skin-tone-2:",url:"1f482-1f3fb"},{code:":guardsman::skin-tone-3:",url:"1f482-1f3fc"},{code:":guardsman::skin-tone-4:",url:"1f482-1f3fd"},{code:":guardsman::skin-tone-5:",url:"1f482-1f3fe"},{code:":guardsman::skin-tone-6:",url:"1f482-1f3ff"},{code:":guardsman:",url:"1f482"},{code:":dancer::skin-tone-2:",url:"1f483-1f3fb"},{code:":dancer::skin-tone-3:",url:"1f483-1f3fc"},{code:":dancer::skin-tone-4:",url:"1f483-1f3fd"},{code:":dancer::skin-tone-5:",url:"1f483-1f3fe"},{code:":dancer::skin-tone-6:",url:"1f483-1f3ff"},{code:":dancer:",url:"1f483"},{code:":lipstick:",url:"1f484"},{code:":nail_care::skin-tone-2:",url:"1f485-1f3fb"},{code:":nail_care::skin-tone-3:",url:"1f485-1f3fc"},{code:":nail_care::skin-tone-4:",url:"1f485-1f3fd"},{code:":nail_care::skin-tone-5:",url:"1f485-1f3fe"},{code:":nail_care::skin-tone-6:",url:"1f485-1f3ff"},{code:":nail_care:",url:"1f485"},{code:":massage::skin-tone-2:",url:"1f486-1f3fb"},{code:":massage::skin-tone-3:",url:"1f486-1f3fc"},{code:":massage::skin-tone-4:",url:"1f486-1f3fd"},{code:":massage::skin-tone-5:",url:"1f486-1f3fe"},{code:":massage::skin-tone-6:",url:"1f486-1f3ff"},{code:":massage:",url:"1f486"},{code:":haircut::skin-tone-2:",url:"1f487-1f3fb"},{code:":haircut::skin-tone-3:",url:"1f487-1f3fc"},{code:":haircut::skin-tone-4:",url:"1f487-1f3fd"},{code:":haircut::skin-tone-5:",url:"1f487-1f3fe"},{code:":haircut::skin-tone-6:",url:"1f487-1f3ff"},{code:":haircut:",url:"1f487"},{code:":barber:",url:"1f488"},{code:":syringe:",url:"1f489"},{code:":pill:",url:"1f48a"},{code:":kiss:",url:"1f48b"},{code:":love_letter:",url:"1f48c"},{code:":ring:",url:"1f48d"},{code:":gem:",url:"1f48e"},{code:":couplekiss:",url:"1f48f"},{code:":bouquet:",url:"1f490"},{code:":couple_with_heart:",url:"1f491"},{code:":wedding:",url:"1f492"},{code:":heartbeat:",url:"1f493"},{code:":broken_heart:",url:"1f494"},{code:":two_hearts:",url:"1f495"},{code:":sparkling_heart:",url:"1f496"},{code:":heartpulse:",url:"1f497"},{code:":cupid:",url:"1f498"},{code:":blue_heart:",url:"1f499"},{code:":green_heart:",url:"1f49a"},{code:":yellow_heart:",url:"1f49b"},{code:":purple_heart:",url:"1f49c"},{code:":gift_heart:",url:"1f49d"},{code:":revolving_hearts:",url:"1f49e"},{code:":heart_decoration:",url:"1f49f"},{code:":diamond_shape_with_a_dot_inside:",url:"1f4a0"},{code:":bulb:",url:"1f4a1"},{code:":anger:",url:"1f4a2"},{code:":bomb:",url:"1f4a3"},{code:":zzz:",url:"1f4a4"},{code:":boom:",url:"1f4a5"},{code:":sweat_drops:",url:"1f4a6"},{code:":droplet:",url:"1f4a7"},{code:":dash:",url:"1f4a8"},{code:":hankey:",url:"1f4a9"},{code:":muscle::skin-tone-2:",url:"1f4aa-1f3fb"},{code:":muscle::skin-tone-3:",url:"1f4aa-1f3fc"},{code:":muscle::skin-tone-4:",url:"1f4aa-1f3fd"},{code:":muscle::skin-tone-5:",url:"1f4aa-1f3fe"},{code:":muscle::skin-tone-6:",url:"1f4aa-1f3ff"},{code:":muscle:",url:"1f4aa"},{code:":dizzy:",url:"1f4ab"},{code:":speech_balloon:",url:"1f4ac"},{code:":thought_balloon:",url:"1f4ad"},{code:":white_flower:",url:"1f4ae"},{code:":100:",url:"1f4af"},{code:":moneybag:",url:"1f4b0"},{code:":currency_exchange:",url:"1f4b1"},{code:":heavy_dollar_sign:",url:"1f4b2"},{code:":credit_card:",url:"1f4b3"},{code:":yen:",url:"1f4b4"},{code:":dollar:",url:"1f4b5"},{code:":euro:",url:"1f4b6"},{code:":pound:",url:"1f4b7"},{code:":money_with_wings:",url:"1f4b8"},{code:":chart:",url:"1f4b9"},{code:":seat:",url:"1f4ba"},{code:":computer:",url:"1f4bb"},{code:":briefcase:",url:"1f4bc"},{code:":minidisc:",url:"1f4bd"},{code:":floppy_disk:",url:"1f4be"},{code:":cd:",url:"1f4bf"},{code:":dvd:",url:"1f4c0"},{code:":file_folder:",url:"1f4c1"},{code:":open_file_folder:",url:"1f4c2"},{code:":page_with_curl:",url:"1f4c3"},{code:":page_facing_up:",url:"1f4c4"},{code:":date:",url:"1f4c5"},{code:":calendar:",url:"1f4c6"},{code:":card_index:",url:"1f4c7"},{code:":chart_with_upwards_trend:",url:"1f4c8"},{code:":chart_with_downwards_trend:",url:"1f4c9"},{code:":bar_chart:",url:"1f4ca"},{code:":clipboard:",url:"1f4cb"},{code:":pushpin:",url:"1f4cc"},{code:":round_pushpin:",url:"1f4cd"},{code:":paperclip:",url:"1f4ce"},{code:":straight_ruler:",url:"1f4cf"},{code:":triangular_ruler:",url:"1f4d0"},{code:":bookmark_tabs:",url:"1f4d1"},{code:":ledger:",url:"1f4d2"},{code:":notebook:",url:"1f4d3"},{code:":notebook_with_decorative_cover:",url:"1f4d4"},{code:":closed_book:",url:"1f4d5"},{code:":book:",url:"1f4d6"},{code:":green_book:",url:"1f4d7"},{code:":blue_book:",url:"1f4d8"},{code:":orange_book:",url:"1f4d9"},{code:":books:",url:"1f4da"},{code:":name_badge:",url:"1f4db"},{code:":scroll:",url:"1f4dc"},{code:":memo:",url:"1f4dd"},{code:":telephone_receiver:",url:"1f4de"},{code:":pager:",url:"1f4df"},{code:":fax:",url:"1f4e0"},{code:":satellite_antenna:",url:"1f4e1"},{code:":loudspeaker:",url:"1f4e2"},{code:":mega:",url:"1f4e3"},{code:":outbox_tray:",url:"1f4e4"},{code:":inbox_tray:",url:"1f4e5"},{code:":package:",url:"1f4e6"},{code:":e-mail:",url:"1f4e7"},{code:":incoming_envelope:",url:"1f4e8"},{code:":envelope_with_arrow:",url:"1f4e9"},{code:":mailbox_closed:",url:"1f4ea"},{code:":mailbox:",url:"1f4eb"},{code:":mailbox_with_mail:",url:"1f4ec"},{code:":mailbox_with_no_mail:",url:"1f4ed"},{code:":postbox:",url:"1f4ee"},{code:":postal_horn:",url:"1f4ef"},{code:":newspaper:",url:"1f4f0"},{code:":iphone:",url:"1f4f1"},{code:":calling:",url:"1f4f2"},{code:":vibration_mode:",url:"1f4f3"},{code:":mobile_phone_off:",url:"1f4f4"},{code:":no_mobile_phones:",url:"1f4f5"},{code:":signal_strength:",url:"1f4f6"},{code:":camera:",url:"1f4f7"},{code:":camera_with_flash:",url:"1f4f8"},{code:":video_camera:",url:"1f4f9"},{code:":tv:",url:"1f4fa"},{code:":radio:",url:"1f4fb"},{code:":vhs:",url:"1f4fc"},{code:":film_projector:",url:"1f4fd"},{code:":prayer_beads:",url:"1f4ff"},{code:":twisted_rightwards_arrows:",url:"1f500"},{code:":repeat:",url:"1f501"},{code:":repeat_one:",url:"1f502"},{code:":arrows_clockwise:",url:"1f503"},{code:":arrows_counterclockwise:",url:"1f504"},{code:":low_brightness:",url:"1f505"},{code:":high_brightness:",url:"1f506"},{code:":mute:",url:"1f507"},{code:":speaker:",url:"1f508"},{code:":sound:",url:"1f509"},{code:":loud_sound:",url:"1f50a"},{code:":battery:",url:"1f50b"},{code:":electric_plug:",url:"1f50c"},{code:":mag:",url:"1f50d"},{code:":mag_right:",url:"1f50e"},{code:":lock_with_ink_pen:",url:"1f50f"},{code:":closed_lock_with_key:",url:"1f510"},{code:":key:",url:"1f511"},{code:":lock:",url:"1f512"},{code:":unlock:",url:"1f513"},{code:":bell:",url:"1f514"},{code:":no_bell:",url:"1f515"},{code:":bookmark:",url:"1f516"},{code:":link:",url:"1f517"},{code:":radio_button:",url:"1f518"},{code:":back:",url:"1f519"},{code:":end:",url:"1f51a"},{code:":on:",url:"1f51b"},{code:":soon:",url:"1f51c"},{code:":top:",url:"1f51d"},{code:":underage:",url:"1f51e"},{code:":keycap_ten:",url:"1f51f"},{code:":capital_abcd:",url:"1f520"},{code:":abcd:",url:"1f521"},{code:":1234:",url:"1f522"},{code:":symbols:",url:"1f523"},{code:":abc:",url:"1f524"},{code:":fire:",url:"1f525"},{code:":flashlight:",url:"1f526"},{code:":wrench:",url:"1f527"},{code:":hammer:",url:"1f528"},{code:":nut_and_bolt:",url:"1f529"},{code:":hocho:",url:"1f52a"},{code:":gun:",url:"1f52b"},{code:":microscope:",url:"1f52c"},{code:":telescope:",url:"1f52d"},{code:":crystal_ball:",url:"1f52e"},{code:":six_pointed_star:",url:"1f52f"},{code:":beginner:",url:"1f530"},{code:":trident:",url:"1f531"},{code:":black_square_button:",url:"1f532"},{code:":white_square_button:",url:"1f533"},{code:":red_circle:",url:"1f534"},{code:":large_blue_circle:",url:"1f535"},{code:":large_orange_diamond:",url:"1f536"},{code:":large_blue_diamond:",url:"1f537"},{code:":small_orange_diamond:",url:"1f538"},{code:":small_blue_diamond:",url:"1f539"},{code:":small_red_triangle:",url:"1f53a"},{code:":small_red_triangle_down:",url:"1f53b"},{code:":arrow_up_small:",url:"1f53c"},{code:":arrow_down_small:",url:"1f53d"},{code:":om_symbol:",url:"1f549"},{code:":dove_of_peace:",url:"1f54a"},{code:":kaaba:",url:"1f54b"},{code:":mosque:",url:"1f54c"},{code:":synagogue:",url:"1f54d"},{code:":menorah_with_nine_branches:",url:"1f54e"},{code:":clock1:",url:"1f550"},{code:":clock2:",url:"1f551"},{code:":clock3:",url:"1f552"},{code:":clock4:",url:"1f553"},{code:":clock5:",url:"1f554"},{code:":clock6:",url:"1f555"},{code:":clock7:",url:"1f556"},{code:":clock8:",url:"1f557"},{code:":clock9:",url:"1f558"},{code:":clock10:",url:"1f559"},{code:":clock11:",url:"1f55a"},{code:":clock12:",url:"1f55b"},{code:":clock130:",url:"1f55c"},{code:":clock230:",url:"1f55d"},{code:":clock330:",url:"1f55e"},{code:":clock430:",url:"1f55f"},{code:":clock530:",url:"1f560"},{code:":clock630:",url:"1f561"},{code:":clock730:",url:"1f562"},{code:":clock830:",url:"1f563"},{code:":clock930:",url:"1f564"},{code:":clock1030:",url:"1f565"},{code:":clock1130:",url:"1f566"},{code:":clock1230:",url:"1f567"},{code:":candle:",url:"1f56f"},{code:":mantelpiece_clock:",url:"1f570"},{code:":hole:",url:"1f573"},{code:":man_in_business_suit_levitating:",url:"1f574"},{code:":sleuth_or_spy::skin-tone-2:",url:"1f575-1f3fb"},{code:":sleuth_or_spy::skin-tone-3:",url:"1f575-1f3fc"},{code:":sleuth_or_spy::skin-tone-4:",url:"1f575-1f3fd"},{code:":sleuth_or_spy::skin-tone-5:",url:"1f575-1f3fe"},{code:":sleuth_or_spy::skin-tone-6:",url:"1f575-1f3ff"},{code:":sleuth_or_spy:",url:"1f575"},{code:":dark_sunglasses:",url:"1f576"},{code:":spider:",url:"1f577"},{code:":spider_web:",url:"1f578"},{code:":joystick:",url:"1f579"},{code:":linked_paperclips:",url:"1f587"},{code:":lower_left_ballpoint_pen:",url:"1f58a"},{code:":lower_left_fountain_pen:",url:"1f58b"},{code:":lower_left_paintbrush:",url:"1f58c"},{code:":lower_left_crayon:",url:"1f58d"},{code:":raised_hand_with_fingers_splayed::skin-tone-2:",url:"1f590-1f3fb"},{code:":raised_hand_with_fingers_splayed::skin-tone-3:",url:"1f590-1f3fc"},{code:":raised_hand_with_fingers_splayed::skin-tone-4:",url:"1f590-1f3fd"},{code:":raised_hand_with_fingers_splayed::skin-tone-5:",url:"1f590-1f3fe"},{code:":raised_hand_with_fingers_splayed::skin-tone-6:",url:"1f590-1f3ff"},{code:":raised_hand_with_fingers_splayed:",url:"1f590"},{code:":middle_finger::skin-tone-2:",url:"1f595-1f3fb"},{code:":middle_finger::skin-tone-3:",url:"1f595-1f3fc"},{code:":middle_finger::skin-tone-4:",url:"1f595-1f3fd"},{code:":middle_finger::skin-tone-5:",url:"1f595-1f3fe"},{code:":middle_finger::skin-tone-6:",url:"1f595-1f3ff"},{code:":middle_finger:",url:"1f595"},{code:":spock-hand::skin-tone-2:",url:"1f596-1f3fb"},{code:":spock-hand::skin-tone-3:",url:"1f596-1f3fc"},{code:":spock-hand::skin-tone-4:",url:"1f596-1f3fd"},{code:":spock-hand::skin-tone-5:",url:"1f596-1f3fe"},{code:":spock-hand::skin-tone-6:",url:"1f596-1f3ff"},{code:":spock-hand:",url:"1f596"},{code:":desktop_computer:",url:"1f5a5"},{code:":printer:",url:"1f5a8"},{code:":three_button_mouse:",url:"1f5b1"},{code:":trackball:",url:"1f5b2"},{code:":frame_with_picture:",url:"1f5bc"},{code:":card_index_dividers:",url:"1f5c2"},{code:":card_file_box:",url:"1f5c3"},{code:":file_cabinet:",url:"1f5c4"},{code:":wastebasket:",url:"1f5d1"},{code:":spiral_note_pad:",url:"1f5d2"},{code:":spiral_calendar_pad:",url:"1f5d3"},{code:":compression:",url:"1f5dc"},{code:":old_key:",url:"1f5dd"},{code:":rolled_up_newspaper:",url:"1f5de"},{code:":dagger_knife:",url:"1f5e1"},{code:":speaking_head_in_silhouette:",url:"1f5e3"},{code:":left_speech_bubble:",url:"1f5e8"},{code:":right_anger_bubble:",url:"1f5ef"},{code:":ballot_box_with_ballot:",url:"1f5f3"},{code:":world_map:",url:"1f5fa"},{code:":mount_fuji:",url:"1f5fb"},{code:":tokyo_tower:",url:"1f5fc"},{code:":statue_of_liberty:",url:"1f5fd"},{code:":japan:",url:"1f5fe"},{code:":moyai:",url:"1f5ff"},{code:":grinning:",url:"1f600"},{code:":grin:",url:"1f601"},{code:":joy:",url:"1f602"},{code:":smiley:",url:"1f603"},{code:":smile:",url:"1f604"},{code:":sweat_smile:",url:"1f605"},{code:":laughing:",url:"1f606"},{code:":innocent:",url:"1f607"},{code:":smiling_imp:",url:"1f608"},{code:":wink:",url:"1f609"},{code:":blush:",url:"1f60a"},{code:":yum:",url:"1f60b"},{code:":relieved:",url:"1f60c"},{code:":heart_eyes:",url:"1f60d"},{code:":sunglasses:",url:"1f60e"},{code:":smirk:",url:"1f60f"},{code:":neutral_face:",url:"1f610"},{code:":expressionless:",url:"1f611"},{code:":unamused:",url:"1f612"},{code:":sweat:",url:"1f613"},{code:":pensive:",url:"1f614"},{code:":confused:",url:"1f615"},{code:":confounded:",url:"1f616"},{code:":kissing:",url:"1f617"},{code:":kissing_heart:",url:"1f618"},{code:":kissing_smiling_eyes:",url:"1f619"},{code:":kissing_closed_eyes:",url:"1f61a"},{code:":stuck_out_tongue:",url:"1f61b"},{code:":stuck_out_tongue_winking_eye:",url:"1f61c"},{code:":stuck_out_tongue_closed_eyes:",url:"1f61d"},{code:":disappointed:",url:"1f61e"},{code:":worried:",url:"1f61f"},{code:":angry:",url:"1f620"},{code:":rage:",url:"1f621"},{code:":cry:",url:"1f622"},{code:":persevere:",url:"1f623"},{code:":triumph:",url:"1f624"},{code:":disappointed_relieved:",url:"1f625"},{code:":frowning:",url:"1f626"},{code:":anguished:",url:"1f627"},{code:":fearful:",url:"1f628"},{code:":weary:",url:"1f629"},{code:":sleepy:",url:"1f62a"},{code:":tired_face:",url:"1f62b"},{code:":grimacing:",url:"1f62c"},{code:":sob:",url:"1f62d"},{code:":open_mouth:",url:"1f62e"},{code:":hushed:",url:"1f62f"},{code:":cold_sweat:",url:"1f630"},{code:":scream:",url:"1f631"},{code:":astonished:",url:"1f632"},{code:":flushed:",url:"1f633"},{code:":sleeping:",url:"1f634"},{code:":dizzy_face:",url:"1f635"},{code:":no_mouth:",url:"1f636"},{code:":mask:",url:"1f637"},{code:":smile_cat:",url:"1f638"},{code:":joy_cat:",url:"1f639"},{code:":smiley_cat:",url:"1f63a"},{code:":heart_eyes_cat:",url:"1f63b"},{code:":smirk_cat:",url:"1f63c"},{code:":kissing_cat:",url:"1f63d"},{code:":pouting_cat:",url:"1f63e"},{code:":crying_cat_face:",url:"1f63f"},{code:":scream_cat:",url:"1f640"},{code:":slightly_frowning_face:",url:"1f641"},{code:":slightly_smiling_face:",url:"1f642"},{code:":upside_down_face:",url:"1f643"},{code:":face_with_rolling_eyes:",url:"1f644"},{code:":no_good::skin-tone-2:",url:"1f645-1f3fb"},{code:":no_good::skin-tone-3:",url:"1f645-1f3fc"},{code:":no_good::skin-tone-4:",url:"1f645-1f3fd"},{code:":no_good::skin-tone-5:",url:"1f645-1f3fe"},{code:":no_good::skin-tone-6:",url:"1f645-1f3ff"},{code:":no_good:",url:"1f645"},{code:":ok_woman::skin-tone-2:",url:"1f646-1f3fb"},{
code:":ok_woman::skin-tone-3:",url:"1f646-1f3fc"},{code:":ok_woman::skin-tone-4:",url:"1f646-1f3fd"},{code:":ok_woman::skin-tone-5:",url:"1f646-1f3fe"},{code:":ok_woman::skin-tone-6:",url:"1f646-1f3ff"},{code:":ok_woman:",url:"1f646"},{code:":bow::skin-tone-2:",url:"1f647-1f3fb"},{code:":bow::skin-tone-3:",url:"1f647-1f3fc"},{code:":bow::skin-tone-4:",url:"1f647-1f3fd"},{code:":bow::skin-tone-5:",url:"1f647-1f3fe"},{code:":bow::skin-tone-6:",url:"1f647-1f3ff"},{code:":bow:",url:"1f647"},{code:":see_no_evil:",url:"1f648"},{code:":hear_no_evil:",url:"1f649"},{code:":speak_no_evil:",url:"1f64a"},{code:":raising_hand::skin-tone-2:",url:"1f64b-1f3fb"},{code:":raising_hand::skin-tone-3:",url:"1f64b-1f3fc"},{code:":raising_hand::skin-tone-4:",url:"1f64b-1f3fd"},{code:":raising_hand::skin-tone-5:",url:"1f64b-1f3fe"},{code:":raising_hand::skin-tone-6:",url:"1f64b-1f3ff"},{code:":raising_hand:",url:"1f64b"},{code:":raised_hands::skin-tone-2:",url:"1f64c-1f3fb"},{code:":raised_hands::skin-tone-3:",url:"1f64c-1f3fc"},{code:":raised_hands::skin-tone-4:",url:"1f64c-1f3fd"},{code:":raised_hands::skin-tone-5:",url:"1f64c-1f3fe"},{code:":raised_hands::skin-tone-6:",url:"1f64c-1f3ff"},{code:":raised_hands:",url:"1f64c"},{code:":person_frowning::skin-tone-2:",url:"1f64d-1f3fb"},{code:":person_frowning::skin-tone-3:",url:"1f64d-1f3fc"},{code:":person_frowning::skin-tone-4:",url:"1f64d-1f3fd"},{code:":person_frowning::skin-tone-5:",url:"1f64d-1f3fe"},{code:":person_frowning::skin-tone-6:",url:"1f64d-1f3ff"},{code:":person_frowning:",url:"1f64d"},{code:":person_with_pouting_face::skin-tone-2:",url:"1f64e-1f3fb"},{code:":person_with_pouting_face::skin-tone-3:",url:"1f64e-1f3fc"},{code:":person_with_pouting_face::skin-tone-4:",url:"1f64e-1f3fd"},{code:":person_with_pouting_face::skin-tone-5:",url:"1f64e-1f3fe"},{code:":person_with_pouting_face::skin-tone-6:",url:"1f64e-1f3ff"},{code:":person_with_pouting_face:",url:"1f64e"},{code:":pray::skin-tone-2:",url:"1f64f-1f3fb"},{code:":pray::skin-tone-3:",url:"1f64f-1f3fc"},{code:":pray::skin-tone-4:",url:"1f64f-1f3fd"},{code:":pray::skin-tone-5:",url:"1f64f-1f3fe"},{code:":pray::skin-tone-6:",url:"1f64f-1f3ff"},{code:":pray:",url:"1f64f"},{code:":rocket:",url:"1f680"},{code:":helicopter:",url:"1f681"},{code:":steam_locomotive:",url:"1f682"},{code:":railway_car:",url:"1f683"},{code:":bullettrain_side:",url:"1f684"},{code:":bullettrain_front:",url:"1f685"},{code:":train2:",url:"1f686"},{code:":metro:",url:"1f687"},{code:":light_rail:",url:"1f688"},{code:":station:",url:"1f689"},{code:":tram:",url:"1f68a"},{code:":train:",url:"1f68b"},{code:":bus:",url:"1f68c"},{code:":oncoming_bus:",url:"1f68d"},{code:":trolleybus:",url:"1f68e"},{code:":busstop:",url:"1f68f"},{code:":minibus:",url:"1f690"},{code:":ambulance:",url:"1f691"},{code:":fire_engine:",url:"1f692"},{code:":police_car:",url:"1f693"},{code:":oncoming_police_car:",url:"1f694"},{code:":taxi:",url:"1f695"},{code:":oncoming_taxi:",url:"1f696"},{code:":car:",url:"1f697"},{code:":oncoming_automobile:",url:"1f698"},{code:":blue_car:",url:"1f699"},{code:":truck:",url:"1f69a"},{code:":articulated_lorry:",url:"1f69b"},{code:":tractor:",url:"1f69c"},{code:":monorail:",url:"1f69d"},{code:":mountain_railway:",url:"1f69e"},{code:":suspension_railway:",url:"1f69f"},{code:":mountain_cableway:",url:"1f6a0"},{code:":aerial_tramway:",url:"1f6a1"},{code:":ship:",url:"1f6a2"},{code:":rowboat::skin-tone-2:",url:"1f6a3-1f3fb"},{code:":rowboat::skin-tone-3:",url:"1f6a3-1f3fc"},{code:":rowboat::skin-tone-4:",url:"1f6a3-1f3fd"},{code:":rowboat::skin-tone-5:",url:"1f6a3-1f3fe"},{code:":rowboat::skin-tone-6:",url:"1f6a3-1f3ff"},{code:":rowboat:",url:"1f6a3"},{code:":speedboat:",url:"1f6a4"},{code:":traffic_light:",url:"1f6a5"},{code:":vertical_traffic_light:",url:"1f6a6"},{code:":construction:",url:"1f6a7"},{code:":rotating_light:",url:"1f6a8"},{code:":triangular_flag_on_post:",url:"1f6a9"},{code:":door:",url:"1f6aa"},{code:":no_entry_sign:",url:"1f6ab"},{code:":smoking:",url:"1f6ac"},{code:":no_smoking:",url:"1f6ad"},{code:":put_litter_in_its_place:",url:"1f6ae"},{code:":do_not_litter:",url:"1f6af"},{code:":potable_water:",url:"1f6b0"},{code:":non-potable_water:",url:"1f6b1"},{code:":bike:",url:"1f6b2"},{code:":no_bicycles:",url:"1f6b3"},{code:":bicyclist::skin-tone-2:",url:"1f6b4-1f3fb"},{code:":bicyclist::skin-tone-3:",url:"1f6b4-1f3fc"},{code:":bicyclist::skin-tone-4:",url:"1f6b4-1f3fd"},{code:":bicyclist::skin-tone-5:",url:"1f6b4-1f3fe"},{code:":bicyclist::skin-tone-6:",url:"1f6b4-1f3ff"},{code:":bicyclist:",url:"1f6b4"},{code:":mountain_bicyclist::skin-tone-2:",url:"1f6b5-1f3fb"},{code:":mountain_bicyclist::skin-tone-3:",url:"1f6b5-1f3fc"},{code:":mountain_bicyclist::skin-tone-4:",url:"1f6b5-1f3fd"},{code:":mountain_bicyclist::skin-tone-5:",url:"1f6b5-1f3fe"},{code:":mountain_bicyclist::skin-tone-6:",url:"1f6b5-1f3ff"},{code:":mountain_bicyclist:",url:"1f6b5"},{code:":walking::skin-tone-2:",url:"1f6b6-1f3fb"},{code:":walking::skin-tone-3:",url:"1f6b6-1f3fc"},{code:":walking::skin-tone-4:",url:"1f6b6-1f3fd"},{code:":walking::skin-tone-5:",url:"1f6b6-1f3fe"},{code:":walking::skin-tone-6:",url:"1f6b6-1f3ff"},{code:":walking:",url:"1f6b6"},{code:":no_pedestrians:",url:"1f6b7"},{code:":children_crossing:",url:"1f6b8"},{code:":mens:",url:"1f6b9"},{code:":womens:",url:"1f6ba"},{code:":restroom:",url:"1f6bb"},{code:":baby_symbol:",url:"1f6bc"},{code:":toilet:",url:"1f6bd"},{code:":wc:",url:"1f6be"},{code:":shower:",url:"1f6bf"},{code:":bath::skin-tone-2:",url:"1f6c0-1f3fb"},{code:":bath::skin-tone-3:",url:"1f6c0-1f3fc"},{code:":bath::skin-tone-4:",url:"1f6c0-1f3fd"},{code:":bath::skin-tone-5:",url:"1f6c0-1f3fe"},{code:":bath::skin-tone-6:",url:"1f6c0-1f3ff"},{code:":bath:",url:"1f6c0"},{code:":bathtub:",url:"1f6c1"},{code:":passport_control:",url:"1f6c2"},{code:":customs:",url:"1f6c3"},{code:":baggage_claim:",url:"1f6c4"},{code:":left_luggage:",url:"1f6c5"},{code:":couch_and_lamp:",url:"1f6cb"},{code:":sleeping_accommodation:",url:"1f6cc"},{code:":shopping_bags:",url:"1f6cd"},{code:":bellhop_bell:",url:"1f6ce"},{code:":bed:",url:"1f6cf"},{code:":place_of_worship:",url:"1f6d0"},{code:":hammer_and_wrench:",url:"1f6e0"},{code:":shield:",url:"1f6e1"},{code:":oil_drum:",url:"1f6e2"},{code:":motorway:",url:"1f6e3"},{code:":railway_track:",url:"1f6e4"},{code:":motor_boat:",url:"1f6e5"},{code:":small_airplane:",url:"1f6e9"},{code:":airplane_departure:",url:"1f6eb"},{code:":airplane_arriving:",url:"1f6ec"},{code:":satellite:",url:"1f6f0"},{code:":passenger_ship:",url:"1f6f3"},{code:":zipper_mouth_face:",url:"1f910"},{code:":money_mouth_face:",url:"1f911"},{code:":face_with_thermometer:",url:"1f912"},{code:":nerd_face:",url:"1f913"},{code:":thinking_face:",url:"1f914"},{code:":face_with_head_bandage:",url:"1f915"},{code:":robot_face:",url:"1f916"},{code:":hugging_face:",url:"1f917"},{code:":the_horns::skin-tone-2:",url:"1f918-1f3fb"},{code:":the_horns::skin-tone-3:",url:"1f918-1f3fc"},{code:":the_horns::skin-tone-4:",url:"1f918-1f3fd"},{code:":the_horns::skin-tone-5:",url:"1f918-1f3fe"},{code:":the_horns::skin-tone-6:",url:"1f918-1f3ff"},{code:":the_horns:",url:"1f918"},{code:":crab:",url:"1f980"},{code:":lion_face:",url:"1f981"},{code:":scorpion:",url:"1f982"},{code:":turkey:",url:"1f983"},{code:":unicorn_face:",url:"1f984"},{code:":cheese_wedge:",url:"1f9c0"},{code:":double_exclamation_mark:",url:"203c"},{code:":interrobang:",url:"2049"},{code:":trade_mark:",url:"2122"},{code:":information_source:",url:"2139"},{code:":left_right_arrow:",url:"2194"},{code:":arrow_up_down:",url:"2195"},{code:":arrow_upper_left:",url:"2196"},{code:":arrow_upper_right:",url:"2197"},{code:":arrow_lower_right:",url:"2198"},{code:":arrow_lower_left:",url:"2199"},{code:":leftwards_arrow_with_hook:",url:"21a9"},{code:":arrow_right_hook:",url:"21aa"},{code:":hash:",url:"23-20e3"},{code:":watch:",url:"231a"},{code:":hourglass:",url:"231b"},{code:":keyboard:",url:"2328"},{code:":eject:",url:"23cf"},{code:":fast_forward:",url:"23e9"},{code:":rewind:",url:"23ea"},{code:":arrow_double_up:",url:"23eb"},{code:":arrow_double_down:",url:"23ec"},{code:":black_right_pointing_double_triangle_with_vertical_bar:",url:"23ed"},{code:":black_left_pointing_double_triangle_with_vertical_bar:",url:"23ee"},{code:":black_right_pointing_triangle_with_double_vertical_bar:",url:"23ef"},{code:":alarm_clock:",url:"23f0"},{code:":stopwatch:",url:"23f1"},{code:":timer_clock:",url:"23f2"},{code:":hourglass_flowing_sand:",url:"23f3"},{code:":double_vertical_bar:",url:"23f8"},{code:":black_square_for_stop:",url:"23f9"},{code:":black_circle_for_record:",url:"23fa"},{code:":m_circled:",url:"24c2"},{code:":black_small_square:",url:"25aa"},{code:":white_small_square:",url:"25ab"},{code:":arrow_forward:",url:"25b6"},{code:":arrow_backward:",url:"25c0"},{code:":white_medium_square:",url:"25fb"},{code:":black_medium_square:",url:"25fc"},{code:":white_medium_small_square:",url:"25fd"},{code:":black_medium_small_square:",url:"25fe"},{code:":sunny:",url:"2600"},{code:":cloud:",url:"2601"},{code:":umbrella:",url:"2602"},{code:":showman:",url:"2603"},{code:":comet:",url:"2604"},{code:":phone:",url:"260e"},{code:":ballot_box_with_check:",url:"2611"},{code:":umbrella_with_rain_drops:",url:"2614"},{code:":coffee:",url:"2615"},{code:":shamrock:",url:"2618"},{code:":point_up::skin-tone-2:",url:"261d-1f3fb"},{code:":point_up::skin-tone-3:",url:"261d-1f3fc"},{code:":point_up::skin-tone-4:",url:"261d-1f3fd"},{code:":point_up::skin-tone-5:",url:"261d-1f3fe"},{code:":point_up::skin-tone-6:",url:"261d-1f3ff"},{code:":point_up:",url:"261d"},{code:":skull_and_crossbones:",url:"2620"},{code:":radioactive_sign:",url:"2622"},{code:":biohazard_sign:",url:"2623"},{code:":orthodox_cross:",url:"2626"},{code:":star_and_crescent:",url:"262a"},{code:":peace_symbol:",url:"262e"},{code:":yin_yang:",url:"262f"},{code:":wheel_of_dharma:",url:"2638"},{code:":white_frowning_face:",url:"2639"},{code:":relaxed:",url:"263a"},{code:":aries:",url:"2648"},{code:":taurus:",url:"2649"},{code:":gemini:",url:"264a"},{code:":cancer:",url:"264b"},{code:":leo:",url:"264c"},{code:":virgo:",url:"264d"},{code:":libra:",url:"264e"},{code:":scorpius:",url:"264f"},{code:":sagittarius:",url:"2650"},{code:":capricorn:",url:"2651"},{code:":aquarius:",url:"2652"},{code:":pisces:",url:"2653"},{code:":spades:",url:"2660"},{code:":clubs:",url:"2663"},{code:":hearts:",url:"2665"},{code:":diamonds:",url:"2666"},{code:":hotsprings:",url:"2668"},{code:":recycle:",url:"267b"},{code:":wheelchair:",url:"267f"},{code:":hammer_and_pick:",url:"2692"},{code:":anchor:",url:"2693"},{code:":crossed_swords:",url:"2694"},{code:":scales:",url:"2696"},{code:":alembic:",url:"2697"},{code:":gear:",url:"2699"},{code:":atom_symbol:",url:"269b"},{code:":fleur_de_lis:",url:"269c"},{code:":warning:",url:"26a0"},{code:":zap:",url:"26a1"},{code:":white_circle:",url:"26aa"},{code:":black_circle:",url:"26ab"},{code:":coffin:",url:"26b0"},{code:":funeral_urn:",url:"26b1"},{code:":soccer:",url:"26bd"},{code:":baseball:",url:"26be"},{code:":snowman:",url:"26c4"},{code:":partly_sunny:",url:"26c5"},{code:":thunder_cloud_and_rain:",url:"26c8"},{code:":ophiuchus:",url:"26ce"},{code:":pick:",url:"26cf"},{code:":helmet_with_white_cross:",url:"26d1"},{code:":chains:",url:"26d3"},{code:":no_entry:",url:"26d4"},{code:":shinto_shrine:",url:"26e9"},{code:":church:",url:"26ea"},{code:":mountain:",url:"26f0"},{code:":umbrella_on_ground:",url:"26f1"},{code:":fountain:",url:"26f2"},{code:":golf:",url:"26f3"},{code:":ferry:",url:"26f4"},{code:":boat:",url:"26f5"},{code:":skier:",url:"26f7"},{code:":ice_skate:",url:"26f8"},{code:":person_with_ball::skin-tone-2:",url:"26f9-1f3fb"},{code:":person_with_ball::skin-tone-3:",url:"26f9-1f3fc"},{code:":person_with_ball::skin-tone-4:",url:"26f9-1f3fd"},{code:":person_with_ball::skin-tone-5:",url:"26f9-1f3fe"},{code:":person_with_ball::skin-tone-6:",url:"26f9-1f3ff"},{code:":person_with_ball:",url:"26f9"},{code:":tent:",url:"26fa"},{code:":fuelpump:",url:"26fd"},{code:":scissors:",url:"2702"},{code:":white_check_mark:",url:"2705"},{code:":airplane:",url:"2708"},{code:":email:",url:"2709"},{code:":fist::skin-tone-2:",url:"270a-1f3fb"},{code:":fist::skin-tone-3:",url:"270a-1f3fc"},{code:":fist::skin-tone-4:",url:"270a-1f3fd"},{code:":fist::skin-tone-5:",url:"270a-1f3fe"},{code:":fist::skin-tone-6:",url:"270a-1f3ff"},{code:":fist:",url:"270a"},{code:":hand::skin-tone-2:",url:"270b-1f3fb"},{code:":hand::skin-tone-3:",url:"270b-1f3fc"},{code:":hand::skin-tone-4:",url:"270b-1f3fd"},{code:":hand::skin-tone-5:",url:"270b-1f3fe"},{code:":hand::skin-tone-6:",url:"270b-1f3ff"},{code:":hand:",url:"270b"},{code:":victory_hand::skin-tone-2:",url:"270c-1f3fb"},{code:":victory_hand::skin-tone-3:",url:"270c-1f3fc"},{code:":victory_hand::skin-tone-4:",url:"270c-1f3fd"},{code:":victory_hand::skin-tone-5:",url:"270c-1f3fe"},{code:":victory_hand::skin-tone-6:",url:"270c-1f3ff"},{code:":victory_hand:",url:"270c"},{code:":writing_hand::skin-tone-2:",url:"270d-1f3fb"},{code:":writing_hand::skin-tone-3:",url:"270d-1f3fc"},{code:":writing_hand::skin-tone-4:",url:"270d-1f3fd"},{code:":writing_hand::skin-tone-5:",url:"270d-1f3fe"},{code:":writing_hand::skin-tone-6:",url:"270d-1f3ff"},{code:":writing_hand:",url:"270d"},{code:":pencil2:",url:"270f"},{code:":black_nib:",url:"2712"},{code:":heavy_check_mark:",url:"2714"},{code:":heavy_multiplication_x:",url:"2716"},{code:":latin_cross:",url:"271d"},{code:":star_of_david:",url:"2721"},{code:":sparkles:",url:"2728"},{code:":eight_spoked_asterisk:",url:"2733"},{code:":eight_pointed_black_star:",url:"2734"},{code:":snowflake:",url:"2744"},{code:":sparkle:",url:"2747"},{code:":cross_mark:",url:"274c"},{code:":negative_squared_cross_mark:",url:"274e"},{code:":question:",url:"2753"},{code:":grey_question:",url:"2754"},{code:":grey_exclamation:",url:"2755"},{code:":exclamation:",url:"2757"},{code:":heavy_heart_exclamation_mark_ornament:",url:"2763"},{code:":heart:",url:"2764"},{code:":heavy_plus_sign:",url:"2795"},{code:":heavy_minus_sign:",url:"2796"},{code:":heavy_division_sign:",url:"2797"},{code:":arrow_right:",url:"27a1"},{code:":curly_loop:",url:"27b0"},{code:":loop:",url:"27bf"},{code:":arrow_heading_up:",url:"2934"},{code:":arrow_heading_down:",url:"2935"},{code:":asterisk:",url:"2a-20e3"},{code:":arrow_left:",url:"2b05"},{code:":arrow_up:",url:"2b06"},{code:":arrow_down:",url:"2b07"},{code:":black_large_square:",url:"2b1b"},{code:":white_large_square:",url:"2b1c"},{code:":star:",url:"2b50"},{code:":large_circle:",url:"2b55"},{code:":zero:",url:"30-20e3"},{code:":wavy_dash:",url:"3030"},{code:":part_alternation_mark:",url:"303d"},{code:":one:",url:"31-20e3"},{code:":two:",url:"32-20e3"},{code:":congratulations:",url:"3297"},{code:":secret:",url:"3299"},{code:":three:",url:"33-20e3"},{code:":four:",url:"34-20e3"},{code:":five:",url:"35-20e3"},{code:":six:",url:"36-20e3"},{code:":seven:",url:"37-20e3"},{code:":eight:",url:"38-20e3"},{code:":nine:",url:"39-20e3"},{code:":copyright:",url:"a9"},{code:":registered_sign:",url:"ae"},{code:":shibuya:",url:"e50a"}],function(t){return 0-default_emojis.indexOf(t.code)}),window.EMOJI_GROUPS=[{name:"favorites",fullname:"Favorites",tabicon:"clock9",icons:[]},{name:"people",fullname:"People",tabicon:"grinning",icons:["grinning","grin","joy","smiley","smile","sweat_smile","laughing","innocent","smiling_imp","imp","wink","blush","relaxed","yum","relieved","heart_eyes","sunglasses","smirk","neutral_face","expressionless","unamused","sweat","pensive","confused","confounded","kissing","kissing_heart","kissing_smiling_eyes","kissing_closed_eyes","stuck_out_tongue","stuck_out_tongue_winking_eye","stuck_out_tongue_closed_eyes","disappointed","worried","angry","rage","cry","persevere","triumph","disappointed_relieved","frowning","anguished","fearful","weary","sleepy","tired_face","grimacing","sob","open_mouth","hushed","cold_sweat","scream","astonished","flushed","sleeping","dizzy_face","no_mouth","mask","smile_cat","joy_cat","smiley_cat","heart_eyes_cat","smirk_cat","kissing_cat","pouting_cat","crying_cat_face","scream_cat","footprints","bust_in_silhouette","busts_in_silhouette","baby","boy","girl","man","woman","family","couple","two_men_holding_hands","two_women_holding_hands","dancers","bride_with_veil","person_with_blond_hair","man_with_gua_pi_mao","man_with_turban","older_man","older_woman","cop","construction_worker","princess","guardsman","angel","santa","ghost","japanese_ogre","japanese_goblin","hankey","skull","alien","space_invader","bow","information_desk_person","no_good","ok_woman","raising_hand","person_with_pouting_face","person_frowning","massage","haircut","couple_with_heart","couplekiss","raised_hands","clap","hand","ear","eyes","nose","lips","kiss","tongue","nail_care","wave","+1","-1","point_up","point_up_2","point_down","point_left","point_right","ok_hand","v","facepunch","fist","raising_hand","muscle","open_hands","pray","eye","hugging_face","middle_finger","money_mouth_face","nerd_face","facepunch","robot_face","face_with_rolling_eyes","skull_and_crossbones","slightly_frowning_face","speaking_head_in_silhouette","sleuth_or_spy","thinking_face","upside_down_face","funeral_urn","wind_blowing_face","writing_hand","zipper_mouth_face","question","anger","100"]},{name:"nature",fullname:"Nature",tabicon:"mouse",icons:["seedling","evergreen_tree","deciduous_tree","palm_tree","cactus","tulip","cherry_blossom","rose","hibiscus","sunflower","blossom","bouquet","ear_of_rice","herb","four_leaf_clover","maple_leaf","fallen_leaf","leaves","mushroom","chestnut","rat","mouse2","mouse","hamster","ox","water_buffalo","cow2","cow","tiger2","leopard","tiger","rabbit2","rabbit","cat2","cat","racehorse","horse","ram","sheep","goat","rooster","chicken","baby_chick","hatching_chick","hatched_chick","bird","penguin","elephant","dromedary_camel","camel","boar","pig2","pig","pig_nose","dog2","poodle","dog","wolf","bear","koala","panda_face","monkey_face","see_no_evil","hear_no_evil","speak_no_evil","monkey","dragon","dragon_face","crocodile","snake","turtle","frog","whale2","whale","dolphin","octopus","fish","tropical_fish","blowfish","shell","snail","bug","ant","bee","beetle","feet","crab","dove_of_peace","lion_face","scorpion","spider","spider_web","turkey","unicorn_face"]},{name:"wather",fullname:"Flags & Wather",tabicon:"partly_sunny",icons:["zap","fire","crescent_moon","sunny","partly_sunny","cloud","droplet","sweat_drops","umbrella","dash","snowflake","star2","star","stars","sunrise_over_mountains","sunrise","rainbow","ocean","volcano","milky_way","mount_fuji","japan","globe_with_meridians","earth_africa","earth_americas","earth_asia","new_moon","waxing_crescent_moon","first_quarter_moon","moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","new_moon_with_face","full_moon_with_face","first_quarter_moon_with_face","last_quarter_moon_with_face","sun_with_face","chipmunk","lightning","rain_cloud","snow_cloud","tornado","fog","comet","thunder_cloud_and_rain","waxing_gibbous_moon","sunny","white_sun_rain_cloud","white_sun_small_cloud","flag-black","flag-cn","flag-de","flag-es","flag-fr","flag-gb","flag-it","flag-jp","flag-kr","flag-ru","flag-us","flag-white"]},{name:"food",fullname:"Food & Drink",tabicon:"beers",icons:["tomato","eggplant","corn","sweet_potato","grapes","melon","watermelon","tangerine","lemon","banana","pineapple","apple","green_apple","pear","peach","cherries","strawberry","hamburger","pizza","meat_on_bone","poultry_leg","rice_cracker","rice_ball","rice","curry","ramen","spaghetti","bread","fries","dango","oden","sushi","fried_shrimp","fish_cake","icecream","shaved_ice","ice_cream","doughnut","cookie","chocolate_bar","candy","lollipop","custard","honey_pot","cake","bento","stew","egg","fork_and_knife","tea","coffee","sake","wine_glass","cocktail","tropical_drink","beer","beers","baby_bottle","burrito","champagne","cheese","hot_pepper","hotdog","taco"]},{name:"celebration",fullname:"Celebration",tabicon:"gift",icons:["ribbon","gift","birthday","jack_o_lantern","christmas_tree","tanabata_tree","bamboo","rice_scene","fireworks","sparkler","tada","confetti_ball","balloon","dizzy","sparkles","boom","mortar_board","crown","dolls","flags","wind_chime","crossed_flags","izakaya_lantern","ring","heart","broken_heart","love_letter","two_hearts","revolving_hearts","heartbeat","heartpulse","sparkling_heart","cupid","gift_heart","heart_decoration","purple_heart","yellow_heart","green_heart","blue_heart","heart_exclamation"]},{name:"activity",fullname:"Activities",tabicon:"soccer",icons:["runner","walking","dancer","rowboat","swimmer","surfer","bath","snowboarder","ski","snowman","bicyclist","mountain_bicyclist","horse_racing","tent","fishing_pole_and_fish","soccer","basketball","football","baseball","tennis","rugby_football","golf","trophy","running_shirt_with_sash","checkered_flag","musical_keyboard","guitar","violin","saxophone","trumpet","musical_note","notes","musical_score","headphones","microphone","performing_arts","ticket","tophat","circus_tent","clapper","art","dart","8ball","bowling","slot_machine","game_die","video_game","flower_playing_cards","black_joker","mahjong","carousel_horse","ferris_wheel","roller_coaster","badminton","ballot_box","basketball_player","bow_and_arrow","cricket","crossed_swords","field_hockey","golfer","hockey","ice_skate","paintbrush","skier","snowman2","stadium","volleyball"]},{name:"travel",fullname:"Travel & Places",tabicon:"oncoming_bus",icons:["train","mountain_railway","railway_car","steam_locomotive","monorail","bullettrain_side","bullettrain_front","train2","metro","light_rail","station","tram","bus","oncoming_bus","trolleybus","minibus","ambulance","fire_engine","police_car","oncoming_police_car","rotating_light","taxi","oncoming_taxi","car","oncoming_automobile","blue_car","truck","articulated_lorry","tractor","bike","busstop","fuelpump","construction","vertical_traffic_light","traffic_light","rocket","helicopter","airplane","seat","anchor","ship","speedboat","boat","aerial_tramway","mountain_cableway","suspension_railway","passport_control","customs","baggage_claim","left_luggage","yen","euro","pound","dollar","statue_of_liberty","moyai","foggy","tokyo_tower","fountain","european_castle","japanese_castle","city_sunrise","city_sunset","night_with_stars","bridge_at_night","house","house_with_garden","office","department_store","factory","post_office","european_post_office","hospital","bank","hotel","love_hotel","wedding","church","convenience_store","school","airplane_arriving","airplane_departure","airplane_small","beach","beach_umbrella","camping","city_dusk","cityscape","classical_building","construction_site","cruise_ship","desert","ferry","hole","homes","house_abandoned","island","kaaba","map","mosque","motorboat","motorcycle","motorway","mountain","mountain_snow","park","place_of_worship","race_car","railway_track","red_car","sailboat","shinto_shrine","sleeping_accommodation","synagogue"]},{name:"objects",fullname:"Objects",tabicon:"bulb",icons:["watch","iphone","calling","computer","alarm_clock","hourglass_flowing_sand","hourglass","camera","video_camera","movie_camera","tv","radio","pager","telephone_receiver","phone","fax","minidisc","floppy_disk","cd","dvd","vhs","battery","electric_plug","bulb","flashlight","satellite","credit_card","money_with_wings","moneybag","gem","closed_umbrella","pouch","purse","handbag","briefcase","school_satchel","lipstick","eyeglasses","womans_hat","sandal","high_heel","boot","mans_shoe","athletic_shoe","bikini","dress","kimono","womans_clothes","shirt","necktie","jeans","door","shower","bathtub","toilet","barber","syringe","pill","microscope","telescope","crystal_ball","wrench","hocho","nut_and_bolt","hammer","bomb","smoking","gun","bookmark","newspaper","key","email","envelope_with_arrow","incoming_envelope","e-mail","inbox_tray","outbox_tray","package","postal_horn","postbox","mailbox_closed","mailbox","mailbox_with_mail","mailbox_with_no_mail","page_facing_up","page_with_curl","bookmark_tabs","chart_with_upwards_trend","chart_with_downwards_trend","bar_chart","date","calendar","low_brightness","high_brightness","scroll","clipboard","book","notebook","notebook_with_decorative_cover","ledger","closed_book","green_book","blue_book","orange_book","books","card_index","link","paperclip","pushpin","scissors","triangular_ruler","round_pushpin","straight_ruler","triangular_flag_on_post","file_folder","open_file_folder","black_nib","pencil2","memo","lock_with_ink_pen","closed_lock_with_key","lock","unlock","mega","loudspeaker","sound","loud_sound","speaker","mute","zzz","bell","no_bell","thought_balloon","speech_balloon","children_crossing","mag","mag_right","no_entry_sign","no_entry"]},{name:"symbols",fullname:"Symbols",tabicon:"symbols",icons:["name_badge","no_pedestrians","do_not_litter","no_bicycles","non-potable_water","no_mobile_phones","underage","accept","ideograph_advantage","white_flower","secret","congratulations","u5408","u6e80","u7981","u6709","u7121","u7533","u55b6","u6708","u5272","u7a7a","sa","koko","u6307","chart","sparkle","eight_spoked_asterisk","negative_squared_cross_mark","white_check_mark","eight_pointed_black_star","vibration_mode","mobile_phone_off","vs","a","b","ab","cl","o2","sos","id","parking","wc","cool","free","new","ng","ok","up","atm","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","restroom","mens","womens","baby_symbol","wheelchair","potable_water","no_smoking","put_litter_in_its_place","arrow_forward","arrow_backward","arrow_up_small","arrow_down_small","fast_forward","rewind","arrow_double_up","arrow_double_down","arrow_right","arrow_left","arrow_up","arrow_down","arrow_upper_right","arrow_lower_right","arrow_lower_left","arrow_upper_left","arrow_up_down","left_right_arrow","arrows_counterclockwise","arrow_right_hook","leftwards_arrow_with_hook","arrow_heading_up","arrow_heading_down","twisted_rightwards_arrows","repeat","repeat_one","zero","one","two","three","four","five","six","seven","eight","nine","keycap_ten","1234","hash","abc","abcd","capital_abcd","information_source","signal_strength","cinema","symbols","heavy_plus_sign","heavy_minus_sign","wavy_dash","heavy_division_sign","heavy_multiplication_x","heavy_check_mark","arrows_clockwise","tm","copyright","registered","currency_exchange","heavy_dollar_sign","curly_loop","loop","part_alternation_mark","exclamation","bangbang","grey_exclamation","grey_question","interrobang","x","o","end","back","on","top","soon","cyclone","m","ophiuchus","six_pointed_star","beginner","trident","warning","hotsprings","recycle","diamond_shape_with_a_dot_inside","spades","clubs","hearts","diamonds","ballot_box_with_check","white_circle","black_circle","radio_button","red_circle","large_blue_circle","small_red_triangle","small_red_triangle_down","small_orange_diamond","small_blue_diamond","large_orange_diamond","large_blue_diamond","black_small_square","white_small_square","black_large_square","white_large_square","black_medium_square","white_medium_square","black_medium_small_square","white_medium_small_square","black_square_button","white_square_button","clock1","clock2","clock3","clock4","clock5","clock6","clock7","clock8","clock9","clock10","clock11","clock12","clock130","clock230","clock330","clock430","clock530","clock630","clock730","clock830","clock930","clock1030","clock1130","clock1230","alembic","amphora","atom","biohazard","bed","bellhop","calendar_spiral","camera_with_flash","candle","card_box","chains","clock","coffin","compression","control_knobs","couch","crayon","cross","dagger","dark_sunglasses","desktop","dividers","envelope","file_cabinet","film_frames","fleur-de-lis","fork_knife_plate","frame_photo","gear","hammer_pick","helmet_with_cross","joystick","key2","keyboard","knife","label","level_slider","levitate","lifter","medal","menorah","metal","microphone2","military_medal","mouse_three_button","newspaper2","notepad_spiral","oil","om_symbol","orthodox_cross","paperclips","pause_button","peace","pen_ballpoint","pen_fountain","pencil","pick","ping_pong","play_pause","popcorn","prayer_beads","printer","projector","radioactive","record_button","reminder_ribbon","rosette","satellite_orbital","scales","shamrock","shield","shopping_bags","star_and_crescent","star_of_david","stop_button","stopwatch","telephone","ten","thermometer","thermometer_face","tickets","timer","tools","track_next","track_previous","trackball","umbrella2","wastebasket","wheel_of_dharma","yin_yang"]}],function(){window.EmojiModalView=Backbone.View.extend({className:"emoji-modal modal",panels:{},events:{"click .tab-pane a.emoji":"insertCode","mouseover .tab-pane a.emoji":"preview","click .nav-tabs li a":"changePanel"},initialize:function(){var t,e,n;for(this.$el.html('<div class="modal-dialog">\n  <div class="modal-content">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n      <ul class="nav nav-tabs">\n      </ul>\n    </div>\n    <div class="modal-body">\n      <div class="tab-content">\n      </div>\n    </div>\n    <div class="modal-footer">\n    </div>\n  </div>\n</div>'),e=0,n=EMOJI_GROUPS.length;e<n;e++)t=EMOJI_GROUPS[e],this.addGroup(t);return this.activeFirstPanel()},activeFirstPanel:function(){var t,e;return this.$el.find(".nav-tabs li").first().addClass("active"),t=this.$el.find(".nav-tabs li a").first().data("group"),e=this.$el.find("#emoji-group-"+t),e.html(this.panels[t]),e.addClass("active")},findEmojiUrlByName:function(t){var e;return e=_.find(EMOJI_LIST,function(e){return e.code===":"+t+":"}),e?App.twemoji_url+"/svg/"+e.url+".svg":""},addGroup:function(t){var e,n;return this.renderGroupHTML(t),("favorites"!==t.name||0!==t.icons.length)&&(n='<li><a href="#emoji-group-'+t.name+'"\n       data-group="'+t.name+'" role="tab"\n       data-toggle="tab">\n    <img src="'+this.findEmojiUrlByName(t.tabicon)+'" class="twemoji" /></a>\n</li>',e='<div id="emoji-group-'+t.name+'" class="tab-pane">\n</div>',this.$el.find(".nav-tabs").append(n),this.$el.find(".tab-content").append(e))},renderGroupHTML:function(t){var e,n,r,o,i,a;for(n=[],"favorites"===t.name&&(t.icons=_.pluck(this.favoriteEmojis(),"code")),i=t.icons,r=0,o=i.length;r<o;r++)e=i[r],(a=this.findEmojiUrlByName(e))&&n.push("<a href='#' title='"+e+"' data-code='"+e+"' class='emoji'><img src='"+a+"' class='twemoji' /></a>");return this.panels[t.name]=n.join("")},changePanel:function(t){var e;return e=$(t.currentTarget).data("group"),$("#emoji-group-"+e).html(this.panels[e])},insertCode:function(t){var e,n;return n=$(t.currentTarget),e=n.data("code"),this.saveFavoritEmoji(e),window._editor.insertString(":"+e+": "),!1},preview:function(t){var e,n,r,o;return o=$(t.currentTarget),n=o.data("code"),e=":"+o.data("code")+": ",r="<img class='emoji' src='"+this.findEmojiUrlByName(n)+"' /> "+e,this.$el.find(".modal-footer").html(r)},show:function(){return 0===$(".emoji-modal").size()&&$("body").append(this.$el),this.$el.modal("show")},hide:function(){return this.$el.modal("hide")},saveFavoritEmoji:function(t){var e,n;return n=this.favoriteEmojis(),e=_.find(n,function(e){return e.code===t}),e||(e={code:t,hits:0},n.push(e)),e.hits+=1,n=_.sortBy(n,function(t){return 0-t.hits}),n=_.first(n,100),localStorage.setItem("favorite-emojis",JSON.stringify(n)),this.renderGroupHTML(EMOJI_GROUPS[0])},favoriteEmojis:function(){if(!window.localStorage)return[];try{return JSON.parse(localStorage.getItem("favorite-emojis")||"[]")}catch(t){return[]}}})}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(){this.checkOrRequirePermission=e(this.checkOrRequirePermission,this),this.setPermission=e(this.setPermission,this),this.enableNotification=!1,this.checkOrRequirePermission()}return t.prototype.hasSupport=function(){return null!=window.webkitNotifications},t.prototype.requestPermission=function(t){return window.webkitNotifications.requestPermission(t)},t.prototype.setPermission=function(){return this.hasPermission()?($("#notification-alert a.close").click(),this.enableNotification=!0):2===window.webkitNotifications.checkPermission()?$("#notification-alert a.close").click():void 0},t.prototype.hasPermission=function(){return 0===window.webkitNotifications.checkPermission()},t.prototype.checkOrRequirePermission=function(){return this.hasSupport()?this.hasPermission()?this.enableNotification=!0:2!==window.webkitNotifications.checkPermission()?this.showTooltip():void 0:console.log("Desktop notifications are not supported for this Browser/OS version yet.")},t.prototype.showTooltip=function(){
return $(".breadcrumb").before("<div class='alert alert-info' id='notification-alert'><a href='#' id='link_enable_notifications' style='color:green'>\u70b9\u51fb\u8fd9\u91cc</a> \u5f00\u542f\u684c\u9762\u63d0\u9192\u901a\u77e5\u529f\u80fd\u3002 <a class='close' data-dismiss='alert' href='#'>\xd7</a></div>"),$("#notification-alert").alert(),$("#notification-alert").on("click","a#link_enable_notifications",function(t){return function(e){return e.preventDefault(),t.requestPermission(t.setPermission)}}(this))},t.prototype.visitUrl=function(t){return window.location.href=t},t.prototype.notify=function(t,e,n,r){var o,i;if(null==r&&(r=null),this.enableNotification)return window.Notification?(o={body:n,onclick:function(){return window.parent.focus(),$.notifier.visitUrl(r)}},i=new window.Notification(e,o)):(i=window.webkitNotifications.createNotification(t,e,n),r&&(i.onclick=function(){return window.parent.focus(),$.notifier.visitUrl(r)})),i.show()},t}(),jQuery.notifier=new t}.call(this),function(){var t=this;(function(){(function(){var t=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(t){var n;return null==t&&(t=null!=(n=this.getConfig("url"))?n:this.INTERNAL.default_mount_path),new e.Consumer(this.createWebSocketURL(t))},getConfig:function(t){var e;return e=document.head.querySelector("meta[name='action-cable-"+t+"']"),null!=e?e.getAttribute("content"):void 0},createWebSocketURL:function(t){var e;return t&&!/^wss?:/i.test(t)?(e=document.createElement("a"),e.href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href):t},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var e,n;if(e=1<=arguments.length?t.call(arguments,0):[],this.debugging)return e.push(Date.now()),(n=this.logger).log.apply(n,["[ActionCable]"].concat(t.call(e)))}}}).call(this)}).call(t);var e=t.ActionCable;(function(){(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.ConnectionMonitor=function(){function n(e){this.connection=e,this.visibilityDidChange=t(this.visibilityDidChange,this),this.reconnectAttempts=0}var r,o,i;return n.pollInterval={min:3,max:30},n.staleThreshold=6,n.prototype.start=function(){if(!this.isRunning())return this.startedAt=o(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),e.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},n.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=o(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),e.log("ConnectionMonitor stopped")},n.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},n.prototype.recordPing=function(){return this.pingedAt=o()},n.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,e.log("ConnectionMonitor recorded connect")},n.prototype.recordDisconnect=function(){return this.disconnectedAt=o(),e.log("ConnectionMonitor recorded disconnect")},n.prototype.startPolling=function(){return this.stopPolling(),this.poll()},n.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},n.prototype.poll=function(){return this.pollTimeout=setTimeout(function(t){return function(){return t.reconnectIfStale(),t.poll()}}(this),this.getPollInterval())},n.prototype.getPollInterval=function(){var t,e,n,o;return o=this.constructor.pollInterval,n=o.min,e=o.max,t=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*r(t,n,e))},n.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return e.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+i(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?e.log("ConnectionMonitor skipping reopening recent disconnect"):(e.log("ConnectionMonitor reopening"),this.connection.reopen())},n.prototype.connectionIsStale=function(){var t;return i(null!=(t=this.pingedAt)?t:this.startedAt)>this.constructor.staleThreshold},n.prototype.disconnectedRecently=function(){return this.disconnectedAt&&i(this.disconnectedAt)<this.constructor.staleThreshold},n.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout(function(t){return function(){if(t.connectionIsStale()||!t.connection.isOpen())return e.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),t.connection.reopen()}}(this),200)},o=function(){return(new Date).getTime()},i=function(t){return(o()-t)/1e3},r=function(t,e,n){return Math.max(e,Math.min(n,t))},n}()}).call(this),function(){var t,n,r,o,i,a=[].slice,s=function(t,e){return function(){return t.apply(e,arguments)}},l=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};o=e.INTERNAL,n=o.message_types,r=o.protocols,i=2<=r.length?a.call(r,0,t=r.length-1):(t=0,[]),r[t++],e.Connection=function(){function t(t){this.consumer=t,this.open=s(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new e.ConnectionMonitor(this),this.disconnected=!0}return t.reopenDelay=500,t.prototype.send=function(t){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(t)),!0)},t.prototype.open=function(){return this.isActive()?(e.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(e.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+r),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new e.WebSocket(this.consumer.url,r),this.installEventHandlers(),this.monitor.start(),!0)},t.prototype.close=function(t){var e,n;if(e=(null!=t?t:{allowReconnect:!0}).allowReconnect,e||this.monitor.stop(),this.isActive())return null!=(n=this.webSocket)?n.close():void 0},t.prototype.reopen=function(){var t;if(e.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(n){return t=n,e.log("Failed to reopen WebSocket",t)}finally{e.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},t.prototype.getProtocol=function(){var t;return null!=(t=this.webSocket)?t.protocol:void 0},t.prototype.isOpen=function(){return this.isState("open")},t.prototype.isActive=function(){return this.isState("open","connecting")},t.prototype.isProtocolSupported=function(){var t;return t=this.getProtocol(),l.call(i,t)>=0},t.prototype.isState=function(){var t,e;return e=1<=arguments.length?a.call(arguments,0):[],t=this.getState(),l.call(e,t)>=0},t.prototype.getState=function(){var t,e;for(e in WebSocket)if(WebSocket[e]===(null!=(t=this.webSocket)?t.readyState:void 0))return e.toLowerCase();return null},t.prototype.installEventHandlers=function(){var t,e;for(t in this.events)e=this.events[t].bind(this),this.webSocket["on"+t]=e},t.prototype.uninstallEventHandlers=function(){var t;for(t in this.events)this.webSocket["on"+t]=function(){}},t.prototype.events={message:function(t){var e,r,o,i;if(this.isProtocolSupported())switch(o=JSON.parse(t.data),e=o.identifier,r=o.message,i=o.type,i){case n.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case n.ping:return this.monitor.recordPing();case n.confirmation:return this.subscriptions.notify(e,"connected");case n.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",r)}},open:function(){if(e.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return e.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(e.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return e.log("WebSocket onerror event")}},t}()}.call(this),function(){var t=[].slice;e.Subscriptions=function(){function n(t){this.consumer=t,this.subscriptions=[]}return n.prototype.create=function(t,n){var r,o,i;return r=t,o="object"==typeof r?r:{channel:r},i=new e.Subscription(this.consumer,o,n),this.add(i)},n.prototype.add=function(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.sendCommand(t,"subscribe"),t},n.prototype.remove=function(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t},n.prototype.reject=function(t){var e,n,r,o,i;for(r=this.findAll(t),o=[],e=0,n=r.length;e<n;e++)i=r[e],this.forget(i),this.notify(i,"rejected"),o.push(i);return o},n.prototype.forget=function(t){var e;return this.subscriptions=function(){var n,r,o,i;for(o=this.subscriptions,i=[],n=0,r=o.length;n<r;n++)(e=o[n])!==t&&i.push(e);return i}.call(this),t},n.prototype.findAll=function(t){var e,n,r,o,i;for(r=this.subscriptions,o=[],e=0,n=r.length;e<n;e++)i=r[e],i.identifier===t&&o.push(i);return o},n.prototype.reload=function(){var t,e,n,r,o;for(n=this.subscriptions,r=[],t=0,e=n.length;t<e;t++)o=n[t],r.push(this.sendCommand(o,"subscribe"));return r},n.prototype.notifyAll=function(){var e,n,r,o,i,a,s;for(n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],i=this.subscriptions,a=[],r=0,o=i.length;r<o;r++)s=i[r],a.push(this.notify.apply(this,[s,n].concat(t.call(e))));return a},n.prototype.notify=function(){var e,n,r,o,i,a,s;for(a=arguments[0],n=arguments[1],e=3<=arguments.length?t.call(arguments,2):[],s="string"==typeof a?this.findAll(a):[a],i=[],r=0,o=s.length;r<o;r++)a=s[r],i.push("function"==typeof a[n]?a[n].apply(a,e):void 0);return i},n.prototype.sendCommand=function(t,e){var n;return n=t.identifier,this.consumer.send({command:e,identifier:n})},n}()}.call(this),function(){e.Subscription=function(){function t(t,n,r){this.consumer=t,null==n&&(n={}),this.identifier=JSON.stringify(n),e(this,r)}var e;return t.prototype.perform=function(t,e){return null==e&&(e={}),e.action=t,this.send(e)},t.prototype.send=function(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})},t.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},e=function(t,e){var n,r;if(null!=e)for(n in e)r=e[n],t[n]=r;return t},t}()}.call(this),function(){e.Consumer=function(){function t(t){this.url=t,this.subscriptions=new e.Subscriptions(this),this.connection=new e.Connection(this)}return t.prototype.send=function(t){return this.connection.send(t)},t.prototype.connect=function(){return this.connection.open()},t.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},t.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},t}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd&&define(e)}.call(this),function(){this.FormStorage={key:function(t){return location.pathname+" "+$(t).prop("id")},init:function(){if(window.localStorage)return $(document).on("input","textarea[name*=body]",function(){var t;return t=$(this),localStorage.setItem(FormStorage.key(t),t.val())}),$(document).on("submit","form",function(){var t;return t=$(this),t.find("textarea[name*=body]").each(function(){return localStorage.removeItem(FormStorage.key(this))})}),$(document).on("click","form a.reset",function(){var t;return t=$(this).closest("form"),t.find("textarea[name*=body]").each(function(){return localStorage.removeItem(FormStorage.key(this))})})},restore:function(){if(window.localStorage)return $("textarea[name*=body]").each(function(){var t,e;if(t=$(this),e=localStorage.getItem(FormStorage.key(t)))return t.val(e)})}}}.call(this),function(){window.Topics={topic_id:null,user_liked_reply_ids:[]},window.TopicView=Backbone.View.extend({el:"body",currentPageImageURLs:[],clearHightTimer:null,events:{"click .navbar .topic-title":"scrollPage","click #replies .reply .btn-reply":"reply","click a.at_floor":"clickAtFloor","click a.follow":"follow","click a.bookmark":"bookmark","click .btn-move-page":"scrollPage","click .notify-updated .update":"updateReplies","click #node-selector .nodes .name a":"nodeSelectorNodeSelected","click .editor-toolbar .reply-to a.close":"unsetReplyTo","tap .topics .topic":"topicRowClick"},initialize:function(t){return this.parentView=t.parentView,this.initComponents(),this.initCableUpdate(),this.initContentImageZoom(),this.initCloseWarning(),this.checkRepliesLikeStatus(),this.itemsUpdated()},itemsUpdated:function(){return this.resetClearReplyHightTimer(),this.loadReplyToFloor()},resetClearReplyHightTimer:function(){return clearTimeout(this.clearHightTimer),this.clearHightTimer=setTimeout(function(){return $(".reply").removeClass("light")},1e4)},reply:function(t){var e,n,r;return e=$(t.target),r=e.data("id"),this.setReplyTo(r),n=$("#new_reply textarea"),n.focus(),!1},setReplyTo:function(t){var e,n,r,o,i;return $('input[name="reply[reply_to_id]"]').val(t),e=$(".reply[data-id="+t+"]"),o=e.attr("id"),r=$(".editor-toolbar .reply-to"),i=e.find("a.user-name:first-child"),n=r.find(".user"),n.attr("href","#"+o),n.text(i.text()),r.show()},unsetReplyTo:function(){var t;return $('input[name="reply[reply_to_id]"]').val(""),t=$(".editor-toolbar .reply-to"),t.hide(),!1},clickAtFloor:function(t){var e;return e=$(t.target).data("floor"),this.gotoFloor(e)},gotoFloor:function(t){var e;return e=$("#reply"+t),this.highlightReply(e),e},highlightReply:function(t){return $("#replies .reply").removeClass("light"),t.addClass("light")},checkRepliesLikeStatus:function(){var t,e,n,r,o,i;for(o=Topics.user_liked_reply_ids,i=[],e=0,r=o.length;e<r;e++)n=o[e],t=$("#replies a.likeable[data-id="+n+"]"),i.push(this.parentView.likeableAsLiked(t));return i},replyCallback:function(t,e){if(""!==e)return $("#main .alert-message").remove(),t?($("abbr.timeago",$("#replies .reply").last()).timeago(),$("abbr.timeago",$("#replies .total")).timeago(),$("#new_reply textarea").val(""),$("#preview").text(""),App.notice(e,"#reply")):App.alert(e,"#reply"),$("#new_reply textarea").focus(),$("#reply-button").button("reset"),this.resetClearReplyHightTimer(),this.unsetReplyTo()},initContentImageZoom:function(){var t,e,n,r,o;for(e=["emoji","twemoji","media-object avatar-16"],r=$(".markdown img"),n=0,o=r.length;n<o;n++)t=r[n],-1===e.indexOf($(t).attr("class"))&&$(t).wrap("<a href='"+$(t).attr("src")+"' class='zoom-image' data-action='zoom'></a>");return App.turbolinks||App.mobile?$("a.zoom-image").attr("target","_blank"):$("a.zoom-image").fluidbox({overlayColor:"#FFF",closeTrigger:[{selector:"window",event:"scroll"}]}),!0},preview:function(t){return $("#preview").text("Loading..."),$.post("/topics/preview",{body:t},function(t){return $("#preview").html(t.body)},"json")},hookPreview:function(t,e){var n,r;return r=this,n=$(document.createElement("div")).attr("id","preview"),n.addClass("markdown form-control"),$(e).after(n),n.hide(),$(".edit a",t).click(function(){return $(".preview",t).removeClass("active"),$(this).parent().addClass("active"),$(n).hide(),$(e).show(),!1}),$(".preview a",t).click(function(){return $(".edit",t).removeClass("active"),$(this).parent().addClass("active"),$(n).show(),$(e).hide(),r.preview($(e).val()),!1})},initCloseWarning:function(){var t,e;return e=$("textarea.closewarning"),0!==e.length&&(t||(t="\u79bb\u5f00\u672c\u9875\u9762\u5c06\u4e22\u5931\u672a\u4fdd\u5b58\u9875\u9762!"),$("input[type=submit]").click(function(){return $(window).unbind("beforeunload")}),e.change(function(){return e.val().length>0?$(window).bind("beforeunload",function(e){return $.browser.msie?e.returnValue=t:t}):$(window).unbind("beforeunload")}))},bookmark:function(t){var e,n,r;return n=$(t.currentTarget),r=n.data("id"),e=$(".bookmark[data-id='"+r+"']"),e.hasClass("active")?($.ajax({url:"/topics/"+r+"/unfavorite",type:"DELETE"}),e.attr("title","\u6536\u85cf").removeClass("active")):($.post("/topics/"+r+"/favorite"),e.attr("title","\u53d6\u6d88\u6536\u85cf").addClass("active")),!1},follow:function(t){var e,n,r;return n=$(t.currentTarget),r=n.data("id"),e=$(".follow[data-id='"+r+"']"),e.hasClass("active")?($.ajax({url:"/topics/"+r+"/unfollow",type:"DELETE"}),e.removeClass("active")):($.ajax({url:"/topics/"+r+"/follow",type:"POST"}),e.addClass("active")),!1},submitTextArea:function(t){return $(t.target).val().trim().length>0&&$("form#new_reply").submit(),!1},scrollPage:function(t){var e,n,r;return r=$(t.currentTarget),e=r.data("type"),n={scrollTop:0},"bottom"===e&&(n.scrollTop=$("body").height()),$("body, html").animate(n,300),!1},initComponents:function(){var t;return $("textarea.topic-editor").unbind("keydown.cr"),$("textarea.topic-editor").bind("keydown.cr","ctrl+return",function(t){return function(e){return t.submitTextArea(e)}}(this)),$("textarea.topic-editor").unbind("keydown.mr"),$("textarea.topic-editor").bind("keydown.mr","Meta+return",function(t){return function(e){return t.submitTextArea(e)}}(this)),t=window.location.hash.match(/^#reply\-(\d+)$/),null!=t&&this.highlightReply($("#reply-"+t[1]).parent()),this.hookPreview($(".editor-toolbar"),$(".topic-editor")),$("body").bind("keydown","m",function(){return $("#markdown_help_tip_modal").modal({keyboard:!0,backdrop:!0,show:!0})}),App.mentionable("textarea",App.scanMentionableLogins($(".reply"))),$("body[data-controller-name='topics'] #topic_title").focus(),window._editor=new Editor},initCableUpdate:function(){if(this,Topics.topic_id)return window.repliesChannel?window.repliesChannel.topicId!==Topics.topic_id?window.repliesChannel.subscribe():void 0:window.repliesChannel=App.cable.subscriptions.create("RepliesChannel",{topicId:null,connected:function(){return this.subscribe()},received:function(t){return function(e){return e.user_id!==App.current_user_id&&("create"===e.action&&(App.windowInActive?t.updateReplies():$(".notify-updated").show()))}}(this),subscribe:function(){return this.topicId=Topics.topic_id,this.perform("follow",{topic_id:Topics.topic_id})}})},updateReplies:function(){var t;return(t=$("#replies .reply:last").data("id"))?($.get("/topics/"+Topics.topic_id+"/replies.js?last_id="+t,function(){return function(){return $(".notify-updated").hide(),$("#new_reply textarea").focus()}}()),!1):(Turbolinks.visit(location.href),!1)},nodeSelectorNodeSelected:function(t){var e,n;return e=$(t.currentTarget),$("#node-selector").modal("hide"),!($('.form input[name="topic[node_id]"]').length>0)||(t.preventDefault(),n=e.data("id"),$('.form input[name="topic[node_id]"]').val(n),$("#node-selector-button").html(e.text()),!1)},topicRowClick:function(t){var e;if(App.turbolinks)return e=$(t.currentTarget).find(".title a"),"A"===t.target.tagName||($(t.target)[0]===e[0]||(t.preventDefault(),$(t.currentTarget).addClass("topic-visited"),Turbolinks.visit(e.attr("href")),!1))},loadReplyToFloor:function(){return _.each($(".reply-to-block"),function(){return function(t){var e,n;return n=$(t).data("reply-to-id"),e=$("#reply-"+n).data("floor"),$(t).find(".reply-floor").text("#"+e)}}())}})}.call(this),function(){window.Editor=Backbone.View.extend({el:".editor-toolbar",events:{"click #editor-upload-image":"browseUpload","click .insert-codes a":"appendCodesFromHint","click .pickup-emoji":"pickupEmoji"},initialize:function(){return this.initComponents(),this.initDropzone()},initDropzone:function(){var t,e,n;return n=this,t=$("textarea.topic-editor"),t.wrap('<div class="topic-editor-dropzone"></div>'),e=$(".topic-editor-dropzone"),e.on("paste",function(){return function(t){return n.handlePaste(t)}}()),e.dropzone({url:"/photos",dictDefaultMessage:"",clickable:!0,paramName:"file",maxFilesize:20,uploadMultiple:!1,headers:{"X-CSRF-Token":$('meta[name="csrf-token"]').attr("content")},previewContainer:!1,processing:function(){return $(".div-dropzone-alert").alert("close"),n.showUploading()},dragover:function(){t.addClass("div-dropzone-focus")},dragleave:function(){t.removeClass("div-dropzone-focus")},drop:function(){t.removeClass("div-dropzone-focus"),t.focus()},success:function(t,e){n.appendImageFromUpload([e.url])},error:function(t,e){App.alert(e)},totaluploadprogress:function(){},sending:function(){},queuecomplete:function(){n.restoreUploaderStatus()}})},uploadFile:function(t,e){var n,r;return r=this,n=new FormData,n.append("file",t,e),$.ajax({url:"/photos",type:"POST",data:n,dataType:"JSON",processData:!1,contentType:!1,beforeSend:function(){return r.showUploading()},success:function(t,e,n){return r.appendImageFromUpload([n.responseJSON.url]),r.restoreUploaderStatus()},error:function(){return App.alert("\u4e0a\u4f20\u5931\u8d25"),r.restoreUploaderStatus()},complete:function(){return r.restoreUploaderStatus()}})},handlePaste:function(t){var e,n,r;if(r=this,n=t.originalEvent,n.clipboardData&&n.clipboardData.items&&(e=r.isImage(n)))return t.preventDefault(),r.uploadFile(e.getAsFile(),"image.png")},isImage:function(t){var e,n;for(e=0;e<t.clipboardData.items.length;){if(n=t.clipboardData.items[e],-1!==n.type.indexOf("image"))return n;e++}return!1},browseUpload:function(){return $(".topic-editor").focus(),$(".topic-editor-dropzone").click(),!1},showUploading:function(){if($("#editor-upload-image").hide(),0===$("#editor-upload-image").parent().find("span.loading").length)return $("#editor-upload-image").before("<span class='loading'><i class='fa fa-circle-o-notch fa-spin'></i></span>")},restoreUploaderStatus:function(){return $("#editor-upload-image").parent().find("span.loading").remove(),$("#editor-upload-image").show()},appendImageFromUpload:function(t){var e,n,r,o;for(o="",e=0,n=t.length;e<n;e++)r=t[e],o="![]("+r+")\n";return this.insertString(o),!1},insertSpaces:function(){return this.insertString("  "),!1},appendCodesFromHint:function(t){var e,n,r,o,i,a,s,l;return o=$(t.currentTarget),r=o.data("lang"),l=$(".topic-editor"),n=l.caret("pos"),i="",l.val().length>0&&(i="\n"),s=i+"```"+r+"\n\n```\n",a=l.val(),e=a.slice(0,n),l.val(e+s+a.slice(n+1,a.count)),l.caret("pos",n+s.length-5),l.focus(),l.trigger("click"),!1},insertString:function(t){var e,n,r;return e=$(".topic-editor"),r=e[0].selectionStart,n=e[0].selectionEnd,e.val(e.val().substring(0,r)+t+e.val().substring(n)),e[0].selectionStart=e[0].selectionEnd=r+t.length,e.focus()},initComponents:function(){return $("textarea.topic-editor").unbind("keydown.tab"),$("textarea.topic-editor").bind("keydown.tab","tab",function(t){return function(e){return t.insertSpaces(e)}}(this)),$("textarea.topic-editor").autogrow()},pickupEmoji:function(){return window._emojiModal||(window._emojiModal=new EmojiModalView),window._emojiModal.show(),!1}})}.call(this),function(){window.TOCView=Backbone.View.extend({el:"body",initialize:function(t){if(this.parentView=t.parentView,this.initHeadersInTopic())return $(".toc-container").show()},initHeadersInTopic:function(){var t,e;return!($(".markdown-toc .toc-container").size()>0)&&(e=$(".markdown-toc"),e.prepend('<div class="toc-container dropdown pull-right">\n  <button data-toggle="dropdown" class="btn btn-default">\n    <i class="fa fa-list"></i> \u76ee\u5f55 <span class="caret"></span>\n  </button>\n  <div class="toc-panel dropdown-menu">\n    <div class="list-container">\n      <ul class="list"></ul>\n    </div>\n  </div>\n</div>'),t=$.map(e.find("h1,h2,h3,h4,h5,h6"),function(t){var e,n;return n=t.tagName.replace("H",""),e=t.id,'<li class="toc-item toc-level-'+n+'"> <a href="#'+encodeURI(e)+'" class="toc-item-link">'+t.textContent+"</a> </li>"}),!!t.length&&($(".toc-container .list").html(t.join("")),!0))}})}.call(this),function(){(function(){(function(){this.Turbolinks={supported:function(){return null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener}(),visit:function(e,n){return t.controller.visit(e,n)},clearCache:function(){return t.controller.clearCache()}}}).call(this)}).call(this);var t=this.Turbolinks;(function(){(function(){var e,n,r=[].slice;t.copyObject=function(t){var e,n,r;n={};for(e in t)r=t[e],n[e]=r;return n},t.closest=function(t,n){return e.call(t,n)},e=function(){var t,e;return t=document.documentElement,null!=(e=t.closest)?e:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&n.call(e,t))return e;e=e.parentNode}}}(),t.defer=function(t){return setTimeout(t,1)},t.throttle=function(t){var e;return e=null,function(){var n;return n=1<=arguments.length?r.call(arguments,0):[],null!=e?e:e=requestAnimationFrame(function(r){return function(){return e=null,t.apply(r,n)}}(this))}},t.dispatch=function(t,e){var n,r,o,i,a;return i=null!=e?e:{},a=i.target,n=i.cancelable,r=i.data,o=document.createEvent("Events"),o.initEvent(t,!0,!0===n),o.data=null!=r?r:{},(null!=a?a:document).dispatchEvent(o),o},t.match=function(t,e){return n.call(t,e)},n=function(){var t,e,n,r;return t=document.documentElement,null!=(e=null!=(n=null!=(r=t.matchesSelector)?r:t.webkitMatchesSelector)?n:t.msMatchesSelector)?e:t.mozMatchesSelector}(),t.uuid=function(){var t,e,n;for(n="",t=e=1;36>=e;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){t.Location=function(){function t(t){var e,n;null==t&&(t=""),n=document.createElement("a"),n.href=t.toString(),this.absoluteURL=n.href,e=n.hash.length,2>e?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,r,o;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.absoluteURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||o(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return r(t,"/")?t:t+"/"},o=function(t,e){return t.slice(0,e.length)===e},r=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.HttpRequest=function(){function n(n,r,o){this.delegate=n,this.requestCanceled=e(this.requestCanceled,this),this.requestTimedOut=e(this.requestTimedOut,this),this.requestFailed=e(this.requestFailed,this),this.requestLoaded=e(this.requestLoaded,this),this.requestProgressed=e(this.requestProgressed,this),this.url=t.Location.wrap(r).requestURL,this.referrer=t.Location.wrap(o).absoluteURL,this.createXHR()}return n.NETWORK_FAILURE=0,n.TIMEOUT_FAILURE=-1,n.timeout=60,n.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},n.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},n.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},n.prototype.requestLoaded=function(){return this.endRequest(function(t){return function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}}(this))},n.prototype.requestFailed=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}}(this))},n.prototype.requestTimedOut=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}}(this))},n.prototype.requestCanceled=function(){return this.endRequest()},n.prototype.notifyApplicationBeforeRequestStart=function(){return t.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},n.prototype.notifyApplicationAfterRequestEnd=function(){return t.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},n.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},n.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},n.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},n.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},n}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ProgressBar=function(){function t(){this.trickle=e(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var n;return n=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+n+"ms ease-out, opacity "+n/2+"ms "+n/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(t){return function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}}(this))):void 0},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*n)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,n)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame(function(t){return function(){return t.progressElement.style.width=10+90*t.value+"%"}}(this))},t.prototype.createStylesheetElement=function(){var t;return t=document.createElement("style"),t.type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return t=document.createElement("div"),t.className="turbolinks-progress-bar",t},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.BrowserAdapter=function(){function n(n){this.controller=n,
this.showProgressBar=e(this.showProgressBar,this),this.progressBar=new t.ProgressBar}var r,o,i,a;return a=t.HttpRequest,r=a.NETWORK_FAILURE,i=a.TIMEOUT_FAILURE,o=500,n.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},n.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},n.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},n.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},n.prototype.visitRequestCompleted=function(t){return t.loadResponse()},n.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case r:case i:return this.reload();default:return t.loadResponse()}},n.prototype.visitRequestFinished=function(){return this.hideProgressBar()},n.prototype.visitCompleted=function(t){return t.followRedirect()},n.prototype.pageInvalidated=function(){return this.reload()},n.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,o)},n.prototype.showProgressBar=function(){return this.progressBar.show()},n.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},n.prototype.reload=function(){return window.location.reload()},n}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.History=function(){function n(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},n.prototype.push=function(e,n){return e=t.Location.wrap(e),this.update("push",e,n)},n.prototype.replace=function(e,n){return e=t.Location.wrap(e),this.update("replace",e,n)},n.prototype.onPopState=function(e){var n,r,o,i;return this.shouldHandlePopState()&&(i=null!=(r=e.state)?r.turbolinks:void 0)?(n=t.Location.wrap(window.location),o=i.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(n,o)):void 0},n.prototype.onPageLoad=function(){return t.defer(function(t){return function(){return t.pageLoaded=!0}}(this))},n.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},n.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},n.prototype.update=function(t,e,n){var r;return r={turbolinks:{restorationIdentifier:n}},history[t+"State"](r,null,e)},n}()}.call(this),function(){t.Snapshot=function(){function e(t){var e,n;n=t.head,e=t.body,this.head=null!=n?n:document.createElement("head"),this.body=null!=e?e:document.createElement("body")}return e.wrap=function(t){return t instanceof this?t:this.fromHTML(t)},e.fromHTML=function(t){var e;return e=document.createElement("html"),e.innerHTML=t,this.fromElement(e)},e.fromElement=function(t){return new this({head:t.querySelector("head"),body:t.querySelector("body")})},e.prototype.clone=function(){return new e({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},e.prototype.getRootLocation=function(){var e,n;return n=null!=(e=this.getSetting("root"))?e:"/",new t.Location(n)},e.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},e.prototype.hasAnchor=function(t){try{return null!=this.body.querySelector("[id='"+t+"']")}catch(t){}},e.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},e.prototype.getSetting=function(t){var e,n;return n=this.head.querySelectorAll("meta[name='turbolinks-"+t+"']"),e=n[n.length-1],null!=e?e.getAttribute("content"):void 0},e}()}.call(this),function(){var e=[].slice;t.Renderer=function(){function t(){}var n;return t.render=function(){var t,n,r,o;return r=arguments[0],n=arguments[1],t=3<=arguments.length?e.call(arguments,2):[],o=function(t,e,n){n.prototype=t.prototype;var r=new n,o=t.apply(r,e);return Object(o)===o?o:r}(this,t,function(){}),o.delegate=r,o.render(n),o},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:(e=document.createElement("script"),e.textContent=t.textContent,n(e,t),e)},n=function(t,e){var n,r,o,i,a,s,l;for(i=e.attributes,s=[],n=0,r=i.length;r>n;n++)a=i[n],o=a.name,l=a.value,s.push(t.setAttribute(o,l));return s},t}()}.call(this),function(){t.HeadDetails=function(){function t(t){var e,n,i,a,s,l,u;for(this.element=t,this.elements={},u=this.element.childNodes,a=0,l=u.length;l>a;a++)i=u[a],i.nodeType===Node.ELEMENT_NODE&&(s=i.outerHTML,n=null!=(e=this.elements)[s]?e[s]:e[s]={type:o(i),tracked:r(i),elements:[]},n.elements.push(i))}var e,n,r,o;return t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t,e;return function(){var n,r;n=this.elements,r=[];for(t in n)(e=n[t].tracked)&&r.push(t);return r}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,r,o,i,a,s;o=this.elements,a=[];for(r in o)i=o[r],s=i.type,n=i.elements,s!==t||e.hasElementWithKey(r)||a.push(n[0]);return a},t.prototype.getProvisionalElements=function(){var t,e,n,r,o,i,a;n=[],r=this.elements;for(e in r)o=r[e],a=o.type,i=o.tracked,t=o.elements,null!=a||i?t.length>1&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},o=function(t){return e(t)?"script":n(t)?"stylesheet":void 0},r=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){return"script"===t.tagName.toLowerCase()},n=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},t}()}.call(this),function(){var e=function(t,e){function r(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty;t.SnapshotRenderer=function(n){function r(e,n){this.currentSnapshot=e,this.newSnapshot=n,this.currentHeadDetails=new t.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new t.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return e(r,n),r.prototype.render=function(t){return this.trackedElementsAreIdentical()?(this.mergeHead(),this.renderView(function(e){return function(){return e.replaceBody(),e.focusFirstAutofocusableElement(),t()}}(this))):this.invalidateView()},r.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},r.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},r.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},r.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,r,o;for(r=this.getNewHeadStylesheetElements(),o=[],e=0,n=r.length;n>e;e++)t=r[e],o.push(document.head.appendChild(t));return o},r.prototype.copyNewHeadScriptElements=function(){var t,e,n,r,o;for(r=this.getNewHeadScriptElements(),o=[],e=0,n=r.length;n>e;e++)t=r[e],o.push(document.head.appendChild(this.createScriptElement(t)));return o},r.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,r,o;for(r=this.getCurrentHeadProvisionalElements(),o=[],e=0,n=r.length;n>e;e++)t=r[e],o.push(document.head.removeChild(t));return o},r.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,r,o;for(r=this.getNewHeadProvisionalElements(),o=[],e=0,n=r.length;n>e;e++)t=r[e],o.push(document.head.appendChild(t));return o},r.prototype.importBodyPermanentElements=function(){var t,e,n,r,o,i;for(r=this.getNewBodyPermanentElements(),i=[],e=0,n=r.length;n>e;e++)o=r[e],(t=this.findCurrentBodyPermanentElement(o))?i.push(o.parentNode.replaceChild(t,o)):i.push(void 0);return i},r.prototype.activateBodyScriptElements=function(){var t,e,n,r,o,i;for(r=this.getNewBodyScriptElements(),i=[],e=0,n=r.length;n>e;e++)o=r[e],t=this.createScriptElement(o),i.push(o.parentNode.replaceChild(t,o));return i},r.prototype.assignNewBody=function(){return document.body=this.newBody},r.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.findFirstAutofocusableElement())?t.focus():void 0},r.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},r.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},r.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},r.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},r.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll("[id][data-turbolinks-permanent]")},r.prototype.findCurrentBodyPermanentElement=function(t){return document.body.querySelector("#"+t.id+"[data-turbolinks-permanent]")},r.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},r.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector("[autofocus]")},r}(t.Renderer)}.call(this),function(){var e=function(t,e){function r(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},n={}.hasOwnProperty;t.ErrorRenderer=function(t){function n(t){this.html=t}return e(n,t),n.prototype.render=function(t){return this.renderView(function(e){return function(){return e.replaceDocumentHTML(),e.activateBodyScriptElements(),t()}}(this))},n.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},n.prototype.activateBodyScriptElements=function(){var t,e,n,r,o,i;for(r=this.getScriptElements(),i=[],e=0,n=r.length;n>e;e++)o=r[e],t=this.createScriptElement(o),i.push(o.parentNode.replaceChild(t,o));return i},n.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},n}(t.Renderer)}.call(this),function(){t.View=function(){function e(t){this.delegate=t,this.element=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getSnapshot=function(){return t.Snapshot.fromElement(this.element)},e.prototype.render=function(t,e){var n,r,o;return o=t.snapshot,n=t.error,r=t.isPreview,this.markAsPreview(r),null!=o?this.renderSnapshot(o,e):this.renderError(n,e)},e.prototype.markAsPreview=function(t){return t?this.element.setAttribute("data-turbolinks-preview",""):this.element.removeAttribute("data-turbolinks-preview")},e.prototype.renderSnapshot=function(e,n){return t.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),t.Snapshot.wrap(e))},e.prototype.renderError=function(e,n){return t.ErrorRenderer.render(this.delegate,n,e)},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ScrollManager=function(){function n(n){this.delegate=n,this.onScroll=e(this.onScroll,this),this.onScroll=t.throttle(this.onScroll)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},n.prototype.scrollToElement=function(t){return t.scrollIntoView()},n.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},n.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},n.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},n}()}.call(this),function(){t.SnapshotCache=function(){function e(t){this.size=t,this.keys=[],this.snapshots={}}var n;return e.prototype.has=function(t){return n(t)in this.snapshots},e.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},e.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},e.prototype.read=function(t){var e;return e=n(t),this.snapshots[e]},e.prototype.write=function(t,e){var r;return r=n(t),this.snapshots[r]=e},e.prototype.touch=function(t){var e,r;return r=n(t),e=this.keys.indexOf(r),e>-1&&this.keys.splice(e,1),this.keys.unshift(r),this.trim()},e.prototype.trim=function(){var t,e,n,r,o;for(r=this.keys.splice(this.size),o=[],t=0,n=r.length;n>t;t++)e=r[t],o.push(delete this.snapshots[e]);return o},n=function(e){return t.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Visit=function(){function n(n,r,o){this.controller=n,this.action=o,this.performScroll=e(this.performScroll,this),this.identifier=t.uuid(),this.location=t.Location.wrap(r),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var r;return n.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},n.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},n.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},n.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},n.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=r(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},n.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new t.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},n.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},n.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},n.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var n;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),"function"==typeof(n=this.adapter).visitRendered&&n.visitRendered(this),t?void 0:this.complete()})):void 0},n.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},n.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},n.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},n.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},n.prototype.requestCompletedWithResponse=function(e,n){return this.response=e,null!=n&&(this.redirectedToLocation=t.Location.wrap(n)),this.adapter.visitRequestCompleted(this)},n.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},n.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},n.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},n.prototype.scrollToRestoredPosition=function(){var t,e;return t=null!=(e=this.restorationData)?e.scrollPosition:void 0,null!=t?(this.controller.scrollToPosition(t),!0):void 0},n.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},n.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},n.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},n.prototype.getTimingMetrics=function(){return t.copyObject(this.timingMetrics)},r=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},n.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},n.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},n.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame(function(e){return function(){return e.frame=null,t.call(e)}}(this))},n.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},n}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Controller=function(){function n(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new t.History(this),this.view=new t.View(this),this.scrollManager=new t.ScrollManager(this),this.restorationData={},this.clearCache()}return n.prototype.start=function(){return t.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},n.prototype.disable=function(){return this.enabled=!1},n.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},n.prototype.clearCache=function(){return this.cache=new t.SnapshotCache(10)},n.prototype.visit=function(e,n){var r,o;return null==n&&(n={}),e=t.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(r=null!=(o=n.action)?o:"advance",this.adapter.visitProposedToLocationWithAction(e,r)):window.location=e:void 0},n.prototype.startVisitToLocationWithAction=function(e,n,r){var o;return t.supported?(o=this.getRestorationDataForIdentifier(r),this.startVisit(e,n,{restorationData:o})):window.location=e},n.prototype.startHistory=function(){return this.location=t.Location.wrap(window.location),this.restorationIdentifier=t.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.stopHistory=function(){return this.history.stop()},n.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,n){return this.restorationIdentifier=n,this.location=t.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},n.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,n){return this.restorationIdentifier=n,this.location=t.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},n.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,n){var r;return this.restorationIdentifier=n,this.enabled?(r=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:r,historyChanged:!0}),this.location=t.Location.wrap(e)):this.adapter.pageInvalidated()},n.prototype.getCachedSnapshotForLocation=function(t){var e;return e=this.cache.get(t),e?e.clone():void 0},n.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},n.prototype.cacheSnapshot=function(){var t;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,t.clone())):void 0},n.prototype.scrollToAnchor=function(t){var e;return(e=document.getElementById(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},n.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},n.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},n.prototype.scrollPositionChanged=function(t){var e;return e=this.getCurrentRestorationData(),e.scrollPosition=t},n.prototype.render=function(t,e){return this.view.render(t,e)},n.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},n.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},n.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},n.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},n.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},n.prototype.clickBubbled=function(t){var e,n,r;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(r=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,r)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(r,{action:e})):void 0},n.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){var n;return n=this.notifyApplicationAfterClickingLinkToLocation(t,e),!n.defaultPrevented},n.prototype.applicationAllowsVisitingLocation=function(t){var e;return e=this.notifyApplicationBeforeVisitingLocation(t),!e.defaultPrevented},n.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,n){return t.dispatch("turbolinks:click",{target:e,data:{url:n.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationBeforeVisitingLocation=function(e){return t.dispatch("turbolinks:before-visit",{data:{url:e.absoluteURL},cancelable:!0})},n.prototype.notifyApplicationAfterVisitingLocation=function(e){return t.dispatch("turbolinks:visit",{data:{url:e.absoluteURL}})},n.prototype.notifyApplicationBeforeCachingSnapshot=function(){return t.dispatch("turbolinks:before-cache")},n.prototype.notifyApplicationBeforeRender=function(e){return t.dispatch("turbolinks:before-render",{data:{newBody:e}})},n.prototype.notifyApplicationAfterRender=function(){return t.dispatch("turbolinks:render")},n.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),t.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:e}})},n.prototype.startVisit=function(t,e,n){var r;return null!=(r=this.currentVisit)&&r.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},n.prototype.createVisit=function(e,n,r){var o,i,a,s,l;return i=null!=r?r:{},s=i.restorationIdentifier,a=i.restorationData,o=i.historyChanged,l=new t.Visit(this,e,n),l.restorationIdentifier=null!=s?s:t.uuid(),l.restorationData=t.copyObject(a),l.historyChanged=o,l.referrer=this.location,l},n.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},n.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},n.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?t.closest(e,"a[href]:not([target]):not([download])"):void 0},n.prototype.getVisitableLocationForLink=function(e){var n;return n=new t.Location(e.getAttribute("href")),this.locationIsVisitable(n)?n:void 0},n.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},n.prototype.nodeIsVisitable=function(e){var n;return!(n=t.closest(e,"[data-turbolinks]"))||"false"!==n.getAttribute("data-turbolinks")},n.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},n.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},n.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},n}()}.call(this),function(){var e,n,r;t.start=function(){return n()?(null==t.controller&&(t.controller=e()),t.controller.start()):void 0},n=function(){return null==window.Turbolinks&&(window.Turbolinks=t),r()},e=function(){var e;return e=new t.Controller,e.adapter=new t.BrowserAdapter(e),e},(r=function(){return window.Turbolinks===t})()&&t.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}.call(this),function(t,e,n,r,o,i,a){t.GoogleAnalyticsObject=o,t[o]=t[o]||function(){(t[o].q=t[o].q||[]).push(arguments)},t[o].l=1*new Date,i=e.createElement(n),a=e.getElementsByTagName(n)[0],i.async=1,i.src=r,a.parentNode.insertBefore(i,a)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){"use strict";t.infinitescroll=function(e,n,r){this.element=t(r),this._create(e,n)||(this.failed=!0)},t.infinitescroll.defaults={loading:{finished:e,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",
img:"data:image/gif;base64,R0lGODlh3AATAPQeAPDy+MnQ6LW/4N3h8MzT6rjC4sTM5r/I5NHX7N7j8c7U6tvg8OLl8uXo9Ojr9b3G5MfP6Ovu9tPZ7PT1+vX2+tbb7vf4+8/W69jd7rC73vn5/O/x+K243ai02////wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQECgD/ACwAAAAA3AATAAAF/6AnjmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcEj0BAScpHLJbDqf0Kh0Sq1ar9isdioItAKGw+MAKYMFhbF63CW438f0mg1R2O8EuXj/aOPtaHx7fn96goR4hmuId4qDdX95c4+RBIGCB4yAjpmQhZN0YGYGXitdZBIVGAsLoq4BBKQDswm1CQRkcG6ytrYKubq8vbfAcMK9v7q7EMO1ycrHvsW6zcTKsczNz8HZw9vG3cjTsMIYqQkCLBwHCgsMDQ4RDAYIqfYSFxDxEfz88/X38Onr16+Bp4ADCco7eC8hQYMAEe57yNCew4IVBU7EGNDiRn8Z831cGLHhSIgdFf9chIeBg7oA7gjaWUWTVQAGE3LqBDCTlc9WOHfm7PkTqNCh54rePDqB6M+lR536hCpUqs2gVZM+xbrTqtGoWqdy1emValeXKzggYBBB5y1acFNZmEvXAoN2cGfJrTv3bl69Ffj2xZt3L1+/fw3XRVw4sGDGcR0fJhxZsF3KtBTThZxZ8mLMgC3fRatCbYMNFCzwLEqLgE4NsDWs/tvqdezZf13Hvk2A9Szdu2X3pg18N+68xXn7rh1c+PLksI/Dhe6cuO3ow3NfV92bdArTqC2Ebd3A8vjf5QWfH6Bg7Nz17c2fj69+fnq+8N2Lty+fuP78/eV2X13neIcCeBRwxorbZrA1ANoCDGrgoG8RTshahQ9iSKEEzUmYIYfNWViUhheCGJyIP5E4oom7WWjgCeBFAJNv1DVV01MAdJhhjdkplWNzO/5oXI846njjVEIqR2OS2B1pE5PVscajkxhMycqLJghQSwT40PgfAl4GqNSXYdZXJn5gSkmmmmJu1aZYb14V51do+pTOCmA40AqVCIhG5IJ9PvYnhIFOxmdqhpaI6GeHCtpooisuutmg+Eg62KOMKuqoTaXgicQWoIYq6qiklmoqFV0UoeqqrLbq6quwxirrrLTWauutJ4QAACH5BAUKABwALAcABADOAAsAAAX/IPd0D2dyRCoUp/k8gpHOKtseR9yiSmGbuBykler9XLAhkbDavXTL5k2oqFqNOxzUZPU5YYZd1XsD72rZpBjbeh52mSNnMSC8lwblKZGwi+0QfIJ8CncnCoCDgoVnBHmKfByGJimPkIwtiAeBkH6ZHJaKmCeVnKKTHIihg5KNq4uoqmEtcRUtEREMBggtEr4QDrjCuRC8h7/BwxENeicSF8DKy82pyNLMOxzWygzFmdvD2L3P0dze4+Xh1Arkyepi7dfFvvTtLQkZBC0T/FX3CRgCMOBHsJ+EHYQY7OinAGECgQsB+Lu3AOK+CewcWjwxQeJBihtNGHSoQOE+iQ3//4XkwBBhRZMcUS6YSXOAwIL8PGqEaSJCiYt9SNoCmnJPAgUVLChdaoFBURN8MAzl2PQphwQLfDFd6lTowglHve6rKpbjhK7/pG5VinZP1qkiz1rl4+tr2LRwWU64cFEihwEtZgbgR1UiHaMVvxpOSwBA37kzGz9e8G+B5MIEKLutOGEsAH2ATQwYfTmuX8aETWdGPZmiZcccNSzeTCA1Sw0bdiitC7LBWgu8jQr8HRzqgpK6gX88QbrB14z/kF+ELpwB8eVQj/JkqdylAudji/+ts3039vEEfK8Vz2dlvxZKG0CmbkKDBvllRd6fCzDvBLKBDSCeffhRJEFebFk1k/Mv9jVIoIJZSeBggwUaNeB+Qk34IE0cXlihcfRxkOAJFFhwGmKlmWDiakZhUJtnLBpnWWcnKaAZcxI0piFGGLBm1mc90kajSCveeBVWKeYEoU2wqeaQi0PetoE+rr14EpVC7oAbAUHqhYExbn2XHHsVqbcVew9tx8+XJKk5AZsqqdlddGpqAKdbAYBn1pcczmSTdWvdmZ17c1b3FZ99vnTdCRFM8OEcAhLwm1NdXnWcBBSMRWmfkWZqVlsmLIiAp/o1gGV2vpS4lalGYsUOqXrddcKCmK61aZ8SjEpUpVFVoCpTj4r661Km7kBHjrDyc1RAIQAAIfkEBQoAGwAsBwAEAM4ACwAABf/gtmUCd4goQQgFKj6PYKi0yrrbc8i4ohQt12EHcal+MNSQiCP8gigdz7iCioaCIvUmZLp8QBzW0EN2vSlCuDtFKaq4RyHzQLEKZNdiQDhRDVooCwkbfm59EAmKi4SGIm+AjIsKjhsqB4mSjT2IOIOUnICeCaB/mZKFNTSRmqVpmJqklSqskq6PfYYCDwYHDC4REQwGCBLGxxIQDsHMwhAIX8bKzcENgSLGF9PU1j3Sy9zX2NrgzQziChLk1BHWxcjf7N046tvN82715czn9Pryz6Ilc4ACj4EBOCZM8KEnAYYADBRKnACAYUMFv1wotIhCEcaJCisqwJFgAUSQGyX/kCSVUUTIdKMwJlyo0oXHlhskwrTJciZHEXsgaqS4s6PJiCAr1uzYU8kBBSgnWFqpoMJMUjGtDmUwkmfVmVypakWhEKvXsS4nhLW5wNjVroJIoc05wSzTr0PtiigpYe4EC2vj4iWrFu5euWIMRBhacaVJhYQBEFjA9jHjyQ0xEABwGceGAZYjY0YBOrRLCxUp29QM+bRkx5s7ZyYgVbTqwwti2ybJ+vLtDYpycyZbYOlptxdx0kV+V7lC5iJAyyRrwYKxAdiz82ng0/jnAdMJFz0cPi104Ec1Vj9/M6F173vKL/feXv156dw11tlqeMMnv4V5Ap53GmjQQH97nFfg+IFiucfgRX5Z8KAgbUlQ4IULIlghhhdOSB6AgX0IVn8eReghen3NRIBsRgnH4l4LuEidZBjwRpt6NM5WGwoW0KSjCwX6yJSMab2GwwAPDXfaBCtWpluRTQqC5JM5oUZAjUNS+VeOLWpJEQ7VYQANW0INJSZVDFSnZphjSikfmzE5N4EEbQI1QJmnWXCmHulRp2edwDXF43txukenJwvI9xyg9Q26Z3MzGUcBYFEChZh6DVTq34AU8Iflh51Sd+CnKFYQ6mmZkhqfBKfSxZWqA9DZanWjxmhrWwi0qtCrt/43K6WqVjjpmhIqgEGvculaGKklKstAACEAACH5BAUKABwALAcABADOAAsAAAX/ICdyQmaMYyAUqPgIBiHPxNpy79kqRXH8wAPsRmDdXpAWgWdEIYm2llCHqjVHU+jjJkwqBTecwItShMXkEfNWSh8e1NGAcLgpDGlRgk7EJ/6Ae3VKfoF/fDuFhohVeDeCfXkcCQqDVQcQhn+VNDOYmpSWaoqBlUSfmowjEA+iEAEGDRGztAwGCDcXEA60tXEiCrq8vREMEBLIyRLCxMWSHMzExnbRvQ2Sy7vN0zvVtNfU2tLY3rPgLdnDvca4VQS/Cpk3ABwSLQkYAQwT/P309vcI7OvXr94jBQMJ/nskkGA/BQBRLNDncAIAiDcG6LsxAWOLiQzmeURBKWSLCQbv/1F0eDGinJUKR47YY1IEgQASKk7Yc7ACRwZm7mHweRJoz59BJUogisKCUaFMR0x4SlJBVBFTk8pZivTR0K73rN5wqlXEAq5Fy3IYgHbEzQ0nLy4QSoCjXLoom96VOJEeCosK5n4kkFfqXjl94wa+l1gvAcGICbewAOAxY8l/Ky/QhAGz4cUkGxu2HNozhwMGBnCUqUdBg9UuW9eUynqSwLHIBujePef1ZGQZXcM+OFuEBeBhi3OYgLyqcuaxbT9vLkf4SeqyWxSQpKGB2gQpm1KdWbu72rPRzR9Ne2Nu9Kzr/1Jqj0yD/fvqP4aXOt5sW/5qsXXVcv1Nsp8IBUAmgswGF3llGgeU1YVXXKTN1FlhWFXW3gIE+DVChApysACHHo7Q4A35lLichh+ROBmLKAzgYmYEYDAhCgxKGOOMn4WR4kkDaoBBOxJtdNKQxFmg5JIWIBnQc07GaORfUY4AEkdV6jHlCEISSZ5yTXpp1pbGZbkWmcuZmQCaE6iJ0FhjMaDjTMsgZaNEHFRAQVp3bqXnZED1qYcECOz5V6BhSWCoVJQIKuKQi2KFKEkEFAqoAo7uYSmO3jk61wUUMKmknJ4SGimBmAa0qVQBhAAAIfkEBQoAGwAsBwAEAM4ACwAABf/gJm5FmRlEqhJC+bywgK5pO4rHI0D3pii22+Mg6/0Ej96weCMAk7cDkXf7lZTTnrMl7eaYoy10JN0ZFdco0XAuvKI6qkgVFJXYNwjkIBcNBgR8TQoGfRsJCRuCYYQQiI+ICosiCoGOkIiKfSl8mJkHZ4U9kZMbKaI3pKGXmJKrngmug4WwkhA0lrCBWgYFCCMQFwoQDRHGxwwGCBLMzRLEx8iGzMMO0cYNeCMKzBDW19lnF9DXDIY/48Xg093f0Q3s1dcR8OLe8+Y91OTv5wrj7o7B+7VNQqABIoRVCMBggsOHE36kSoCBIcSH3EbFangxogJYFi8CkJhqQciLJEf/LDDJEeJIBT0GsOwYUYJGBS0fjpQAMidGmyVP6sx4Y6VQhzs9VUwkwqaCCh0tmKoFtSMDmBOf9phg4SrVrROuasRQAaxXpVUhdsU6IsECZlvX3kwLUWzRt0BHOLTbNlbZG3vZinArge5Dvn7wbqtQkSYAAgtKmnSsYKVKo2AfW048uaPmG386i4Q8EQMBAIAnfB7xBxBqvapJ9zX9WgRS2YMpnvYMGdPK3aMjt/3dUcNI4blpj7iwkMFWDXDvSmgAlijrt9RTR78+PS6z1uAJZIe93Q8g5zcsWCi/4Y+C8bah5zUv3vv89uft30QP23punGCx5954oBBwnwYaNCDY/wYrsYeggnM9B2Fpf8GG2CEUVWhbWAtGouEGDy7Y4IEJVrbSiXghqGKIo7z1IVcXIkKWWR361QOLWWnIhwERpLaaCCee5iMBGJQmJGyPFTnbkfHVZGRtIGrg5HALEJAZbu39BuUEUmq1JJQIPtZilY5hGeSWsSk52G9XqsmgljdIcABytq13HyIM6RcUA+r1qZ4EBF3WHWB29tBgAzRhEGhig8KmqKFv8SeCeo+mgsF7YFXa1qWSbkDpom/mqR1PmHCqJ3fwNRVXjC7S6CZhFVCQ2lWvZiirhQq42SACt25IK2hv8TprriUV1usGgeka7LFcNmCldMLi6qZMgFLgpw16Cipb7bC1knXsBiEAACH5BAUKABsALAcABADOAAsAAAX/4FZsJPkUmUGsLCEUTywXglFuSg7fW1xAvNWLF6sFFcPb42C8EZCj24EJdCp2yoegWsolS0Uu6fmamg8n8YYcLU2bXSiRaXMGvqV6/KAeJAh8VgZqCX+BexCFioWAYgqNi4qAR4ORhRuHY408jAeUhAmYYiuVlpiflqGZa5CWkzc5fKmbbhIpsAoQDRG8vQwQCBLCwxK6vb5qwhfGxxENahvCEA7NzskSy7vNzzzK09W/PNHF1NvX2dXcN8K55cfh69Luveol3vO8zwi4Yhj+AQwmCBw4IYclDAAJDlQggVOChAoLKkgFkSCAHDwWLKhIEOONARsDKryogFPIiAUb/95gJNIiw4wnI778GFPhzBKFOAq8qLJEhQpiNArjMcHCmlTCUDIouTKBhApELSxFWiGiVKY4E2CAekPgUphDu0742nRrVLJZnyrFSqKQ2ohoSYAMW6IoDpNJ4bLdILTnAj8KUF7UeENjAKuDyxIgOuGiOI0EBBMgLNew5AUrDTMGsFixwBIaNCQuAXJB57qNJ2OWm2Aj4skwCQCIyNkhhtMkdsIuodE0AN4LJDRgfLPtn5YDLdBlraAByuUbBgxQwICxMOnYpVOPej074OFdlfc0TqC62OIbcppHjV4o+LrieWhfT8JC/I/T6W8oCl29vQ0XjLdBaA3s1RcPBO7lFvpX8BVoG4O5jTXRQRDuJ6FDTzEWF1/BCZhgbyAKE9qICYLloQYOFtahVRsWYlZ4KQJHlwHS/IYaZ6sZd9tmu5HQm2xi1UaTbzxYwJk/wBF5g5EEYOBZeEfGZmNdFyFZmZIR4jikbLThlh5kUUVJGmRT7sekkziRWUIACABk3T4qCsedgO4xhgGcY7q5pHJ4klBBTQRJ0CeHcoYHHUh6wgfdn9uJdSdMiebGJ0zUPTcoS286FCkrZxnYoYYKWLkBowhQoBeaOlZAgVhLidrXqg2GiqpQpZ4apwSwRtjqrB3muoF9BboaXKmshlqWqsWiGt2wphJkQbAU5hoCACH5BAUKABsALAcABADOAAsAAAX/oGFw2WZuT5oZROsSQnGaKjRvilI893MItlNOJ5v5gDcFrHhKIWcEYu/xFEqNv6B1N62aclysF7fsZYe5aOx2yL5aAUGSaT1oTYMBwQ5VGCAJgYIJCnx1gIOBhXdwiIl7d0p2iYGQUAQBjoOFSQR/lIQHnZ+Ue6OagqYzSqSJi5eTpTxGcjcSChANEbu8DBAIEsHBChe5vL13G7fFuscRDcnKuM3H0La3EA7Oz8kKEsXazr7Cw9/Gztar5uHHvte47MjktznZ2w0G1+D3BgirAqJmJMAQgMGEgwgn5Ei0gKDBhBMALGRYEOJBb5QcWlQo4cbAihZz3GgIMqFEBSM1/4ZEOWPAgpIIJXYU+PIhRG8ja1qU6VHlzZknJNQ6UanCjQkWCIGSUGEjAwVLjc44+DTqUQtPPS5gejUrTa5TJ3g9sWCr1BNUWZI161StiQUDmLYdGfesibQ3XMq1OPYthrwuA2yU2LBs2cBHIypYQPPlYAKFD5cVvNPtW8eVGbdcQADATsiNO4cFAPkvHpedPzc8kUcPgNGgZ5RNDZG05reoE9s2vSEP79MEGiQGy1qP8LA4ZcdtsJE48ONoLTBtTV0B9LsTnPceoIDBDQvS7W7vfjVY3q3eZ4A339J4eaAmKqU/sV58HvJh2RcnIBsDUw0ABqhBA5aV5V9XUFGiHfVeAiWwoFgJJrIXRH1tEMiDFV4oHoAEGlaWhgIGSGBO2nFomYY3mKjVglidaNYJGJDkWW2xxTfbjCbVaOGNqoX2GloR8ZeTaECS9pthRGJH2g0b3Agbk6hNANtteHD2GJUucfajCQBy5OOTQ25ZgUPvaVVQmbKh9510/qQpwXx3SQdfk8tZJOd5b6JJFplT3ZnmmX3qd5l1eg5q00HrtUkUn0AKaiGjClSAgKLYZcgWXwocGRcCFGCKwSB6ceqphwmYRUFYT/1WKlOdUpipmxW0mlCqHjYkAaeoZlqrqZ4qd+upQKaapn/AmgAegZ8KUtYtFAQQAgAh+QQFCgAbACwHAAQAzgALAAAF/+C2PUcmiCiZGUTrEkKBis8jQEquKwU5HyXIbEPgyX7BYa5wTNmEMwWsSXsqFbEh8DYs9mrgGjdK6GkPY5GOeU6ryz7UFopSQEzygOGhJBjoIgMDBAcBM0V/CYqLCQqFOwobiYyKjn2TlI6GKC2YjJZknouaZAcQlJUHl6eooJwKooobqoewrJSEmyKdt59NhRKFMxLEEA4RyMkMEAjDEhfGycqAG8TQx9IRDRDE3d3R2ctD1RLg0ttKEnbY5wZD3+zJ6M7X2RHi9Oby7u/r9g38UFjTh2xZJBEBMDAboogAgwkQI07IMUORwocSJwCgWDFBAIwZOaJIsOBjRogKJP8wTODw5ESVHVtm3AhzpEeQElOuNDlTZ0ycEUWKWFASqEahGwYUPbnxoAgEdlYSqDBkgoUNClAlIHbSAoOsqCRQnQHxq1axVb06FWFxLIqyaze0Tft1JVqyE+pWXMD1pF6bYl3+HTqAWNW8cRUFzmih0ZAAB2oGKukSAAGGRHWJgLiR6AylBLpuHKKUMlMCngMpDSAa9QIUggZVVvDaJobLeC3XZpvgNgCmtPcuwP3WgmXSq4do0DC6o2/guzcseECtUoO0hmcsGKDgOt7ssBd07wqesAIGZC1YIBa7PQHvb1+SFo+++HrJSQfB33xfav3i5eX3Hnb4CTJgegEq8tH/YQEOcIJzbm2G2EoYRLgBXFpVmFYDcREV4HIcnmUhiGBRouEMJGJGzHIspqgdXxK0yCKHRNXoIX4uorCdTyjkyNtdPWrA4Up82EbAbzMRxxZRR54WXVLDIRmRcag5d2R6ugl3ZXzNhTecchpMhIGVAKAYpgJjjsSklBEd99maZoo535ZvdamjBEpusJyctg3h4X8XqodBMx0tiNeg/oGJaKGABpogS40KSqiaEgBqlQWLUtqoVQnytekEjzo0hHqhRorppOZt2p923M2AAV+oBtpAnnPNoB6HaU6mAAIU+IXmi3j2mtFXuUoHKwXpzVrsjcgGOauKEjQrwq157hitGq2NoWmjh7z6Wmxb0m5w66+2VRAuXN/yFUAIACH5BAUKABsALAcABADOAAsAAAX/4CZuRiaM45MZqBgIRbs9AqTcuFLE7VHLOh7KB5ERdjJaEaU4ClO/lgKWjKKcMiJQ8KgumcieVdQMD8cbBeuAkkC6LYLhOxoQ2PF5Ys9PKPBMen17f0CCg4VSh32JV4t8jSNqEIOEgJKPlkYBlJWRInKdiJdkmQlvKAsLBxdABA4RsbIMBggtEhcQsLKxDBC2TAS6vLENdJLDxMZAubu8vjIbzcQRtMzJz79S08oQEt/guNiyy7fcvMbh4OezdAvGrakLAQwyABsELQkY9BP+//ckyPDD4J9BfAMh1GsBoImMeQUN+lMgUJ9CiRMa5msxoB9Gh/o8GmxYMZXIgxtR/yQ46S/gQAURR0pDwYDfywoyLPip5AdnCwsMFPBU4BPFhKBDi444quCmDKZOfwZ9KEGpCKgcN1jdALSpPqIYsabS+nSqvqplvYqQYAeDPgwKwjaMtiDl0oaqUAyo+3TuWwUAMPpVCfee0cEjVBGQq2ABx7oTWmQk4FglZMGN9fGVDMCuiH2AOVOu/PmyxM630gwM0CCn6q8LjVJ8GXvpa5Uwn95OTC/nNxkda1/dLSK475IjCD6dHbK1ZOa4hXP9DXs5chJ00UpVm5xo2qRpoxptwF2E4/IbJpB/SDz9+q9b1aNfQH08+p4a8uvX8B53fLP+ycAfemjsRUBgp1H20K+BghHgVgt1GXZXZpZ5lt4ECjxYR4ScUWiShEtZqBiIInRGWnERNnjiBglw+JyGnxUmGowsyiiZg189lNtPGACjV2+S9UjbU0JWF6SPvEk3QZEqsZYTk3UAaRSUnznJI5LmESCdBVSyaOWUWLK4I5gDUYVeV1T9l+FZClCAUVA09uSmRHBCKAECFEhW51ht6rnmWBXkaR+NjuHpJ40D3DmnQXt2F+ihZxlqVKOfQRACACH5BAUKABwALAcABADOAAsAAAX/ICdyUCkUo/g8mUG8MCGkKgspeC6j6XEIEBpBUeCNfECaglBcOVfJFK7YQwZHQ6JRZBUqTrSuVEuD3nI45pYjFuWKvjjSkCoRaBUMWxkwBGgJCXspQ36Bh4EEB0oKhoiBgyNLjo8Ki4QElIiWfJqHnISNEI+Ql5J9o6SgkqKkgqYihamPkW6oNBgSfiMMDQkGCBLCwxIQDhHIyQwQCGMKxsnKVyPCF9DREQ3MxMPX0cu4wt7J2uHWx9jlKd3o39MiuefYEcvNkuLt5O8c1ePI2tyELXGQwoGDAQf+iEC2xByDCRAjTlAgIUWCBRgCPJQ4AQBFXAs0coT40WLIjRxL/47AcHLkxIomRXL0CHPERZkpa4q4iVKiyp0tR/7kwHMkTUBBJR5dOCEBAVcKKtCAyOHpowXCpk7goABqBZdcvWploACpBKkpIJI1q5OD2rIWE0R1uTZu1LFwbWL9OlKuWb4c6+o9i3dEgw0RCGDUG9KlRw56gDY2qmCByZBaASi+TACA0TucAaTteCcy0ZuOK3N2vJlx58+LRQyY3Xm0ZsgjZg+oPQLi7dUcNXi0LOJw1pgNtB7XG6CBy+U75SYfPTSQAgZTNUDnQHt67wnbZyvwLgKiMN3oCZB3C76tdewpLFgIP2C88rbi4Y+QT3+8S5USMICZXWj1pkEDeUU3lOYGB3alSoEiMIjgX4WlgNF2EibIwQIXauWXSRg2SAOHIU5IIIMoZkhhWiJaiFVbKo6AQEgQXrTAazO1JhkBrBG3Y2Y6EsUhaGn95hprSN0oWpFE7rhkeaQBchGOEWnwEmc0uKWZj0LeuNV3W4Y2lZHFlQCSRjTIl8uZ+kG5HU/3sRlnTG2ytyadytnD3HrmuRcSn+0h1dycexIK1KCjYaCnjCCVqOFFJTZ5GkUUjESWaUIKU2lgCmAKKQIUjHapXRKE+t2og1VgankNYnohqKJ2CmKplso6GKz7WYCgqxeuyoF8u9IQAgA7",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:e},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,isBeyondMaxPage:!1,currPage:1},debug:!1,behavior:e,binder:t(window),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:e,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:e,path:e,prefill:!1,maxPage:e},t.infinitescroll.prototype={_binding:function(t){var n=this,r=n.options;return r.v="2.0b2.120520",r.behavior&&this["_binding_"+r.behavior]!==e?void this["_binding_"+r.behavior].call(this):"bind"!==t&&"unbind"!==t?(this._debug("Binding value  "+t+" not valid"),!1):("unbind"===t?this.options.binder.unbind("smartscroll.infscr."+n.options.infid):this.options.binder[t]("smartscroll.infscr."+n.options.infid,function(){n.scroll()}),void this._debug("Binding",t))},_create:function(n,r){var o=t.extend(!0,{},t.infinitescroll.defaults,n);this.options=o;var i=t(window);if(!this._validate(n))return!1;var a=t(o.nextSelector).attr("href");if(!a)return this._debug("Navigation selector not found"),!1;o.path=o.path||this._determinepath(a),o.contentSelector=o.contentSelector||this.element,o.loading.selector=o.loading.selector||o.contentSelector,o.loading.msg=o.loading.msg||t('<div id="infscr-loading"><img alt="Loading..." src="'+o.loading.img+'" /><div>'+o.loading.msgText+"</div></div>"),(new Image).src=o.loading.img,o.pixelsFromNavToBottom===e&&(o.pixelsFromNavToBottom=t(document).height()-t(o.navSelector).offset().top,this._debug("pixelsFromNavToBottom: "+o.pixelsFromNavToBottom));var s=this;return o.loading.start=o.loading.start||function(){t(o.navSelector).hide(),o.loading.msg.appendTo(o.loading.selector).show(o.loading.speed,t.proxy(function(){this.beginAjax(o)},s))},o.loading.finished=o.loading.finished||function(){o.state.isBeyondMaxPage||o.loading.msg.fadeOut(o.loading.speed)},o.callback=function(n,a,s){o.behavior&&n["_callback_"+o.behavior]!==e&&n["_callback_"+o.behavior].call(t(o.contentSelector)[0],a,s),r&&r.call(t(o.contentSelector)[0],a,o,s),o.prefill&&i.bind("resize.infinite-scroll",n._prefill)},n.debug&&(!Function.prototype.bind||"object"!=typeof console&&"function"!=typeof console||"object"!=typeof console.log||["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(t){console[t]=this.call(console[t],console)},Function.prototype.bind)),this._setup(),o.prefill&&this._prefill(),!0},_prefill:function(){function e(){return t(n.options.contentSelector).height()<=r.height()}var n=this,r=t(window);this._prefill=function(){e()&&n.scroll(),r.bind("resize.infinite-scroll",function(){e()&&(r.unbind("resize.infinite-scroll"),n.scroll())})},this._prefill()},_debug:function(){!0===this.options.debug&&("undefined"!=typeof console&&"function"==typeof console.log?1===Array.prototype.slice.call(arguments).length&&"string"==typeof Array.prototype.slice.call(arguments)[0]?console.log(Array.prototype.slice.call(arguments).toString()):console.log(Array.prototype.slice.call(arguments)):Function.prototype.bind||"undefined"==typeof console||"object"!=typeof console.log||Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments)))},_determinepath:function(t){var n=this.options;if(n.behavior&&this["_determinepath_"+n.behavior]!==e)return this["_determinepath_"+n.behavior].call(this,t);if(n.pathParse)return this._debug("pathParse manual"),n.pathParse(t,this.options.state.currPage+1);if(t.match(/^(.*?)\b2\b(.*?$)/))t=t.match(/^(.*?)\b2\b(.*?$)/).slice(1);else if(t.match(/^(.*?)2(.*?$)/)){if(t.match(/^(.*?page=)2(\/.*|$)/))return t=t.match(/^(.*?page=)2(\/.*|$)/).slice(1);t=t.match(/^(.*?)2(.*?$)/).slice(1)}else{if(t.match(/^(.*?page=)1(\/.*|$)/))return t=t.match(/^(.*?page=)1(\/.*|$)/).slice(1);this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com."),n.state.isInvalidPage=!0}return this._debug("determinePath",t),t},_error:function(t){var n=this.options;if(n.behavior&&this["_error_"+n.behavior]!==e)return void this["_error_"+n.behavior].call(this,t);"destroy"!==t&&"end"!==t&&(t="unknown"),this._debug("Error",t),("end"===t||n.state.isBeyondMaxPage)&&this._showdonemsg(),n.state.isDone=!0,n.state.currPage=1,n.state.isPaused=!1,n.state.isBeyondMaxPage=!1,this._binding("unbind")},_loadcallback:function(n,r,o){var i,a=this.options,s=this.options.callback,l=a.state.isDone?"done":a.appendCallback?"append":"no-append";if(a.behavior&&this["_loadcallback_"+a.behavior]!==e)return void this["_loadcallback_"+a.behavior].call(this,n,r);switch(l){case"done":return this._showdonemsg(),!1;case"no-append":if("html"===a.dataType&&(r="<div>"+r+"</div>",r=t(r).find(a.itemSelector)),0===r.length)return this._error("end");break;case"append":var u=n.children();if(0===u.length)return this._error("end");for(i=document.createDocumentFragment();n[0].firstChild;)i.appendChild(n[0].firstChild);this._debug("contentSelector",t(a.contentSelector)[0]),t(a.contentSelector)[0].appendChild(i),r=u.get()}if(a.loading.finished.call(t(a.contentSelector)[0],a),a.animate){var c=t(window).scrollTop()+t(a.loading.msg).height()+a.extraScrollPx+"px";t("html,body").animate({scrollTop:c},800,function(){a.state.isDuringAjax=!1})}a.animate||(a.state.isDuringAjax=!1),s(this,r,o),a.prefill&&this._prefill()},_nearbottom:function(){var n=this.options,r=0+t(document).height()-n.binder.scrollTop()-t(window).height();return n.behavior&&this["_nearbottom_"+n.behavior]!==e?this["_nearbottom_"+n.behavior].call(this):(this._debug("math:",r,n.pixelsFromNavToBottom),r-n.bufferPx<n.pixelsFromNavToBottom)},_pausing:function(t){var n=this.options;if(n.behavior&&this["_pausing_"+n.behavior]!==e)return void this["_pausing_"+n.behavior].call(this,t);switch("pause"!==t&&"resume"!==t&&null!==t&&this._debug("Invalid argument. Toggling pause value instead"),t=!t||"pause"!==t&&"resume"!==t?"toggle":t){case"pause":n.state.isPaused=!0;break;case"resume":n.state.isPaused=!1;break;case"toggle":n.state.isPaused=!n.state.isPaused}return this._debug("Paused",n.state.isPaused),!1},_setup:function(){var t=this.options;return t.behavior&&this["_setup_"+t.behavior]!==e?void this["_setup_"+t.behavior].call(this):(this._binding("bind"),!1)},_showdonemsg:function(){var n=this.options;if(n.behavior&&this["_showdonemsg_"+n.behavior]!==e)return void this["_showdonemsg_"+n.behavior].call(this);n.loading.msg.find("img").hide().parent().find("div").html(n.loading.finishedMsg).animate({opacity:1},2e3,function(){t(this).parent().fadeOut(n.loading.speed)}),n.errorCallback.call(t(n.contentSelector)[0],"done")},_validate:function(e){for(var n in e)if(n.indexOf&&n.indexOf("Selector")>-1&&0===t(e[n]).length)return this._debug("Your "+n+" found no elements."),!1;return!0},bind:function(){this._binding("bind")},destroy:function(){return this.options.state.isDestroyed=!0,this.options.loading.finished(),this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},beginAjax:function(n){var r,o,i,a,s=this,l=n.path;if(n.state.currPage++,n.maxPage!==e&&n.state.currPage>n.maxPage)return n.state.isBeyondMaxPage=!0,void this.destroy();switch(r=t(t(n.contentSelector).is("table, tbody")?"<tbody/>":"<div/>"),o="function"==typeof l?l(n.state.currPage):l.join(n.state.currPage),s._debug("heading into ajax",o),i="html"===n.dataType||"json"===n.dataType?n.dataType:"html+callback",n.appendCallback&&"html"===n.dataType&&(i+="+callback"),i){case"html+callback":s._debug("Using HTML via .load() method"),r.load(o+" "+n.itemSelector,e,function(t){s._loadcallback(r,t,o)});break;case"html":s._debug("Using "+i.toUpperCase()+" via $.ajax() method"),t.ajax({url:o,dataType:n.dataType,complete:function(t,e){a="undefined"!=typeof t.isResolved?t.isResolved():"success"===e||"notmodified"===e,a?s._loadcallback(r,t.responseText,o):s._error("end")}});break;case"json":s._debug("Using "+i.toUpperCase()+" via $.ajax() method"),t.ajax({dataType:"json",type:"GET",url:o,success:function(t,i,l){if(a="undefined"!=typeof l.isResolved?l.isResolved():"success"===i||"notmodified"===i,n.appendCallback)if(n.template!==e){var u=n.template(t);r.append(u),a?s._loadcallback(r,u):s._error("end")}else s._debug("template must be defined."),s._error("end");else a?s._loadcallback(r,t,o):s._error("end")},error:function(){s._debug("JSON ajax request failed."),s._error("end")}})}},retrieve:function(n){n=n||null;var r=this,o=r.options;return o.behavior&&this["retrieve_"+o.behavior]!==e?void this["retrieve_"+o.behavior].call(this,n):o.state.isDestroyed?(this._debug("Instance is destroyed"),!1):(o.state.isDuringAjax=!0,void o.loading.start.call(t(o.contentSelector)[0],o))},scroll:function(){var t=this.options,n=t.state;if(t.behavior&&this["scroll_"+t.behavior]!==e)return void this["scroll_"+t.behavior].call(this);n.isDuringAjax||n.isInvalidPage||n.isDone||n.isDestroyed||n.isPaused||this._nearbottom()&&this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))}},t.fn.infinitescroll=function(e,n){switch(typeof e){case"string":var r=Array.prototype.slice.call(arguments,1);this.each(function(){var n=t.data(this,"infinitescroll");return!!n&&!(!t.isFunction(n[e])||"_"===e.charAt(0))&&void n[e].apply(n,r)});break;case"object":this.each(function(){var r=t.data(this,"infinitescroll");r?r.update(e):(r=new t.infinitescroll(e,n,this),r.failed||t.data(this,"infinitescroll",r))})}return this};var n,r=t.event;r.special.smartscroll={setup:function(){t(this).bind("scroll",r.special.smartscroll.handler)},teardown:function(){t(this).unbind("scroll",r.special.smartscroll.handler)},handler:function(e,r){var o=this,i=arguments;e.type="smartscroll",n&&clearTimeout(n),n=setTimeout(function(){t(o).trigger("smartscroll",i)},"execAsap"===r?0:100)}},t.fn.smartscroll=function(t){return t?this.bind("smartscroll",t):this.trigger("smartscroll",["execAsap"])}}),function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function r(t){return null===t?NaN:+t}function o(t){return!isNaN(t)}function i(t){return{left:function(e,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=e.length);o>r;){var i=r+o>>>1;t(e[i],n)<0?r=i+1:o=i}return r},right:function(e,n,r,o){for(arguments.length<3&&(r=0),arguments.length<4&&(o=e.length);o>r;){var i=r+o>>>1;t(e[i],n)>0?o=i:r=i+1}return r}}}function a(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function l(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function u(){this._=Object.create(null)}function c(t){return(t+="")===_a||t[0]===ba?ba+t:t}function f(t){return(t+="")[0]===ba?t.slice(1):t}function d(t){return c(t)in this._}function h(t){return(t=c(t))in this._&&delete this._[t]}function p(){var t=[];for(var e in this._)t.push(f(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(t){return t}function _(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function b(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=wa.length;r>n;++n){var o=wa[n]+e;if(o in t)return o}}function w(){}function k(){}function x(t){function e(){for(var e,r=n,o=-1,i=r.length;++o<i;)(e=r[o].on)&&e.apply(this,arguments);return t}var n=[],r=new u;return e.on=function(e,o){var i,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,i=n.indexOf(a)).concat(n.slice(i+1)),r.remove(e)),o&&n.push(r.set(e,{on:o})),t)},e}function C(){la.event.preventDefault()}function T(){for(var t,e=la.event;t=e.sourceEvent;)e=t;return e}function E(t){for(var e=new k,n=0,r=arguments.length;++n<r;)e[arguments[n]]=x(e);return e.of=function(n,r){return function(o){try{var i=o.sourceEvent=la.event;o.target=t,la.event=o,e[o.type].apply(n,r)}finally{la.event=i}}},e}function S(t){return xa(t,Sa),t}function A(t){return"function"==typeof t?t:function(){return Ca(t,this)}}function D(t){return"function"==typeof t?t:function(){return Ta(t,this)}}function M(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function o(){this.setAttribute(t,e)}function i(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=la.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?i:o}function N(t){return t.trim().replace(/\s+/g," ")}function L(t){return new RegExp("(?:^|\\s+)"+la.requote(t)+"(?:\\s+|$)","g")}function I(t){return(t+"").trim().split(/^|\s+/)}function R(t,e){function n(){for(var n=-1;++n<o;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<o;)t[n](this,r)}t=I(t).map(P);var o=t.length;return"function"==typeof e?r:n}function P(t){var e=L(t);return function(n,r){if(o=n.classList)return r?o.add(t):o.remove(t);var o=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(o)||n.setAttribute("class",N(o+" "+t))):n.setAttribute("class",N(o.replace(e," ")))}}function F(t,e,n){function r(){this.style.removeProperty(t)}function o(){this.style.setProperty(t,e,n)}function i(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?i:o}function $(t,e){function n(){delete this[t]}function r(){this[t]=e}function o(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?o:r}function O(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===Aa&&e.documentElement.namespaceURI===Aa?e.createElement(t):e.createElementNS(n,t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=la.ns.qualify(t)).local?n:e}function q(){var t=this.parentNode;t&&t.removeChild(this)}function j(t){return{__data__:t}}function B(t){return function(){return Ea(this,t)}}function z(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function H(t,e){for(var n=0,r=t.length;r>n;n++)for(var o,i=t[n],a=0,s=i.length;s>a;a++)(o=i[a])&&e(o,a,n);return t}function U(t){return xa(t,Ma),t}function W(t){var e,n;return function(r,o,i){var a,s=t[i].update,l=s.length;for(i!=n&&(n=i,e=0),o>=e&&(e=o+1);!(a=s[e])&&++e<l;);return a}}function Y(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function o(){var o=l(e,ca(arguments));r.call(this),this.addEventListener(t,this[a]=o,o.$=n),o._=e}function i(){var e,n=new RegExp("^__on([^.]+)"+la.requote(t)+"$");for(var r in this)if(e=r.match(n)){var o=this[r];this.removeEventListener(e[1],o,o.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),l=G;s>0&&(t=t.slice(0,s));var u=Na.get(t);return u&&(t=u,l=V),s?e?o:r:e?w:i}function G(t,e){return function(n){var r=la.event;la.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{la.event=r}}}function V(t,e){var n=G(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function Q(n){var r=".dragsuppress-"+ ++Ia,o="click"+r,i=la.select(e(n)).on("touchmove"+r,C).on("dragstart"+r,C).on("selectstart"+r,C);if(null==La&&(La=!("onselectstart"in n)&&b(n.style,"userSelect")),La){var a=t(n).style,s=a[La];a[La]="none"}return function(t){if(i.on(r,null),La&&(a[La]=s),t){var e=function(){i.on(o,null)};i.on(o,function(){C(),e()},!0),setTimeout(e,0)}}}function X(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var o=r.createSVGPoint();if(0>Ra){var i=e(t);if(i.scrollX||i.scrollY){r=la.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=r[0][0].getScreenCTM();Ra=!(a.f||a.e),r.remove()}}return Ra?(o.x=n.pageX,o.y=n.pageY):(o.x=n.clientX,o.y=n.clientY),o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function K(){return la.event.changedTouches[0].identifier}function J(t){return t>0?1:0>t?-1:0}function Z(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:-1>t?$a:Math.acos(t)}function et(t){return t>1?ja:-1>t?-ja:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function rt(t){return((t=Math.exp(t))+1/t)/2}function ot(t){return((t=Math.exp(2*t))-1)/(t+1)}function it(t){return(t=Math.sin(t/2))*t}function at(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):wt(""+t,kt,st):new st(t,e,n)}function lt(t,e,n){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?i+(a-i)*t/60:180>t?a:240>t?i+(a-i)*(240-t)/60:i}function o(t){return Math.round(255*r(t))}var i,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+e):n+e-n*e,i=2*n-a,new vt(o(t+120),o(t),o(t-120))}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.c,t.l):t instanceof ft?ht(t.l,t.a,t.b):ht((t=xt((t=la.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ut(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ft(n,Math.cos(t*=Ba)*e,Math.sin(t)*e)}function ft(t,e,n){return this instanceof ft?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ft?new ft(t.l,t.a,t.b):t instanceof ut?ct(t.h,t.c,t.l):xt((t=vt(t)).r,t.g,t.b):new ft(t,e,n)}function dt(t,e,n){var r=(t+16)/116,o=r+e/500,i=r-n/200;return o=pt(o)*Ja,r=pt(r)*Za,i=pt(i)*ts,new vt(mt(3.2404542*o-1.5371385*r-.4985314*i),mt(-.969266*o+1.8760108*r+.041556*i),mt(.0556434*o-.2040259*r+1.0572252*i))}function ht(t,e,n){return t>0?new ut(Math.atan2(n,e)*za,Math.sqrt(e*e+n*n),t):new ut(NaN,NaN,t)}function pt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function gt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):wt(""+t,vt,lt):new vt(t,e,n)}function yt(t){return new vt(t>>16,t>>8&255,255&t)}function _t(t){return yt(t)+""}function bt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function wt(t,e,n){var r,o,i,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(o=r[2].split(","),r[1]){case"hsl":return n(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return e(Tt(o[0]),Tt(o[1]),Tt(o[2]))}return(i=rs.get(t))?e(i.r,i.g,i.b):(null==t||"#"!==t.charAt(0)||isNaN(i=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&i)>>4,a|=a>>4,s=240&i,s|=s>>4,l=15&i,l|=l<<4):7===t.length&&(a=(16711680&i)>>16,s=(65280&i)>>8,l=255&i)),e(a,s,l))}function kt(t,e,n){var r,o,i=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-i,l=(a+i)/2;return s?(o=.5>l?s/(a+i):s/(2-a-i),r=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,o=l>0&&1>l?0:r),new st(r,o,l)}function xt(t,e,n){t=Ct(t),e=Ct(e),n=Ct(n);var r=gt((.4124564*t+.3575761*e+.1804375*n)/Ja),o=gt((.2126729*t+.7151522*e+.072175*n)/Za);return ft(116*o-16,500*(r-o),200*(o-gt((.0193339*t+.119192*e+.9503041*n)/ts)))}function Ct(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Tt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Et(t){return"function"==typeof t?t:function(){return t}}function St(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),At(e,n,t,r)}}function At(t,e,n,r){function o(){var t,e=l.status;if(!e&&Mt(l)||e>=200&&300>e||304===e){try{t=n.call(i,l)}catch(t){return void a.error.call(i,t)}a.load.call(i,t)}else a.error.call(i,l)}var i={},a=la.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=o:l.onreadystatechange=function(){l.readyState>3&&o()},l.onprogress=function(t){var e=la.event;la.event=t;try{a.progress.call(i,l)}finally{la.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(u=t,i):u},i.response=function(t){return n=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(ca(arguments)))}}),i.send=function(n,r,o){if(2===arguments.length&&"function"==typeof r&&(o=r,r=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),a.beforesend.call(i,l),l.send(null==r?null:r),i},i.abort=function(){return l.abort(),i},la.rebind(i,a,"on"),null==r?i:i.get(Dt(r))}function Dt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Mt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Nt(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var o=n+e,i={c:t,t:o,n:null};return is?is.n=i:os=i,is=i,as||(ss=clearTimeout(ss),as=1,ls(Lt)),i}function Lt(){var t=It(),e=Rt()-t;e>24?(isFinite(e)&&(clearTimeout(ss),ss=setTimeout(Lt,e)),as=0):(as=1,ls(Lt))}function It(){for(var t=Date.now(),e=os;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Rt(){for(var t,e=os,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:os=e.n;return is=t,n}function Pt(t,e){
return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Ft(t,e){var n=Math.pow(10,3*ya(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function $t(t){var e=t.decimal,n=t.thousands,r=t.grouping,o=t.currency,i=r&&n?function(t,e){for(var o=t.length,i=[],a=0,s=r[0],l=0;o>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),i.push(t.substring(o-=s,o+s)),!((l+=s+1)>e));)s=r[a=(a+1)%r.length];return i.reverse().join(n)}:y;return function(t){var n=cs.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],f=n[7],d=n[8],h=n[9],p=1,g="",m="",v=!1,y=!0;switch(d&&(d=+d.substring(1)),(u||"0"===r&&"="===a)&&(u=r="0",a="="),h){case"n":f=!0,h="g";break;case"%":p=100,m="%",h="f";break;case"p":p=100,m="%",h="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+h.toLowerCase());case"c":y=!1;case"d":v=!0,d=0;break;case"s":p=-1,h="r"}"$"===l&&(g=o[0],m=o[1]),"r"!=h||d||(h="g"),null!=d&&("g"==h?d=Math.max(1,Math.min(21,d)):"e"!=h&&"f"!=h||(d=Math.max(0,Math.min(20,d)))),h=fs.get(h)||Ot;var _=u&&f;return function(t){var n=m;if(v&&t%1)return"";var o=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>p){var l=la.formatPrefix(t,d);t=l.scale(t),n=l.symbol+m}else t*=p;t=h(t,d);var b,w,k=t.lastIndexOf(".");if(0>k){var x=y?t.lastIndexOf("e"):-1;0>x?(b=t,w=""):(b=t.substring(0,x),w=t.substring(x))}else b=t.substring(0,k),w=e+t.substring(k+1);!u&&f&&(b=i(b,1/0));var C=g.length+b.length+w.length+(_?0:o.length),T=c>C?new Array(C=c-C+1).join(r):"";return _&&(b=i(T+b,T.length?c-w.length:1/0)),o+=g,t=b+w,("<"===a?o+t+T:">"===a?T+o+t:"^"===a?T.substring(0,C>>=1)+o+t+T.substring(C):o+(_?t:T+t))+n}}}function Ot(t){return t+""}function qt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function jt(t,e,n){function r(e){var n=t(e),r=i(n,1);return r-e>e-n?n:r}function o(n){return e(n=t(new hs(n-1)),1),n}function i(t,n){return e(t=new hs(+t),n),t}function a(t,r,i){var a=o(t),s=[];if(i>1)for(;r>a;)n(a)%i||s.push(new Date(+a)),e(a,1);else for(;r>a;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{hs=qt;var r=new qt;return r._=t,a(r,e,n)}finally{hs=Date}}t.floor=t,t.round=r,t.ceil=o,t.offset=i,t.range=a;var l=t.utc=Bt(t);return l.floor=l,l.round=Bt(r),l.ceil=Bt(o),l.offset=Bt(i),l.range=s,t}function Bt(t){return function(e,n){try{hs=qt;var r=new qt;return r._=e,t(r,n)._}finally{hs=Date}}}function zt(t){function e(t){function e(e){for(var n,o,i,a=[],s=-1,l=0;++s<r;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(o=gs[n=t.charAt(++s)])&&(n=t.charAt(++s)),(i=A[n])&&(n=i(e,null==o?"e"===n?" ":"0":o)),a.push(n),l=s+1);return a.push(t.slice(l,s)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(r,t,e,0)!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&hs!==qt,i=new(o?qt:hs);return"j"in r?i.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),i.setFullYear(r.y,0,1),i.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(i.getDay()+5)%7:r.w+7*r.U-(i.getDay()+6)%7)):i.setFullYear(r.y,r.m,r.d),i.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?i._:i},e.toString=function(){return t},e}function n(t,e,n,r){for(var o,i,a,s=0,l=e.length,u=n.length;l>s;){if(r>=u)return-1;if(37===(o=e.charCodeAt(s++))){if(a=e.charAt(s++),!(i=D[a in gs?e.charAt(s++):a])||(r=i(t,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){k.lastIndex=0;var r=k.exec(e.slice(n));return r?(t.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){b.lastIndex=0;var r=b.exec(e.slice(n));return r?(t.w=w.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){E.lastIndex=0;var r=E.exec(e.slice(n));return r?(t.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){C.lastIndex=0;var r=C.exec(e.slice(n));return r?(t.m=T.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,A.c.toString(),e,r)}function l(t,e,r){return n(t,A.x.toString(),e,r)}function u(t,e,r){return n(t,A.X.toString(),e,r)}function c(t,e,n){var r=_.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var f=t.dateTime,d=t.date,h=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{hs=qt;var e=new hs;return e._=t,r(e)}finally{hs=Date}}var r=e(t);return n.parse=function(t){try{hs=qt;var e=r.parse(t);return e&&e._}finally{hs=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=le;var _=la.map(),b=Ut(g),w=Wt(g),k=Ut(m),x=Wt(m),C=Ut(v),T=Wt(v),E=Ut(y),S=Wt(y);p.forEach(function(t,e){_.set(t.toLowerCase(),e)});var A={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(f),d:function(t,e){return Ht(t.getDate(),e,2)},e:function(t,e){return Ht(t.getDate(),e,2)},H:function(t,e){return Ht(t.getHours(),e,2)},I:function(t,e){return Ht(t.getHours()%12||12,e,2)},j:function(t,e){return Ht(1+ds.dayOfYear(t),e,3)},L:function(t,e){return Ht(t.getMilliseconds(),e,3)},m:function(t,e){return Ht(t.getMonth()+1,e,2)},M:function(t,e){return Ht(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Ht(t.getSeconds(),e,2)},U:function(t,e){return Ht(ds.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ht(ds.mondayOfYear(t),e,2)},x:e(d),X:e(h),y:function(t,e){return Ht(t.getFullYear()%100,e,2)},Y:function(t,e){return Ht(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},D={a:r,A:o,b:i,B:a,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:ie,m:Zt,M:re,p:c,S:oe,U:Gt,w:Yt,W:Vt,x:l,X:u,y:Xt,Y:Qt,Z:Kt,"%":se};return e}function Ht(t,e,n){var r=0>t?"-":"",o=(r?-t:t)+"",i=o.length;return r+(n>i?new Array(n-i+1).join(e)+o:o)}function Ut(t){return new RegExp("^(?:"+t.map(la.requote).join("|")+")","i")}function Wt(t){for(var e=new u,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Yt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Gt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Vt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Qt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Xt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.y=Jt(+r[0]),n+r[0].length):-1}function Kt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Jt(t){return t+(t>68?1900:2e3)}function Zt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function te(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ee(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ne(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function re(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function oe(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ie(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=ya(e)/60|0,o=ya(e)%60;return n+Ht(r,"0",2)+Ht(o,"0",2)}function se(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function le(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function ue(){}function ce(t,e,n){var r=n.s=t+e,o=r-t,i=r-o;n.t=t-i+(e-o)}function fe(t,e){t&&ws.hasOwnProperty(t.type)&&ws[t.type](t,e)}function de(t,e,n){var r,o=-1,i=t.length-n;for(e.lineStart();++o<i;)r=t[o],e.point(r[0],r[1],r[2]);e.lineEnd()}function he(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)de(t[n],e,1);e.polygonEnd()}function pe(){function t(t,e){t*=Ba,e=e*Ba/2+$a/4;var n=t-r,a=n>=0?1:-1,s=a*n,l=Math.cos(e),u=Math.sin(e),c=i*u,f=o*l+c*Math.cos(s),d=c*a*Math.sin(s);xs.add(Math.atan2(d,f)),r=t,o=l,i=u}var e,n,r,o,i;Cs.point=function(a,s){Cs.point=t,r=(e=a)*Ba,o=Math.cos(s=(n=s)*Ba/2+$a/4),i=Math.sin(s)},Cs.lineEnd=function(){t(e,n)}}function ge(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function _e(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function be(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function we(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function ke(t,e){return ya(t[0]-e[0])<Pa&&ya(t[1]-e[1])<Pa}function xe(t,e){t*=Ba;var n=Math.cos(e*=Ba);Ce(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Ce(t,e,n){++Ts,Ss+=(t-Ss)/Ts,As+=(e-As)/Ts,Ds+=(n-Ds)/Ts}function Te(){function t(t,o){t*=Ba;var i=Math.cos(o*=Ba),a=i*Math.cos(t),s=i*Math.sin(t),l=Math.sin(o),u=Math.atan2(Math.sqrt((u=n*l-r*s)*u+(u=r*a-e*l)*u+(u=e*s-n*a)*u),e*a+n*s+r*l);Es+=u,Ms+=u*(e+(e=a)),Ns+=u*(n+(n=s)),Ls+=u*(r+(r=l)),Ce(e,n,r)}var e,n,r;Fs.point=function(o,i){o*=Ba;var a=Math.cos(i*=Ba);e=a*Math.cos(o),n=a*Math.sin(o),r=Math.sin(i),Fs.point=t,Ce(e,n,r)}}function Ee(){Fs.point=xe}function Se(){function t(t,e){t*=Ba;var n=Math.cos(e*=Ba),a=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=o*l-i*s,c=i*a-r*l,f=r*s-o*a,d=Math.sqrt(u*u+c*c+f*f),h=r*a+o*s+i*l,p=d&&-tt(h)/d,g=Math.atan2(d,h);Is+=p*u,Rs+=p*c,Ps+=p*f,Es+=g,Ms+=g*(r+(r=a)),Ns+=g*(o+(o=s)),Ls+=g*(i+(i=l)),Ce(r,o,i)}var e,n,r,o,i;Fs.point=function(a,s){e=a,n=s,Fs.point=t,a*=Ba;var l=Math.cos(s*=Ba);r=l*Math.cos(a),o=l*Math.sin(a),i=Math.sin(s),Ce(r,o,i)},Fs.lineEnd=function(){t(e,n),Fs.lineEnd=Ee,Fs.point=xe}}function Ae(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function De(){return!0}function Me(t,e,n,r,o){var i=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(ke(n,r)){o.lineStart();for(var s=0;e>s;++s)o.point((n=t[s])[0],n[1]);return void o.lineEnd()}var l=new Le(n,t,null,!0),u=new Le(n,null,l,!1);l.o=u,i.push(l),a.push(u),l=new Le(r,t,null,!1),u=new Le(r,null,l,!0),l.o=u,i.push(l),a.push(u)}}),a.sort(e),Ne(i),Ne(a),i.length){for(var s=0,l=n,u=a.length;u>s;++s)a[s].e=l=!l;for(var c,f,d=i[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(var s=0,u=c.length;u>s;++s)o.point((f=c[s])[0],f[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p){c=h.p.z;for(var s=c.length-1;s>=0;--s)o.point((f=c[s])[0],f[1])}else r(h.x,h.p.x,-1,o);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);o.lineEnd()}}}function Ne(t){if(e=t.length){for(var e,n,r=0,o=t[0];++r<e;)o.n=n=t[r],n.p=o,o=n;o.n=n=t[0],n.p=o}}function Le(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ie(t,e,n,r){return function(o,i){function a(e,n){var r=o(e,n);t(e=r[0],n=r[1])&&i.point(e,n)}function s(t,e){var n=o(t,e);m.point(n[0],n[1])}function l(){y.point=s,m.lineStart()}function u(){y.point=a,m.lineEnd()}function c(t,e){g.push([t,e]);var n=o(t,e);b.point(n[0],n[1])}function f(){b.lineStart(),g=[]}function d(){c(g[0][0],g[0][1]),b.lineEnd();var t,e=b.clean(),n=_.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r)if(1&e){t=n[0];var o,r=t.length-1,a=-1;if(r>0){for(w||(i.polygonStart(),w=!0),i.lineStart();++a<r;)i.point((o=t[a])[0],o[1]);i.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),h.push(n.filter(Re))}var h,p,g,m=e(i),v=o.invert(r[0],r[1]),y={point:a,lineStart:l,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=f,y.lineEnd=d,h=[],p=[]},polygonEnd:function(){y.point=a,y.lineStart=l,y.lineEnd=u,h=la.merge(h);var t=je(v,p);h.length?(w||(i.polygonStart(),w=!0),Me(h,Fe,t,n,i)):t&&(w||(i.polygonStart(),w=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),w&&(i.polygonEnd(),w=!1),h=p=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}},_=Pe(),b=e(_),w=!1;return y}}function Re(t){return t.length>1}function Pe(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:w,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Fe(t,e){return((t=t.x)[0]<0?t[1]-ja-Pa:ja-t[1])-((e=e.x)[0]<0?e[1]-ja-Pa:ja-e[1])}function $e(t){var e,n=NaN,r=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,a){var s=i>0?$a:-$a,l=ya(i-n);ya(l-$a)<Pa?(t.point(n,r=(r+a)/2>0?ja:-ja),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(i,r),e=0):o!==s&&l>=$a&&(ya(n-o)<Pa&&(n-=o*Pa),ya(i-s)<Pa&&(i-=s*Pa),r=Oe(n,r,i,a),t.point(o,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=i,r=a),o=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function Oe(t,e,n,r){var o,i,a=Math.sin(t-n);return ya(a)>Pa?Math.atan((Math.sin(e)*(i=Math.cos(r))*Math.sin(n)-Math.sin(r)*(o=Math.cos(e))*Math.sin(t))/(o*i*a)):(e+r)/2}function qe(t,e,n,r){var o;if(null==t)o=n*ja,r.point(-$a,o),r.point(0,o),r.point($a,o),r.point($a,0),r.point($a,-o),r.point(0,-o),r.point(-$a,-o),r.point(-$a,0),r.point(-$a,o);else if(ya(t[0]-e[0])>Pa){var i=t[0]<e[0]?$a:-$a;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(e[0],e[1])}function je(t,e){var n=t[0],r=t[1],o=[Math.sin(n),-Math.cos(n),0],i=0,a=0;xs.reset();for(var s=0,l=e.length;l>s;++s){var u=e[s],c=u.length;if(c)for(var f=u[0],d=f[0],h=f[1]/2+$a/4,p=Math.sin(h),g=Math.cos(h),m=1;;){m===c&&(m=0),t=u[m];var v=t[0],y=t[1]/2+$a/4,_=Math.sin(y),b=Math.cos(y),w=v-d,k=w>=0?1:-1,x=k*w,C=x>$a,T=p*_;if(xs.add(Math.atan2(T*k*Math.sin(x),g*b+T*Math.cos(x))),i+=C?w+k*Oa:w,C^d>=n^v>=n){var E=ve(ge(f),ge(t));be(E);var S=ve(o,E);be(S);var A=(C^w>=0?-1:1)*et(S[2]);(r>A||r===A&&(E[0]||E[1]))&&(a+=C^w>=0?1:-1)}if(!m++)break;d=v,p=_,g=b,f=t}}return(-Pa>i||Pa>i&&-Pa>xs)^1&a}function Be(t){function e(t,e){return Math.cos(t)*Math.cos(e)>i}function n(t){var n,i,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(f,d){var h,p=[f,d],g=e(f,d),m=a?g?0:o(f,d):g?o(f+(0>f?$a:-$a),d):0;if(!n&&(u=l=g)&&t.lineStart(),g!==l&&(h=r(n,p),(ke(n,h)||ke(p,h))&&(p[0]+=Pa,p[1]+=Pa,g=e(p[0],p[1]))),g!==l)c=0,g?(t.lineStart(),h=r(p,n),t.point(h[0],h[1])):(h=r(n,p),t.point(h[0],h[1]),t.lineEnd()),n=h;else if(s&&n&&a^g){var v;m&i||!(v=r(p,n,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&ke(n,p)||t.point(p[0],p[1]),n=p,l=g,i=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function r(t,e,n){var r=ge(t),o=ge(e),a=[1,0,0],s=ve(r,o),l=me(s,s),u=s[0],c=l-u*u;if(!c)return!n&&t;var f=i*l/c,d=-i*u/c,h=ve(a,s),p=_e(a,f);ye(p,_e(s,d));var g=h,m=me(p,g),v=me(g,g),y=m*m-v*(me(p,p)-1);if(!(0>y)){var _=Math.sqrt(y),b=_e(g,(-m-_)/v);if(ye(b,p),b=we(b),!n)return b;var w,k=t[0],x=e[0],C=t[1],T=e[1];k>x&&(w=k,k=x,x=w);var E=x-k,S=ya(E-$a)<Pa,A=S||Pa>E;if(!S&&C>T&&(w=C,C=T,T=w),A?S?C+T>0^b[1]<(ya(b[0]-k)<Pa?C:T):C<=b[1]&&b[1]<=T:E>$a^(k<=b[0]&&b[0]<=x)){var D=_e(g,(-m+_)/v);return ye(D,p),[b,we(D)]}}}function o(e,n){var r=a?t:$a-t,o=0;return-r>e?o|=1:e>r&&(o|=2),-r>n?o|=4:n>r&&(o|=8),o}var i=Math.cos(t),a=i>0,s=ya(i)>Pa;return Ie(e,n,gn(t,6*Ba),a?[0,-t]:[-$a,t-$a])}function ze(t,e,n,r){return function(o){var i,a=o.a,s=o.b,l=a.x,u=a.y,c=s.x,f=s.y,d=0,h=1,p=c-l,g=f-u;if(i=t-l,p||!(i>0)){if(i/=p,0>p){if(d>i)return;h>i&&(h=i)}else if(p>0){if(i>h)return;i>d&&(d=i)}if(i=n-l,p||!(0>i)){if(i/=p,0>p){if(i>h)return;i>d&&(d=i)}else if(p>0){if(d>i)return;h>i&&(h=i)}if(i=e-u,g||!(i>0)){if(i/=g,0>g){if(d>i)return;h>i&&(h=i)}else if(g>0){if(i>h)return;i>d&&(d=i)}if(i=r-u,g||!(0>i)){if(i/=g,0>g){if(i>h)return;i>d&&(d=i)}else if(g>0){if(d>i)return;h>i&&(h=i)}return d>0&&(o.a={x:l+d*p,y:u+d*g}),1>h&&(o.b={x:l+h*p,y:u+h*g}),o}}}}}}function He(t,e,n,r){function o(r,o){return ya(r[0]-t)<Pa?o>0?0:3:ya(r[0]-n)<Pa?o>0?2:1:ya(r[1]-e)<Pa?o>0?1:0:o>0?3:2}function i(t,e){return a(t.x,e.x)}function a(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,n=m.length,r=t[1],o=0;n>o;++o)for(var i,a=1,s=m[o],l=s.length,u=s[0];l>a;++a)i=s[a],u[1]<=r?i[1]>r&&Z(u,i,t)>0&&++e:i[1]<=r&&Z(u,i,t)<0&&--e,u=i;return 0!==e}function u(i,s,l,u){var c=0,f=0;if(null==i||(c=o(i,l))!==(f=o(s,l))||a(i,s)<0^l>0){do{u.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+l+4)%4)!==f)}else u.point(s[0],s[1])}function c(o,i){return o>=t&&n>=o&&i>=e&&r>=i}function f(t,e){c(t,e)&&s.point(t,e)}function d(){D.point=p,m&&m.push(v=[]),C=!0,x=!1,w=k=NaN}function h(){g&&(p(y,_),b&&x&&S.rejoin(),g.push(S.buffer())),D.point=f,x&&s.lineEnd()}function p(t,e){t=Math.max(-Os,Math.min(Os,t)),e=Math.max(-Os,Math.min(Os,e));var n=c(t,e);if(m&&v.push([t,e]),C)y=t,_=e,b=n,C=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&x)s.point(t,e);else{var r={a:{x:w,y:k},b:{x:t,y:e}};A(r)?(x||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),T=!1):n&&(s.lineStart(),s.point(t,e),T=!1)}w=t,k=e,x=n}var g,m,v,y,_,b,w,k,x,C,T,E=s,S=Pe(),A=ze(t,e,n,r),D={point:f,lineStart:d,lineEnd:h,polygonStart:function(){s=S,g=[],m=[],T=!0},polygonEnd:function(){s=E,g=la.merge(g);var e=l([t,r]),n=T&&e,o=g.length;(n||o)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),o&&Me(g,i,e,u,s),s.polygonEnd()),g=m=v=null}};return D}}function Ue(t){var e=0,n=$a/3,r=sn(t),o=r(e,n);return o.parallels=function(t){return arguments.length?r(e=t[0]*$a/180,n=t[1]*$a/180):[e/$a*180,n/$a*180]},o}function We(t,e){function n(t,e){var n=Math.sqrt(i-2*o*Math.sin(e))/o;return[n*Math.sin(t*=o),a-n*Math.cos(t)]}var r=Math.sin(t),o=(r+Math.sin(e))/2,i=1+r*(2*o-r),a=Math.sqrt(i)/o;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/o,et((i-(t*t+n*n)*o*o)/(2*o))]},n}function Ye(){function t(t,e){js+=o*t-r*e,r=t,o=e}var e,n,r,o;Ws.point=function(i,a){Ws.point=t,e=r=i,n=o=a},Ws.lineEnd=function(){t(e,n)}}function Ge(t,e){Bs>t&&(Bs=t),t>Hs&&(Hs=t),zs>e&&(zs=e),e>Us&&(Us=e)}function Ve(){function t(t,e){a.push("M",t,",",e,i)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function o(){a.push("Z")}var i=Qe(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return i=Qe(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Qe(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Xe(t,e){Ss+=t,As+=e,++Ds}function Ke(){function t(t,r){var o=t-e,i=r-n,a=Math.sqrt(o*o+i*i);Ms+=a*(e+t)/2,Ns+=a*(n+r)/2,Ls+=a,Xe(e=t,n=r)}var e,n;Gs.point=function(r,o){Gs.point=t,Xe(e=r,n=o)}}function Je(){Gs.point=Xe}function Ze(){function t(t,e){var n=t-r,i=e-o,a=Math.sqrt(n*n+i*i);Ms+=a*(r+t)/2,Ns+=a*(o+e)/2,Ls+=a,a=o*t-r*e,Is+=a*(r+t),Rs+=a*(o+e),Ps+=3*a,Xe(r=t,o=e)}var e,n,r,o;Gs.point=function(i,a){Gs.point=t,Xe(e=r=i,n=o=a)},Gs.lineEnd=function(){t(e,n)}}function tn(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Oa)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function o(){s.point=e}function i(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:o,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=o,s.point=e},pointRadius:function(t){return a=t,s},result:w};return s}function en(t){function e(t){return(s?r:n)(t)}function n(e){return on(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){_=NaN,C.point=i,e.lineStart()}function i(n,r){var i=ge([n,r]),a=t(n,r);o(_,b,y,w,k,x,_=a[0],b=a[1],y=n,w=i[0],k=i[1],x=i[2],s,e),e.point(_,b)}function a(){C.point=n,e.lineEnd()}function l(){r(),C.point=u,C.lineEnd=c}function u(t,e){i(f=t,d=e),h=_,p=b,g=w,m=k,v=x,C.point=i}function c(){o(_,b,y,w,k,x,h,p,f,g,m,v,s,e),C.lineEnd=a,a()}var f,d,h,p,g,m,v,y,_,b,w,k,x,C={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),C.lineStart=l},polygonEnd:function(){e.polygonEnd(),C.lineStart=r}};return C}function o(e,n,r,s,l,u,c,f,d,h,p,g,m,v){var y=c-e,_=f-n,b=y*y+_*_;if(b>4*i&&m--){var w=s+h,k=l+p,x=u+g,C=Math.sqrt(w*w+k*k+x*x),T=Math.asin(x/=C),E=ya(ya(x)-1)<Pa||ya(r-d)<Pa?(r+d)/2:Math.atan2(k,w),S=t(E,T),A=S[0],D=S[1],M=A-e,N=D-n,L=_*M-y*N;(L*L/b>i||ya((y*M+_*N)/b-.5)>.3||a>s*h+l*p+u*g)&&(o(e,n,r,s,l,u,A,D,E,w/=C,k/=C,x,m,v),v.point(A,D),o(A,D,E,w,k,x,c,f,d,h,p,g,m,v))}}var i=.5,a=Math.cos(30*Ba),s=16;return e.precision=function(t){return arguments.length?(s=(i=t*t)>0&&16,e):Math.sqrt(i)},e}function nn(t){var e=en(function(e,n){return t([e*za,n*za])});return function(t){return ln(e(t))}}function rn(t){this.stream=t}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return sn(function(){return t})()}function sn(t){function e(t){return t=s(t[0]*Ba,t[1]*Ba),[t[0]*d+l,u-t[1]*d]}function n(t){return(t=s.invert((t[0]-l)/d,(u-t[1])/d))&&[t[0]*za,t[1]*za]}function r(){s=Ae(a=fn(v,_,b),i);var t=i(g,m);return l=h-t[0]*d,u=p+t[1]*d,o()}function o(){return c&&(c.valid=!1,c=null),e}var i,a,s,l,u,c,f=en(function(t,e){return t=i(t,e),[t[0]*d+l,u-t[1]*d]}),d=150,h=480,p=250,g=0,m=0,v=0,_=0,b=0,w=$s,k=y,x=null,C=null;return e.stream=function(t){return c&&(c.valid=!1),c=ln(w(a,f(k(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(w=null==t?(x=t,$s):Be((x=+t)*Ba),o()):x},e.clipExtent=function(t){return arguments.length?(C=t,k=t?He(t[0][0],t[0][1],t[1][0],t[1][1]):y,o()):C},e.scale=function(t){return arguments.length?(d=+t,r()):d},e.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],r()):[h,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Ba,m=t[1]%360*Ba,r()):[g*za,m*za]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Ba,_=t[1]%360*Ba,b=t.length>2?t[2]%360*Ba:0,r()):[v*za,_*za,b*za]},la.rebind(e,f,"precision"),function(){return i=t.apply(this,arguments),e.invert=i.invert&&n,r()}}function ln(t){return on(t,function(e,n){t.point(e*Ba,n*Ba)})}function un(t,e){return[t,e]}function cn(t,e){return[t>$a?t-Oa:-$a>t?t+Oa:t,e]}function fn(t,e,n){return t?e||n?Ae(hn(t),pn(e,n)):hn(t):e||n?pn(e,n):cn}function dn(t){return function(e,n){return e+=t,[e>$a?e-Oa:-$a>e?e+Oa:e,n]}}function hn(t){var e=dn(t);return e.invert=dn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*r+s*o;return[Math.atan2(l*i-c*a,s*r-u*o),et(c*i+l*a)]}var r=Math.cos(t),o=Math.sin(t),i=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*i-l*a;return[Math.atan2(l*i+u*a,s*r+c*o),et(c*r-s*o)]},n}function gn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(o,i,a,s){var l=a*e;null!=o?(o=mn(n,o),i=mn(n,i),(a>0?i>o:o>i)&&(o+=a*Oa)):(o=t+a*Oa,i=t-.5*l);for(var u,c=o;a>0?c>i:i>c;c-=l)s.point((u=we([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function mn(t,e){var n=ge(e);n[0]-=t,be(n);var r=tt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Pa)%(2*Math.PI)}function vn(t,e,n){var r=la.range(t,e-Pa,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function yn(t,e,n){var r=la.range(t,e-Pa,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function _n(t){return t.source}function bn(t){return t.target}function wn(t,e,n,r){var o=Math.cos(e),i=Math.sin(e),a=Math.cos(r),s=Math.sin(r),l=o*Math.cos(t),u=o*Math.sin(t),c=a*Math.cos(n),f=a*Math.sin(n),d=2*Math.asin(Math.sqrt(it(r-e)+o*a*it(n-t))),h=1/Math.sin(d),p=d?function(t){var e=Math.sin(t*=d)*h,n=Math.sin(d-t)*h,r=n*l+e*c,o=n*u+e*f,a=n*i+e*s;return[Math.atan2(o,r)*za,Math.atan2(a,Math.sqrt(r*r+o*o))*za]}:function(){return[t*za,e*za]};return p.distance=d,p}function kn(){function t(t,o){var i=Math.sin(o*=Ba),a=Math.cos(o),s=ya((t*=Ba)-e),l=Math.cos(s);Vs+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*i-n*a*l)*s),n*i+r*a*l),e=t,n=i,r=a}var e,n,r;Qs.point=function(o,i){e=o*Ba,n=Math.sin(i*=Ba),r=Math.cos(i),Qs.point=t},Qs.lineEnd=function(){Qs.point=Qs.lineEnd=w}}function xn(t,e){function n(e,n){var r=Math.cos(e),o=Math.cos(n),i=t(r*o);return[i*o*Math.sin(e),i*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),o=e(r),i=Math.sin(o),a=Math.cos(o);return[Math.atan2(t*i,r*a),Math.asin(r&&n*i/r)]},n}function Cn(t,e){function n(t,e){a>0?-ja+Pa>e&&(e=-ja+Pa):e>ja-Pa&&(e=ja-Pa);var n=a/Math.pow(o(e),i);return[n*Math.sin(i*t),a-n*Math.cos(i*t)]}var r=Math.cos(t),o=function(t){return Math.tan($a/4+t/2)},i=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(o(e)/o(t)),a=r*Math.pow(o(t),i)/i;return i?(n.invert=function(t,e){var n=a-e,r=J(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(a/r,1/i))-ja]},n):En}function Tn(t,e){function n(t,e){var n=i-e;return[n*Math.sin(o*t),i-n*Math.cos(o*t)]}var r=Math.cos(t),o=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),i=r/o+t;return ya(o)<Pa?un:(n.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/o,i-J(o)*Math.sqrt(t*t+n*n)]},n)}function En(t,e){return[t,Math.log(Math.tan($a/4+e/2))]}function Sn(t){var e,n=an(t),r=n.scale,o=n.translate,i=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=o.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=i.apply(n,arguments);if(a===n){if(e=null==t){var s=$a*r(),l=o();i([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function An(t,e){return[Math.log(Math.tan($a/4+e/2)),-t]}function Dn(t){return t[0]}function Mn(t){return t[1]}function Nn(t){for(var e=t.length,n=[0,1],r=2,o=2;e>o;o++){for(;r>1&&Z(t[n[r-2]],t[n[r-1]],t[o])<=0;)--r;n[r++]=o}return n.slice(0,r)}function Ln(t,e){return t[0]-e[0]||t[1]-e[1]}function In(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Rn(t,e,n,r){var o=t[0],i=n[0],a=e[0]-o,s=r[0]-i,l=t[1],u=n[1],c=e[1]-l,f=r[1]-u,d=(s*(l-u)-f*(o-i))/(f*a-s*c);return[o+d*a,l+d*c]}function Pn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Fn(){rr(this),this.edge=this.site=this.circle=null}function $n(t){var e=sl.pop()||new Fn;return e.site=t,e}function On(t){Vn(t),ol.remove(t),sl.push(t),rr(t)}function qn(t){var e=t.circle,n=e.x,r=e.cy,o={x:n,y:r},i=t.P,a=t.N,s=[t];On(t);for(var l=i;l.circle&&ya(n-l.circle.x)<Pa&&ya(r-l.circle.cy)<Pa;)i=l.P,s.unshift(l),On(l),l=i;s.unshift(l),Vn(l);for(var u=a;u.circle&&ya(n-u.circle.x)<Pa&&ya(r-u.circle.cy)<Pa;)a=u.N,s.push(u),On(u),u=a;s.push(u),Vn(u);var c,f=s.length;for(c=1;f>c;++c)u=s[c],l=s[c-1],tr(u.edge,l.site,u.site,o);l=s[0],u=s[f-1],u.edge=Jn(l.site,u.site,null,o),Gn(l),Gn(u)}function jn(t){for(var e,n,r,o,i=t.x,a=t.y,s=ol._;s;)if((r=Bn(s,a)-i)>Pa)s=s.L;else{if(!((o=i-zn(s,a))>Pa)){r>-Pa?(e=s.P,n=s):o>-Pa?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=$n(t);if(ol.insert(e,l),e||n){if(e===n)return Vn(e),n=$n(e.site),ol.insert(l,n),l.edge=n.edge=Jn(e.site,l.site),Gn(e),void Gn(n);if(!n)return void(l.edge=Jn(e.site,l.site));Vn(e),Vn(n);var u=e.site,c=u.x,f=u.y,d=t.x-c,h=t.y-f,p=n.site,g=p.x-c,m=p.y-f,v=2*(d*m-h*g),y=d*d+h*h,_=g*g+m*m,b={x:(m*y-h*_)/v+c,y:(d*_-g*y)/v+f};tr(n.edge,u,p,b),l.edge=Jn(u,t,null,b),n.edge=Jn(t,p,null,b),Gn(e),Gn(n)}}function Bn(t,e){var n=t.site,r=n.x,o=n.y,i=o-e;if(!i)return r;var a=t.P;if(!a)return-1/0;n=a.site;var s=n.x,l=n.y,u=l-e;if(!u)return s;var c=s-r,f=1/i-1/u,d=c/u;return f?(-d+Math.sqrt(d*d-2*f*(c*c/(-2*u)-l+u/2+o-i/2)))/f+r:(r+s)/2}function zn(t,e){var n=t.N;if(n)return Bn(n,e);var r=t.site;return r.y===e?r.x:1/0}function Hn(t){this.site=t,this.edges=[]}function Un(t){for(var e,n,r,o,i,a,s,l,u,c,f=t[0][0],d=t[1][0],h=t[0][1],p=t[1][1],g=rl,m=g.length;m--;)if((i=g[m])&&i.prepare())for(s=i.edges,l=s.length,a=0;l>a;)c=s[a].end(),r=c.x,o=c.y,u=s[++a%l].start(),e=u.x,n=u.y,(ya(r-e)>Pa||ya(o-n)>Pa)&&(s.splice(a,0,new er(Zn(i.site,c,ya(r-f)<Pa&&p-o>Pa?{x:f,y:ya(e-f)<Pa?n:p}:ya(o-p)<Pa&&d-r>Pa?{x:ya(n-p)<Pa?e:d,y:p}:ya(r-d)<Pa&&o-h>Pa?{x:d,y:ya(e-d)<Pa?n:h}:ya(o-h)<Pa&&r-f>Pa?{x:ya(n-h)<Pa?e:f,y:h}:null),i.site,null)),++l)}function Wn(t,e){return e.angle-t.angle}function Yn(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Gn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,o=t.site,i=n.site;if(r!==i){var a=o.x,s=o.y,l=r.x-a,u=r.y-s,c=i.x-a,f=i.y-s,d=2*(l*f-u*c);if(!(d>=-Fa)){var h=l*l+u*u,p=c*c+f*f,g=(f*h-u*p)/d,m=(l*p-c*h)/d,f=m+s,v=ll.pop()||new Yn;v.arc=t,v.site=o,v.x=g+a,v.y=f+Math.sqrt(g*g+m*m),v.cy=f,t.circle=v;for(var y=null,_=al._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}al.insert(y,v),y||(il=v)}}}}function Vn(t){var e=t.circle;e&&(e.P||(il=e.N),al.remove(e),ll.push(e),rr(e),t.circle=null)}function Qn(t){for(var e,n=nl,r=ze(t[0][0],t[0][1],t[1][0],t[1][1]),o=n.length;o--;)e=n[o],(!Xn(e,t)||!r(e)||ya(e.a.x-e.b.x)<Pa&&ya(e.a.y-e.b.y)<Pa)&&(e.a=e.b=null,n.splice(o,1))}function Xn(t,e){var n=t.b;if(n)return!0;var r,o,i=t.a,a=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,f=t.r,d=c.x,h=c.y,p=f.x,g=f.y,m=(d+p)/2,v=(h+g)/2;if(g===h){if(a>m||m>=s)return;if(d>p){if(i){if(i.y>=u)return}else i={x:m,y:l};n={x:m,y:u}}else{if(i){if(i.y<l)return}else i={x:m,y:u};n={x:m,y:l}}}else if(r=(d-p)/(g-h),o=v-r*m,-1>r||r>1)if(d>p){if(i){if(i.y>=u)return}else i={x:(l-o)/r,y:l};n={x:(u-o)/r,y:u}}else{if(i){if(i.y<l)return}else i={x:(u-o)/r,y:u};n={x:(l-o)/r,y:l}}else if(g>h){if(i){if(i.x>=s)return}else i={x:a,y:r*a+o};n={x:s,y:r*s+o}}else{if(i){if(i.x<a)return}else i={x:s,y:r*s+o};n={x:a,y:r*a+o}}return t.a=i,t.b=n,!0}function Kn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Jn(t,e,n,r){var o=new Kn(t,e);return nl.push(o),n&&tr(o,t,e,n),r&&tr(o,e,t,r),rl[t.i].edges.push(new er(o,t,e)),rl[e.i].edges.push(new er(o,e,t)),o}function Zn(t,e,n){var r=new Kn(t,null);return r.a=e,r.b=n,nl.push(r),r}function tr(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function er(t,e,n){var r=t.a,o=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(o.x-r.x,r.y-o.y):Math.atan2(r.x-o.x,o.y-r.y)}function nr(){this._=null}function rr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function or(t,e){var n=e,r=e.R,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ir(t,e){var n=e,r=e.L,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ar(t){for(;t.L;)t=t.L;return t}function sr(t,e){var n,r,o,i=t.sort(lr).pop();for(nl=[],rl=new Array(t.length),ol=new nr,al=new nr;;)if(o=il,i&&(!o||i.y<o.y||i.y===o.y&&i.x<o.x))i.x===n&&i.y===r||(rl[i.i]=new Hn(i),jn(i),n=i.x,r=i.y),i=t.pop();else{if(!o)break;qn(o.arc)}e&&(Qn(e),Un(e));var a={cells:rl,edges:nl};return ol=al=nl=rl=null,a}function lr(t,e){return e.y-t.y||e.x-t.x}function ur(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function cr(t){return t.x}function fr(t){return t.y}function dr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function hr(t,e,n,r,o,i){if(!t(e,n,r,o,i)){var a=.5*(n+o),s=.5*(r+i),l=e.nodes;l[0]&&hr(t,l[0],n,r,a,s),l[1]&&hr(t,l[1],a,r,o,s),l[2]&&hr(t,l[2],n,s,a,i),l[3]&&hr(t,l[3],a,s,o,i)}}function pr(t,e,n,r,o,i,a){var s,l=1/0;return function t(u,c,f,d,h){if(!(c>i||f>a||r>d||o>h)){if(p=u.point){var p,g=e-u.x,m=n-u.y,v=g*g+m*m;if(l>v){var y=Math.sqrt(l=v);r=e-y,o=n-y,i=e+y,a=n+y,s=p}}for(var _=u.nodes,b=.5*(c+d),w=.5*(f+h),k=e>=b,x=n>=w,C=x<<1|k,T=C+4;T>C;++C)if(u=_[3&C])switch(3&C){case 0:t(u,c,f,b,w);break;case 1:t(u,b,f,d,w);break;case 2:t(u,c,w,b,h);break;case 3:t(u,b,w,d,h)}}}(t,r,o,i,a),s}function gr(t,e){t=la.rgb(t),e=la.rgb(e);var n=t.r,r=t.g,o=t.b,i=e.r-n,a=e.g-r,s=e.b-o;return function(t){return"#"+bt(Math.round(n+i*t))+bt(Math.round(r+a*t))+bt(Math.round(o+s*t))}}function mr(t,e){var n,r={},o={};for(n in t)n in e?r[n]=_r(t[n],e[n]):o[n]=t[n];for(n in e)n in t||(o[n]=e[n]);return function(t){for(n in r)o[n]=r[n](t);return o}}function vr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yr(t,e){var n,r,o,i=cl.lastIndex=fl.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=cl.exec(t))&&(r=fl.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:vr(n,r)})),i=fl.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;e>r;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function _r(t,e){
for(var n,r=la.interpolators.length;--r>=0&&!(n=la.interpolators[r](t,e)););return n}function br(t,e){var n,r=[],o=[],i=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)r.push(_r(t[n],e[n]));for(;i>n;++n)o[n]=t[n];for(;a>n;++n)o[n]=e[n];return function(t){for(n=0;s>n;++n)o[n]=r[n](t);return o}}function wr(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function kr(t){return function(e){return 1-t(1-e)}}function xr(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Cr(t){return t*t}function Tr(t){return t*t*t}function Er(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Sr(t){return function(e){return Math.pow(e,t)}}function Ar(t){return 1-Math.cos(t*ja)}function Dr(t){return Math.pow(2,10*(t-1))}function Mr(t){return 1-Math.sqrt(1-t*t)}function Nr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Oa*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Oa/e)}}function Lr(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Ir(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Rr(t,e){t=la.hcl(t),e=la.hcl(e);var n=t.h,r=t.c,o=t.l,i=e.h-n,a=e.c-r,s=e.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(i)?(i=0,n=isNaN(n)?e.h:n):i>180?i-=360:-180>i&&(i+=360),function(t){return ct(n+i*t,r+a*t,o+s*t)+""}}function Pr(t,e){t=la.hsl(t),e=la.hsl(e);var n=t.h,r=t.s,o=t.l,i=e.h-n,a=e.s-r,s=e.l-o;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(i)?(i=0,n=isNaN(n)?e.h:n):i>180?i-=360:-180>i&&(i+=360),function(t){return lt(n+i*t,r+a*t,o+s*t)+""}}function Fr(t,e){t=la.lab(t),e=la.lab(e);var n=t.l,r=t.a,o=t.b,i=e.l-n,a=e.a-r,s=e.b-o;return function(t){return dt(n+i*t,r+a*t,o+s*t)+""}}function $r(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Or(t){var e=[t.a,t.b],n=[t.c,t.d],r=jr(e),o=qr(e,n),i=jr(Br(n,e,-o))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,o*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*za,this.translate=[t.e,t.f],this.scale=[r,i],this.skew=i?Math.atan2(o,i)*za:0}function qr(t,e){return t[0]*e[0]+t[1]*e[1]}function jr(t){var e=Math.sqrt(qr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Br(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function zr(t){return t.length?t.pop()+",":""}function Hr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var o=n.push("translate(",null,",",null,")");r.push({i:o-4,x:vr(t[0],e[0])},{i:o-2,x:vr(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Ur(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(zr(n)+"rotate(",null,")")-2,x:vr(t,e)})):e&&n.push(zr(n)+"rotate("+e+")")}function Wr(t,e,n,r){t!==e?r.push({i:n.push(zr(n)+"skewX(",null,")")-2,x:vr(t,e)}):e&&n.push(zr(n)+"skewX("+e+")")}function Yr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var o=n.push(zr(n)+"scale(",null,",",null,")");r.push({i:o-4,x:vr(t[0],e[0])},{i:o-2,x:vr(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(zr(n)+"scale("+e+")")}function Gr(t,e){var n=[],r=[];return t=la.transform(t),e=la.transform(e),Hr(t.translate,e.translate,n,r),Ur(t.rotate,e.rotate,n,r),Wr(t.skew,e.skew,n,r),Yr(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,o=-1,i=r.length;++o<i;)n[(e=r[o]).i]=e.x(t);return n.join("")}}function Vr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Qr(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Xr(t){for(var e=t.source,n=t.target,r=Jr(e,n),o=[e];e!==r;)e=e.parent,o.push(e);for(var i=o.length;n!==r;)o.splice(i,0,n),n=n.parent;return o}function Kr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Jr(t,e){if(t===e)return t;for(var n=Kr(t),r=Kr(e),o=n.pop(),i=r.pop(),a=null;o===i;)a=o,o=n.pop(),i=r.pop();return a}function Zr(t){t.fixed|=2}function to(t){t.fixed&=-7}function eo(t){t.fixed|=4,t.px=t.x,t.py=t.y}function no(t){t.fixed&=-5}function ro(t,e,n){var r=0,o=0;if(t.charge=0,!t.leaf)for(var i,a=t.nodes,s=a.length,l=-1;++l<s;)null!=(i=a[l])&&(ro(i,e,n),t.charge+=i.charge,r+=i.charge*i.cx,o+=i.charge*i.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,r+=u*t.point.x,o+=u*t.point.y}t.cx=r/t.charge,t.cy=o/t.charge}function oo(t,e){return la.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=co,t}function io(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(o=t.children)&&(r=o.length))for(var r,o;--r>=0;)n.push(o[r])}function ao(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(i=t.children)&&(o=i.length))for(var o,i,a=-1;++a<o;)n.push(i[a]);for(;null!=(t=r.pop());)e(t)}function so(t){return t.children}function lo(t){return t.value}function uo(t,e){return e.value-t.value}function co(t){return la.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function fo(t){return t.x}function ho(t){return t.y}function po(t,e,n){t.y0=e,t.y=n}function go(t){return la.range(t.length)}function mo(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function vo(t){for(var e,n=1,r=0,o=t[0][1],i=t.length;i>n;++n)(e=t[n][1])>o&&(r=n,o=e);return r}function yo(t){return t.reduce(_o,0)}function _o(t,e){return t+e[1]}function bo(t,e){return wo(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function wo(t,e){for(var n=-1,r=+t[0],o=(t[1]-r)/e,i=[];++n<=e;)i[n]=o*n+r;return i}function ko(t){return[la.min(t),la.max(t)]}function xo(t,e){return t.value-e.value}function Co(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function To(t,e){t._pack_next=e,e._pack_prev=t}function Eo(t,e){var n=e.x-t.x,r=e.y-t.y,o=t.r+e.r;return.999*o*o>n*n+r*r}function So(t){function e(t){c=Math.min(t.x-t.r,c),f=Math.max(t.x+t.r,f),d=Math.min(t.y-t.r,d),h=Math.max(t.y+t.r,h)}if((n=t.children)&&(u=n.length)){var n,r,o,i,a,s,l,u,c=1/0,f=-1/0,d=1/0,h=-1/0;if(n.forEach(Ao),r=n[0],r.x=-r.r,r.y=0,e(r),u>1&&(o=n[1],o.x=o.r,o.y=0,e(o),u>2))for(i=n[2],No(r,o,i),e(i),Co(r,i),r._pack_prev=i,Co(i,o),o=r._pack_next,a=3;u>a;a++){No(r,o,i=n[a]);var p=0,g=1,m=1;for(s=o._pack_next;s!==o;s=s._pack_next,g++)if(Eo(s,i)){p=1;break}if(1==p)for(l=r._pack_prev;l!==s._pack_prev&&!Eo(l,i);l=l._pack_prev,m++);p?(m>g||g==m&&o.r<r.r?To(r,o=s):To(r=l,o),a--):(Co(r,i),o=i,e(i))}var v=(c+f)/2,y=(d+h)/2,_=0;for(a=0;u>a;a++)i=n[a],i.x-=v,i.y-=y,_=Math.max(_,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=_,n.forEach(Do)}}function Ao(t){t._pack_next=t._pack_prev=t}function Do(t){delete t._pack_next,delete t._pack_prev}function Mo(t,e,n,r){var o=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,o)for(var i=-1,a=o.length;++i<a;)Mo(o[i],e,n,r)}function No(t,e,n){var r=t.r+n.r,o=e.x-t.x,i=e.y-t.y;if(r&&(o||i)){var a=e.r+n.r,s=o*o+i*i;a*=a,r*=r;var l=.5+(r-a)/(2*s),u=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+l*o+u*i,n.y=t.y+l*i-u*o}else n.x=t.x+r,n.y=t.y}function Lo(t,e){return t.parent==e.parent?1:2}function Io(t){var e=t.children;return e.length?e[0]:t.t}function Ro(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Po(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Fo(t){for(var e,n=0,r=0,o=t.children,i=o.length;--i>=0;)e=o[i],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function $o(t,e,n){return t.a.parent===e.parent?t.a:n}function Oo(t){return 1+la.max(t,function(t){return t.y})}function qo(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function jo(t){var e=t.children;return e&&e.length?jo(e[0]):t}function Bo(t){var e,n=t.children;return n&&(e=n.length)?Bo(n[e-1]):t}function zo(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ho(t,e){var n=t.x+e[3],r=t.y+e[0],o=t.dx-e[1]-e[3],i=t.dy-e[0]-e[2];return 0>o&&(n+=o/2,o=0),0>i&&(r+=i/2,i=0),{x:n,y:r,dx:o,dy:i}}function Uo(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Wo(t){return t.rangeExtent?t.rangeExtent():Uo(t.range())}function Yo(t,e,n,r){var o=n(t[0],t[1]),i=r(e[0],e[1]);return function(t){return i(o(t))}}function Go(t,e){var n,r=0,o=t.length-1,i=t[r],a=t[o];return i>a&&(n=r,r=o,o=n,n=i,i=a,a=n),t[r]=e.floor(i),t[o]=e.ceil(a),t}function Vo(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:kl}function Qo(t,e,n,r){var o=[],i=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)o.push(n(t[a-1],t[a])),i.push(r(e[a-1],e[a]));return function(e){var n=la.bisect(t,e,1,s)-1;return i[n](o[n](e))}}function Xo(t,e,n,r){function o(){var o=Math.min(t.length,e.length)>2?Qo:Yo,l=r?Qr:Vr;return a=o(t,e,l,n),s=o(e,t,l,_r),i}function i(t){return a(t)}var a,s;return i.invert=function(t){return s(t)},i.domain=function(e){return arguments.length?(t=e.map(Number),o()):t},i.range=function(t){return arguments.length?(e=t,o()):e},i.rangeRound=function(t){return i.range(t).interpolate($r)},i.clamp=function(t){return arguments.length?(r=t,o()):r},i.interpolate=function(t){return arguments.length?(n=t,o()):n},i.ticks=function(e){return ti(t,e)},i.tickFormat=function(e,n){return ei(t,e,n)},i.nice=function(e){return Jo(t,e),o()},i.copy=function(){return Xo(t,e,n,r)},o()}function Ko(t,e){return la.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Jo(t,e){return Go(t,Vo(Zo(t,e)[2])),Go(t,Vo(Zo(t,e)[2])),t}function Zo(t,e){null==e&&(e=10);var n=Uo(t),r=n[1]-n[0],o=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),i=e/r*o;return.15>=i?o*=10:.35>=i?o*=5:.75>=i&&(o*=2),n[0]=Math.ceil(n[0]/o)*o,n[1]=Math.floor(n[1]/o)*o+.5*o,n[2]=o,n}function ti(t,e){return la.range.apply(la,Zo(t,e))}function ei(t,e,n){var r=Zo(t,e);if(n){var o=cs.exec(n);if(o.shift(),"s"===o[8]){var i=la.formatPrefix(Math.max(ya(r[0]),ya(r[1])));return o[7]||(o[7]="."+ni(i.scale(r[2]))),o[8]="f",n=la.format(o.join("")),function(t){return n(i.scale(t))+i.symbol}}o[7]||(o[7]="."+ri(o[8],r)),n=o.join("")}else n=",."+ni(r[2])+"f";return la.format(n)}function ni(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function ri(t,e){var n=ni(e[2]);return t in xl?Math.abs(n-ni(Math.max(ya(e[0]),ya(e[1]))))+ +("e"!==t):n-2*("%"===t)}function oi(t,e,n,r){function o(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function i(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(o(e))}return a.invert=function(e){return i(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(o)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(o)),a):e},a.nice=function(){var e=Go(r.map(o),n?Math:Tl);return t.domain(e),r=e.map(i),a},a.ticks=function(){var t=Uo(r),a=[],s=t[0],l=t[1],u=Math.floor(o(s)),c=Math.ceil(o(l)),f=e%1?2:e;if(isFinite(c-u)){if(n){for(;c>u;u++)for(var d=1;f>d;d++)a.push(i(u)*d);a.push(i(u))}else for(a.push(i(u));u++<c;)for(var d=f-1;d>0;d--)a.push(i(u)*d);for(u=0;a[u]<s;u++);for(c=a.length;a[c-1]>l;c--);a=a.slice(u,c)}return a},a.tickFormat=function(t,n){if(!arguments.length)return Cl;arguments.length<2?n=Cl:"function"!=typeof n&&(n=la.format(n));var r=Math.max(1,e*t/a.ticks().length);return function(t){var a=t/i(Math.round(o(t)));return e-.5>a*e&&(a*=e),r>=a?n(t):""}},a.copy=function(){return oi(t.copy(),e,n,r)},Ko(a,t)}function ii(t,e,n){function r(e){return t(o(e))}var o=ai(e),i=ai(1/e);return r.invert=function(e){return i(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(o)),r):n},r.ticks=function(t){return ti(n,t)},r.tickFormat=function(t,e){return ei(n,t,e)},r.nice=function(t){return r.domain(Jo(n,t))},r.exponent=function(a){return arguments.length?(o=ai(e=a),i=ai(1/e),t.domain(n.map(o)),r):e},r.copy=function(){return ii(t.copy(),e,n)},Ko(r,t)}function ai(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function si(t,e){function n(n){return i[((o.get(n)||("range"===e.t?o.set(n,t.push(n)):NaN))-1)%i.length]}function r(e,n){return la.range(t.length).map(function(t){return e+n*t})}var o,i,a;return n.domain=function(r){if(!arguments.length)return t;t=[],o=new u;for(var i,a=-1,s=r.length;++a<s;)o.has(i=r[a])||o.set(i,t.push(i));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(i=t,a=0,e={t:"range",a:arguments},n):i},n.rangePoints=function(o,s){arguments.length<2&&(s=0);var l=o[0],u=o[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+s);return i=r(l+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(o,s){arguments.length<2&&(s=0);var l=o[0],u=o[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+s)|0;return i=r(l+Math.round(c*s/2+(u-l-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(o,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=o[1]<o[0],c=o[u-0],f=o[1-u],d=(f-c)/(t.length-s+2*l);return i=r(c+d*l,d),u&&i.reverse(),a=d*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(o,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=o[1]<o[0],c=o[u-0],f=o[1-u],d=Math.floor((f-c)/(t.length-s+2*l));return i=r(c+Math.round((f-c-(t.length-s)*d)/2),d),u&&i.reverse(),a=Math.round(d*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Uo(e.a[0])},n.copy=function(){return si(t,e)},n.domain(t)}function li(t,e){function i(){var n=0,r=e.length;for(s=[];++n<r;)s[n-1]=la.quantile(t,n/r);return a}function a(t){return isNaN(t=+t)?void 0:e[la.bisect(s,t)]}var s;return a.domain=function(e){return arguments.length?(t=e.map(r).filter(o).sort(n),i()):t},a.range=function(t){return arguments.length?(e=t,i()):e},a.quantiles=function(){return s},a.invertExtent=function(n){return n=e.indexOf(n),0>n?[NaN,NaN]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},a.copy=function(){return li(t,e)},i()}function ui(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(i*(e-t))))]}function o(){return i=n.length/(e-t),a=n.length-1,r}var i,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],o()):[t,e]},r.range=function(t){return arguments.length?(n=t,o()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=0>e?NaN:e/i+t,[e,e+1/i]},r.copy=function(){return ui(t,e,n)},o()}function ci(t,e){function n(n){return n>=n?e[la.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ci(t,e)},n}function fi(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return ti(t,e)},e.tickFormat=function(e,n){return ei(t,e,n)},e.copy=function(){return fi(t)},e}function di(){return 0}function hi(t){return t.innerRadius}function pi(t){return t.outerRadius}function gi(t){return t.startAngle}function mi(t){return t.endAngle}function vi(t){return t&&t.padAngle}function yi(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function _i(t,e,n,r,o){var i=t[0]-e[0],a=t[1]-e[1],s=(o?r:-r)/Math.sqrt(i*i+a*a),l=s*a,u=-s*i,c=t[0]+l,f=t[1]+u,d=e[0]+l,h=e[1]+u,p=(c+d)/2,g=(f+h)/2,m=d-c,v=h-f,y=m*m+v*v,_=n-r,b=c*h-d*f,w=(0>v?-1:1)*Math.sqrt(Math.max(0,_*_*y-b*b)),k=(b*v-m*w)/y,x=(-b*m-v*w)/y,C=(b*v+m*w)/y,T=(-b*m+v*w)/y,E=k-p,S=x-g,A=C-p,D=T-g;return E*E+S*S>A*A+D*D&&(k=C,x=T),[[k-l,x-u],[k*n/_,x*n/_]]}function bi(t){function e(e){function a(){u.push("M",i(t(c),s))}for(var l,u=[],c=[],f=-1,d=e.length,h=Et(n),p=Et(r);++f<d;)o.call(this,l=e[f],f)?c.push([+h.call(this,l,f),+p.call(this,l,f)]):c.length&&(a(),c=[]);return c.length&&a(),u.length?u.join(""):null}var n=Dn,r=Mn,o=De,i=wi,a=i.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?i=t:(i=Nl.get(t)||wi).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function wi(t){return t.length>1?t.join("L"):t+"Z"}function ki(t){return t.join("L")+"Z"}function xi(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&o.push("H",r[0]),o.join("")}function Ci(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("V",(r=t[e])[1],"H",r[0]);return o.join("")}function Ti(t){for(var e=0,n=t.length,r=t[0],o=[r[0],",",r[1]];++e<n;)o.push("H",(r=t[e])[0],"V",r[1]);return o.join("")}function Ei(t,e){return t.length<4?wi(t):t[1]+Di(t.slice(1,-1),Mi(t,e))}function Si(t,e){return t.length<3?ki(t):t[0]+Di((t.push(t[0]),t),Mi([t[t.length-2]].concat(t,[t[1]]),e))}function Ai(t,e){return t.length<3?wi(t):t[0]+Di(t,Mi(t,e))}function Di(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return wi(t);var n=t.length!=e.length,r="",o=t[0],i=t[1],a=e[0],s=a,l=1;if(n&&(r+="Q"+(i[0]-2*a[0]/3)+","+(i[1]-2*a[1]/3)+","+i[0]+","+i[1],o=t[1],l=2),e.length>1){s=e[1],i=t[l],l++,r+="C"+(o[0]+a[0])+","+(o[1]+a[1])+","+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1];for(var u=2;u<e.length;u++,l++)i=t[l],s=e[u],r+="S"+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1]}if(n){var c=t[l];r+="Q"+(i[0]+2*s[0]/3)+","+(i[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Mi(t,e){for(var n,r=[],o=(1-e)/2,i=t[0],a=t[1],s=1,l=t.length;++s<l;)n=i,i=a,a=t[s],r.push([o*(a[0]-n[0]),o*(a[1]-n[1])]);return r}function Ni(t){if(t.length<3)return wi(t);var e=1,n=t.length,r=t[0],o=r[0],i=r[1],a=[o,o,o,(r=t[1])[0]],s=[i,i,i,r[1]],l=[o,",",i,"L",Pi(Rl,a),",",Pi(Rl,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Fi(l,a,s);return t.pop(),l.push("L",r),l.join("")}function Li(t){if(t.length<4)return wi(t);for(var e,n=[],r=-1,o=t.length,i=[0],a=[0];++r<3;)e=t[r],i.push(e[0]),a.push(e[1]);for(n.push(Pi(Rl,i)+","+Pi(Rl,a)),--r;++r<o;)e=t[r],i.shift(),i.push(e[0]),a.shift(),a.push(e[1]),Fi(n,i,a);return n.join("")}function Ii(t){for(var e,n,r=-1,o=t.length,i=o+4,a=[],s=[];++r<4;)n=t[r%o],a.push(n[0]),s.push(n[1]);for(e=[Pi(Rl,a),",",Pi(Rl,s)],--r;++r<i;)n=t[r%o],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Fi(e,a,s);return e.join("")}function Ri(t,e){var n=t.length-1;if(n)for(var r,o,i=t[0][0],a=t[0][1],s=t[n][0]-i,l=t[n][1]-a,u=-1;++u<=n;)r=t[u],o=u/n,r[0]=e*r[0]+(1-e)*(i+o*s),r[1]=e*r[1]+(1-e)*(a+o*l);return Ni(t)}function Pi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Fi(t,e,n){t.push("C",Pi(Ll,e),",",Pi(Ll,n),",",Pi(Il,e),",",Pi(Il,n),",",Pi(Rl,e),",",Pi(Rl,n))}function $i(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Oi(t){for(var e=0,n=t.length-1,r=[],o=t[0],i=t[1],a=r[0]=$i(o,i);++e<n;)r[e]=(a+(a=$i(o=i,i=t[e+1])))/2;return r[e]=a,r}function qi(t){for(var e,n,r,o,i=[],a=Oi(t),s=-1,l=t.length-1;++s<l;)e=$i(t[s],t[s+1]),ya(e)<Pa?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,(o=n*n+r*r)>9&&(o=3*e/Math.sqrt(o),a[s]=o*n,a[s+1]=o*r));for(s=-1;++s<=l;)o=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),i.push([o||0,a[s]*o||0]);return i}function ji(t){return t.length<3?wi(t):t[0]+Di(t,qi(t))}function Bi(t){for(var e,n,r,o=-1,i=t.length;++o<i;)e=t[o],n=e[0],r=e[1]-ja,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function zi(t){function e(e){function l(){g.push("M",s(t(v),f),c,u(t(m.reverse()),f),"Z")}for(var d,h,p,g=[],m=[],v=[],y=-1,_=e.length,b=Et(n),w=Et(o),k=n===r?function(){return h}:Et(r),x=o===i?function(){return p}:Et(i);++y<_;)a.call(this,d=e[y],y)?(m.push([h=+b.call(this,d,y),p=+w.call(this,d,y)]),v.push([+k.call(this,d,y),+x.call(this,d,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=Dn,r=Dn,o=0,i=Mn,a=De,s=wi,l=s.key,u=s,c="L",f=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(o=i=t,e):i},e.y0=function(t){return arguments.length?(o=t,e):o},e.y1=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=Nl.get(t)||wi).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(f=t,e):f},e}function Hi(t){return t.radius}function Ui(t){return[t.x,t.y]}function Wi(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-ja;return[n*Math.cos(r),n*Math.sin(r)]}}function Yi(){return 64}function Gi(){return"circle"}function Vi(t){var e=Math.sqrt(t/$a);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Qi(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Xi(t,e,n){return xa(t,Bl),t.namespace=e,t.id=n,t}function Ki(t,e,n,r){var o=t.id,i=t.namespace;return H(t,"function"==typeof n?function(t,a,s){t[i][o].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[i][o].tween.set(e,n)}))}function Ji(t){return null==t&&(t=""),function(){this.textContent=t}}function Zi(t){return null==t?"__transition__":"__transition_"+t+"__"}function ta(t,e,n,r,o){function i(t){var e=g.delay;return c.t=e+l,t>=e?a(t-e):void(c.c=a)}function a(n){var o=p.active,i=p[o];i&&(i.timer.c=null,i.timer.t=NaN,--p.count,delete p[o],i.event&&i.event.interrupt.call(t,t.__data__,i.index));for(var a in p)if(r>+a){var u=p[a];u.timer.c=null,u.timer.t=NaN,--p.count,delete p[a]}c.c=s,Nt(function(){return c.c&&s(n||1)&&(c.c=null,c.t=NaN),1},0,l),p.active=r,g.event&&g.event.start.call(t,t.__data__,e),h=[],g.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&h.push(r)}),d=g.ease,f=g.duration}function s(o){for(var i=o/f,a=d(i),s=h.length;s>0;)h[--s].call(t,a);return i>=1?(g.event&&g.event.end.call(t,t.__data__,e),--p.count?delete p[r]:delete t[n],1):void 0}var l,c,f,d,h,p=t[n]||(t[n]={active:0,count:0}),g=p[r];g||(l=o.time,c=Nt(i,0,l),g=p[r]={tween:new u,time:l,timer:c,delay:o.delay,duration:o.duration,ease:o.ease,index:e},o=null,++p.count)}function ea(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function na(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function ra(t){return t.toISOString()}function oa(t,e,n){function r(e){return t(e)}function o(t,n){var r=t[1]-t[0],o=r/n,i=la.bisect(Xl,o);return i==Xl.length?[e.year,Zo(t.map(function(t){return t/31536e6}),n)[2]]:i?e[o/Xl[i-1]<Xl[i]/o?i-1:i]:[Zl,Zo(t,n)[2]]}return r.invert=function(e){return ia(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(ia)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,ia(+n+1),e).length}var i=r.domain(),a=Uo(i),s=null==t?o(a,10):"number"==typeof t&&o(a,t);return s&&(t=s[0],e=s[1]),r.domain(Go(i,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=ia(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=ia(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Uo(r.domain()),i=null==t?o(n,10):"number"==typeof t?o(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],ia(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return oa(t.copy(),e,n)},Ko(r,t)}function ia(t){return new Date(t)}function aa(t){return JSON.parse(t.responseText)}function sa(t){var e=fa.createRange();return e.selectNode(fa.body),e.createContextualFragment(t.responseText)}var la={version:"3.5.17"},ua=[].slice,ca=function(t){return ua.call(t)},fa=this.document;if(fa)try{ca(fa.documentElement.childNodes)[0].nodeType}catch(t){ca=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),fa)try{fa.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var da=this.Element.prototype,ha=da.setAttribute,pa=da.setAttributeNS,ga=this.CSSStyleDeclaration.prototype,ma=ga.setProperty;da.setAttribute=function(t,e){ha.call(this,t,e+"")},da.setAttributeNS=function(t,e,n){pa.call(this,t,e,n+"")},ga.setProperty=function(t,e,n){ma.call(this,t,e+"",n)}}la.ascending=n,la.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},la.min=function(t,e){var n,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=t[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=t[o])&&n>r&&(n=r)}else{for(;++o<i;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=e.call(t,t[o],o))&&n>r&&(n=r)}return n},la.max=function(t,e){var n,r,o=-1,i=t.length;if(1===arguments.length){for(;++o<i;)if(null!=(r=t[o])&&r>=r){n=r;break}for(;++o<i;)null!=(r=t[o])&&r>n&&(n=r)}else{for(;++o<i;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=r;break}for(;++o<i;)null!=(r=e.call(t,t[o],o))&&r>n&&(n=r)}return n},la.extent=function(t,e){var n,r,o,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=t[i])&&(n>r&&(n=r),r>o&&(o=r))}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=o=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&(n>r&&(n=r),r>o&&(o=r))}return[n,o]},la.sum=function(t,e){var n,r=0,i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)o(n=+t[a])&&(r+=n);else for(;++a<i;)o(n=+e.call(t,t[a],a))&&(r+=n);return r},la.mean=function(t,e){var n,i=0,a=t.length,s=-1,l=a;if(1===arguments.length)for(;++s<a;)o(n=r(t[s]))?i+=n:--l;else for(;++s<a;)o(n=r(e.call(t,t[s],s)))?i+=n:--l;return l?i/l:void 0},la.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),o=+t[r-1],i=n-r;return i?o+i*(t[r]-o):o},la.median=function(t,e){var i,a=[],s=t.length,l=-1;if(1===arguments.length)for(;++l<s;)o(i=r(t[l]))&&a.push(i);else for(;++l<s;)o(i=r(e.call(t,t[l],l)))&&a.push(i);return a.length?la.quantile(a.sort(n),.5):void 0},la.variance=function(t,e){var n,i,a=t.length,s=0,l=0,u=-1,c=0;if(1===arguments.length)for(;++u<a;)o(n=r(t[u]))&&(i=n-s,s+=i/++c,l+=i*(n-s));else for(;++u<a;)o(n=r(e.call(t,t[u],u)))&&(i=n-s,s+=i/++c,l+=i*(n-s));return c>1?l/(c-1):void 0},la.deviation=function(){var t=la.variance.apply(this,arguments);return t?Math.sqrt(t):t};var va=i(n);la.bisectLeft=va.left,la.bisect=la.bisectRight=va.right,la.bisector=function(t){return i(1===t.length?function(e,r){return n(t(e),r)}:t)},la.shuffle=function(t,e,n){(i=arguments.length)<3&&(n=t.length,2>i&&(e=0));for(var r,o,i=n-e;i;)o=Math.random()*i--|0,r=t[i+e],t[i+e]=t[o+e],t[o+e]=r;return t},la.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},la.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],o=new Array(0>n?0:n);n>e;)o[e]=[r,r=t[++e]];return o},la.transpose=function(t){if(!(o=t.length))return[];for(var e=-1,n=la.min(t,a),r=new Array(n);++e<n;)for(var o,i=-1,s=r[e]=new Array(o);++i<o;)s[i]=t[i][e];return r},la.zip=function(){return la.transpose(arguments)},la.keys=function(t){var e=[];for(var n in t)e.push(n);return e},la.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},la.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},la.merge=function(t){for(var e,n,r,o=t.length,i=-1,a=0;++i<o;)a+=t[i].length;for(n=new Array(a);--o>=0;)for(r=t[o],e=r.length;--e>=0;)n[--a]=r[e];return n};var ya=Math.abs;la.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,o=[],i=s(ya(n)),a=-1;if(t*=i,e*=i,0>(n*=i))for(;(r=t+n*++a)>e;)o.push(r/i);else for(;(r=t+n*++a)<e;)o.push(r/i);return o},la.map=function(t,e){var n=new u;if(t instanceof u)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,o=-1,i=t.length;if(1===arguments.length)for(;++o<i;)n.set(o,t[o]);else for(;++o<i;)n.set(e.call(t,r=t[o],o),r)}else for(var a in t)n.set(a,t[a]);return n};var _a="__proto__",ba="\0";l(u,{has:d,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:h,keys:p,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:f(e),value:this._[e]});return t},size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,f(e),this._[e])}}),la.nest=function(){function t(e,a,s){if(s>=i.length)return r?r.call(o,a):n?a.sort(n):a;for(var l,c,f,d,h=-1,p=a.length,g=i[s++],m=new u;++h<p;)(d=m.get(l=g(c=a[h])))?d.push(c):m.set(l,[c]);return e?(c=e(),f=function(n,r){c.set(n,t(e,r,s))}):(c={},f=function(n,r){c[n]=t(e,r,s)}),m.forEach(f),c}function e(t,n){if(n>=i.length)return t;var r=[],o=a[n++];return t.forEach(function(t,o){r.push({key:t,values:e(o,n)})}),o?r.sort(function(t,e){return o(t.key,e.key)}):r}var n,r,o={},i=[],a=[];return o.map=function(e,n){return t(n,e,0)},o.entries=function(n){return e(t(la.map,n,0),0)},o.key=function(t){return i.push(t),o},o.sortKeys=function(t){return a[i.length-1]=t,o},o.sortValues=function(t){return n=t,o},o.rollup=function(t){return r=t,o},o},la.set=function(t){var e=new v;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},l(v,{has:d,add:function(t){return this._[c(t+="")]=!0,t},remove:h,values:p,size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,f(e))}}),la.behavior={},la.rebind=function(t,e){for(var n,r=1,o=arguments.length;++r<o;)t[n=arguments[r]]=_(t,e,e[n]);return t};var wa=["webkit","ms","moz","Moz","o","O"];la.dispatch=function(){for(var t=new k,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=x(t);return t},k.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},la.event=null,la.requote=function(t){return t.replace(ka,"\\$&")};var ka=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,xa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Ca=function(t,e){return e.querySelector(t)},Ta=function(t,e){return e.querySelectorAll(t)},Ea=function(t,e){var n=t.matches||t[b(t,"matchesSelector")];return(Ea=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Ca=function(t,e){return Sizzle(t,e)[0]||null},Ta=Sizzle,Ea=Sizzle.matchesSelector),la.selection=function(){return la.select(fa.documentElement)};var Sa=la.selection.prototype=[];Sa.select=function(t){var e,n,r,o,i=[];t=A(t);for(var a=-1,s=this.length;++a<s;){i.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var l=-1,u=r.length;++l<u;)(o=r[l])?(e.push(n=t.call(o,o.__data__,l,a)),n&&"__data__"in o&&(n.__data__=o.__data__)):e.push(null)}return S(i)},Sa.selectAll=function(t){var e,n,r=[];t=D(t);for(var o=-1,i=this.length;++o<i;)for(var a=this[o],s=-1,l=a.length;++s<l;)(n=a[s])&&(r.push(e=ca(t.call(n,n.__data__,s,o))),e.parentNode=n);return S(r)};var Aa="http://www.w3.org/1999/xhtml",Da={svg:"http://www.w3.org/2000/svg",xhtml:Aa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};la.ns={prefix:Da,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Da.hasOwnProperty(n)?{space:Da[n],local:t}:t}},Sa.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=la.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(M(e,t[e]));return this}return this.each(M(t,e))},Sa.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=I(t)).length,o=-1;if(e=n.classList){for(;++o<r;)if(!e.contains(t[o]))return!1}else for(e=n.getAttribute("class");++o<r;)if(!L(t[o]).test(e))return!1;return!0}for(e in t)this.each(R(e,t[e]));return this}return this.each(R(t,e))},Sa.style=function(t,n,r){var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(n="");for(r in t)this.each(F(r,t[r],n));return this}if(2>o){var i=this.node();return e(i).getComputedStyle(i,null).getPropertyValue(t)}r=""}return this.each(F(t,n,r))},Sa.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each($(e,t[e]));return this}return this.each($(t,e))},Sa.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Sa.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Sa.append=function(t){return t=O(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Sa.insert=function(t,e){return t=O(t),e=A(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Sa.remove=function(){return this.each(q)},Sa.data=function(t,e){function n(t,n){
var r,o,i,a=t.length,f=n.length,d=Math.min(a,f),h=new Array(f),p=new Array(f),g=new Array(a);if(e){var m,v=new u,y=new Array(a);for(r=-1;++r<a;)(o=t[r])&&(v.has(m=e.call(o,o.__data__,r))?g[r]=o:v.set(m,o),y[r]=m);for(r=-1;++r<f;)(o=v.get(m=e.call(n,i=n[r],r)))?!0!==o&&(h[r]=o,o.__data__=i):p[r]=j(i),v.set(m,!0);for(r=-1;++r<a;)r in y&&!0!==v.get(y[r])&&(g[r]=t[r])}else{for(r=-1;++r<d;)o=t[r],i=n[r],o?(o.__data__=i,h[r]=o):p[r]=j(i);for(;f>r;++r)p[r]=j(n[r]);for(;a>r;++r)g[r]=t[r]}p.update=h,p.parentNode=h.parentNode=g.parentNode=t.parentNode,s.push(p),l.push(h),c.push(g)}var r,o,i=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++i<a;)(o=r[i])&&(t[i]=o.__data__);return t}var s=U([]),l=S([]),c=S([]);if("function"==typeof t)for(;++i<a;)n(r=this[i],t.call(r,r.parentNode.__data__,i));else for(;++i<a;)n(r=this[i],t);return l.enter=function(){return s},l.exit=function(){return c},l},Sa.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Sa.filter=function(t){var e,n,r,o=[];"function"!=typeof t&&(t=B(t));for(var i=0,a=this.length;a>i;i++){o.push(e=[]),e.parentNode=(n=this[i]).parentNode;for(var s=0,l=n.length;l>s;s++)(r=n[s])&&t.call(r,r.__data__,s,i)&&e.push(r)}return S(o)},Sa.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],o=r.length-1,i=r[o];--o>=0;)(n=r[o])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},Sa.sort=function(t){t=z.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Sa.each=function(t){return H(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Sa.call=function(t){var e=ca(arguments);return t.apply(e[0]=this,e),this},Sa.empty=function(){return!this.node()},Sa.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,o=n.length;o>r;r++){var i=n[r];if(i)return i}return null},Sa.size=function(){var t=0;return H(this,function(){++t}),t};var Ma=[];la.selection.enter=U,la.selection.enter.prototype=Ma,Ma.append=Sa.append,Ma.empty=Sa.empty,Ma.node=Sa.node,Ma.call=Sa.call,Ma.size=Sa.size,Ma.select=function(t){for(var e,n,r,o,i,a=[],s=-1,l=this.length;++s<l;){r=(o=this[s]).update,a.push(e=[]),e.parentNode=o.parentNode;for(var u=-1,c=o.length;++u<c;)(i=o[u])?(e.push(r[u]=n=t.call(o.parentNode,i.__data__,u,s)),n.__data__=i.__data__):e.push(null)}return S(a)},Ma.insert=function(t,e){return arguments.length<2&&(e=W(this)),Sa.insert.call(this,t,e)},la.select=function(e){var n;return"string"==typeof e?(n=[Ca(e,fa)],n.parentNode=fa.documentElement):(n=[e],n.parentNode=t(e)),S([n])},la.selectAll=function(t){var e;return"string"==typeof t?(e=ca(Ta(t,fa)),e.parentNode=fa.documentElement):(e=ca(t),e.parentNode=null),S([e])},Sa.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e=!1);for(n in t)this.each(Y(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(Y(t,e,n))};var Na=la.map({mouseenter:"mouseover",mouseleave:"mouseout"});fa&&Na.forEach(function(t){"on"+t in fa&&Na.remove(t)});var La,Ia=0;la.mouse=function(t){return X(t,T())};var Ra=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;la.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=T().changedTouches),e)for(var r,o=0,i=e.length;i>o;++o)if((r=e[o]).identifier===n)return X(t,r)},la.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",a)}function n(t,e,n,i,a){return function(){function s(){var t,n,r=e(d,g);r&&(t=r[0]-_[0],n=r[1]-_[1],p|=t|n,_=r,h({type:"drag",x:r[0]+u[0],y:r[1]+u[1],dx:t,dy:n}))}function l(){e(d,g)&&(v.on(i+m,null).on(a+m,null),y(p),h({type:"dragend"}))}var u,c=this,f=la.event.target.correspondingElement||la.event.target,d=c.parentNode,h=r.of(c,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=la.select(n(f)).on(i+m,s).on(a+m,l),y=Q(f),_=e(d,g);o?(u=o.apply(c,arguments),u=[u.x-_[0],u.y-_[1]]):u=[0,0],h({type:"dragstart"})}}var r=E(t,"drag","dragstart","dragend"),o=null,i=n(w,la.mouse,e,"mousemove","mouseup"),a=n(K,la.touch,y,"touchmove","touchend");return t.origin=function(e){return arguments.length?(o=e,t):o},la.rebind(t,r,"on")},la.touches=function(t,e){return arguments.length<2&&(e=T().touches),e?ca(e).map(function(e){var n=X(t,e);return n.identifier=e.identifier,n}):[]};var Pa=1e-6,Fa=Pa*Pa,$a=Math.PI,Oa=2*$a,qa=Oa-Pa,ja=$a/2,Ba=$a/180,za=180/$a,Ha=Math.SQRT2,Ua=2,Wa=4;la.interpolateZoom=function(t,e){var n,r,o=t[0],i=t[1],a=t[2],s=e[0],l=e[1],u=e[2],c=s-o,f=l-i,d=c*c+f*f;if(Fa>d)r=Math.log(u/a)/Ha,n=function(t){return[o+t*c,i+t*f,a*Math.exp(Ha*t*r)]};else{var h=Math.sqrt(d),p=(u*u-a*a+Wa*d)/(2*a*Ua*h),g=(u*u-a*a-Wa*d)/(2*u*Ua*h),m=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(g*g+1)-g);r=(v-m)/Ha,n=function(t){var e=t*r,n=rt(m),s=a/(Ua*h)*(n*ot(Ha*e+m)-nt(m));return[o+s*c,i+s*f,a*n/rt(Ha*e+m)]}}return n.duration=1e3*r,n},la.behavior.zoom=function(){function t(t){t.on(N,f).on(Ga+".zoom",h).on("dblclick.zoom",p).on(R,d)}function n(t){return[(t[0]-T.x)/T.k,(t[1]-T.y)/T.k]}function r(t){return[t[0]*T.k+T.x,t[1]*T.k+T.y]}function o(t){T.k=Math.max(A[0],Math.min(A[1],t))}function i(t,e){e=r(e),T.x+=t[0]-e[0],T.y+=t[1]-e[1]}function a(e,n,r,a){e.__chart__={x:T.x,y:T.y,k:T.k},o(Math.pow(2,a)),i(m=n,r),e=la.select(e),D>0&&(e=e.transition().duration(D)),e.call(t.event)}function s(){w&&w.domain(b.range().map(function(t){return(t-T.x)/T.k}).map(b.invert)),x&&x.domain(k.range().map(function(t){return(t-T.y)/T.k}).map(k.invert))}function l(t){M++||t({type:"zoomstart"})}function u(t){s(),t({type:"zoom",scale:T.k,translate:[T.x,T.y]})}function c(t){--M||(t({type:"zoomend"}),m=null)}function f(){function t(){s=1,i(la.mouse(o),d),u(a)}function r(){f.on(L,null).on(I,null),h(s),c(a)}var o=this,a=P.of(o,arguments),s=0,f=la.select(e(o)).on(L,t).on(I,r),d=n(la.mouse(o)),h=Q(o);jl.call(o),l(a)}function d(){function t(){var t=la.touches(p);return h=T.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=n(t))}),t}function e(){var e=la.event.target;la.select(e).on(b,r).on(w,s),k.push(e);for(var n=la.event.changedTouches,o=0,i=n.length;i>o;++o)m[n[o].identifier]=null;var l=t(),u=Date.now();if(1===l.length){if(500>u-_){var c=l[0];a(p,c,m[c.identifier],Math.floor(Math.log(T.k)/Math.LN2)+1),C()}_=u}else if(l.length>1){var c=l[0],f=l[1],d=c[0]-f[0],h=c[1]-f[1];v=d*d+h*h}}function r(){var t,e,n,r,a=la.touches(p);jl.call(p);for(var s=0,l=a.length;l>s;++s,r=null)if(n=a[s],r=m[n.identifier]){if(e)break;t=n,e=r}if(r){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,f=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],o(f*h)}_=null,i(t,e),u(g)}function s(){if(la.event.touches.length){for(var e=la.event.changedTouches,n=0,r=e.length;r>n;++n)delete m[e[n].identifier];for(var o in m)return void t()}la.selectAll(k).on(y,null),x.on(N,f).on(R,d),E(),c(g)}var h,p=this,g=P.of(p,arguments),m={},v=0,y=".zoom-"+la.event.changedTouches[0].identifier,b="touchmove"+y,w="touchend"+y,k=[],x=la.select(p),E=Q(p);e(),l(g),x.on(N,null).on(R,e)}function h(){var t=P.of(this,arguments);y?clearTimeout(y):(jl.call(this),g=n(m=v||la.mouse(this)),l(t)),y=setTimeout(function(){y=null,c(t)},50),C(),o(Math.pow(2,.002*Ya())*T.k),i(m,g),u(t)}function p(){var t=la.mouse(this),e=Math.log(T.k)/Math.LN2;a(this,t,n(t),la.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var g,m,v,y,_,b,w,k,x,T={x:0,y:0,k:1},S=[960,500],A=Va,D=250,M=0,N="mousedown.zoom",L="mousemove.zoom",I="mouseup.zoom",R="touchstart.zoom",P=E(t,"zoomstart","zoom","zoomend");return Ga||(Ga="onwheel"in fa?(Ya=function(){return-la.event.deltaY*(la.event.deltaMode?120:1)},"wheel"):"onmousewheel"in fa?(Ya=function(){return la.event.wheelDelta},"mousewheel"):(Ya=function(){return-la.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=P.of(this,arguments),e=T;Ol?la.select(this).transition().each("start.zoom",function(){T=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var n=S[0],r=S[1],o=m?m[0]:n/2,i=m?m[1]:r/2,a=la.interpolateZoom([(o-T.x)/T.k,(i-T.y)/T.k,n/T.k],[(o-e.x)/e.k,(i-e.y)/e.k,n/e.k]);return function(e){var r=a(e),s=n/r[2];this.__chart__=T={x:o-r[0]*s,y:i-r[1]*s,k:s},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=T,l(t),u(t),c(t))})},t.translate=function(e){return arguments.length?(T={x:+e[0],y:+e[1],k:T.k},s(),t):[T.x,T.y]},t.scale=function(e){return arguments.length?(T={x:T.x,y:T.y,k:null},o(+e),s(),t):T.k},t.scaleExtent=function(e){return arguments.length?(A=null==e?Va:[+e[0],+e[1]],t):A},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(S=e&&[+e[0],+e[1]],t):S},t.duration=function(e){return arguments.length?(D=+e,t):D},t.x=function(e){return arguments.length?(w=e,b=e.copy(),T={x:0,y:0,k:1},t):w},t.y=function(e){return arguments.length?(x=e,k=e.copy(),T={x:0,y:0,k:1},t):x},la.rebind(t,P,"on")};var Ya,Ga,Va=[0,1/0];la.color=at,at.prototype.toString=function(){return this.rgb()+""},la.hsl=st;var Qa=st.prototype=new at;Qa.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Qa.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Qa.rgb=function(){return lt(this.h,this.s,this.l)},la.hcl=ut;var Xa=ut.prototype=new at;Xa.brighter=function(t){return new ut(this.h,this.c,Math.min(100,this.l+Ka*(arguments.length?t:1)))},Xa.darker=function(t){return new ut(this.h,this.c,Math.max(0,this.l-Ka*(arguments.length?t:1)))},Xa.rgb=function(){return ct(this.h,this.c,this.l).rgb()},la.lab=ft;var Ka=18,Ja=.95047,Za=1,ts=1.08883,es=ft.prototype=new at;es.brighter=function(t){return new ft(Math.min(100,this.l+Ka*(arguments.length?t:1)),this.a,this.b)},es.darker=function(t){return new ft(Math.max(0,this.l-Ka*(arguments.length?t:1)),this.a,this.b)},es.rgb=function(){return dt(this.l,this.a,this.b)},la.rgb=vt;var ns=vt.prototype=new at;ns.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,o=30;return e||n||r?(e&&o>e&&(e=o),n&&o>n&&(n=o),r&&o>r&&(r=o),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new vt(o,o,o)},ns.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new vt(t*this.r,t*this.g,t*this.b)},ns.hsl=function(){return kt(this.r,this.g,this.b)},ns.toString=function(){return"#"+bt(this.r)+bt(this.g)+bt(this.b)};var rs=la.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});rs.forEach(function(t,e){rs.set(t,yt(e))}),la.functor=Et,la.xhr=St(y),la.dsv=function(t,e){function n(t,n,i){arguments.length<3&&(i=n,n=null);var a=At(t,e,null==n?r:o(n),i);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:o(t)):n},a}function r(t){return n.parse(t.responseText)}function o(t){return function(e){return n.parse(e.responseText,t)}}function i(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var o=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(o(t),n)}:o})},n.parseRows=function(t,e){function n(){if(c>=u)return a;if(o)return o=!1,i;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(o=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(o=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u>c;){var r=t.charCodeAt(c++),s=1;if(10===r)o=!0;else if(13===r)o=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==l)continue;return t.slice(e,c-s)}return t.slice(e)}for(var r,o,i={},a={},s=[],u=t.length,c=0,f=0;(r=n())!==a;){for(var d=[];r!==i&&r!==a;)d.push(r),r=n();e&&null==(d=e(d,f++))||s.push(d)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new v,o=[];return e.forEach(function(t){for(var e in t)r.has(e)||o.push(r.add(e))}),[o.map(a).join(t)].concat(e.map(function(e){return o.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(i).join("\n")},n},la.csv=la.dsv(",","text/csv"),la.tsv=la.dsv("\t","text/tab-separated-values");var os,is,as,ss,ls=this[b(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};la.timer=function(){Nt.apply(this,arguments)},la.timer.flush=function(){It(),Rt()},la.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var us=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(Ft);la.formatPrefix=function(t,e){var n=0;return(t=+t)&&(0>t&&(t*=-1),e&&(t=la.round(t,Pt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),us[8+n/3]};var cs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,fs=la.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=la.round(t,Pt(t,e))).toFixed(Math.max(0,Math.min(20,Pt(t*(1+1e-15),e))))}}),ds=la.time={},hs=Date;qt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ps.setUTCDate.apply(this._,arguments)},setDay:function(){ps.setUTCDay.apply(this._,arguments)},setFullYear:function(){ps.setUTCFullYear.apply(this._,arguments)},setHours:function(){ps.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ps.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ps.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ps.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ps.setUTCSeconds.apply(this._,arguments)},setTime:function(){ps.setTime.apply(this._,arguments)}};var ps=Date.prototype;ds.year=jt(function(t){return t=ds.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ds.years=ds.year.range,ds.years.utc=ds.year.utc.range,ds.day=jt(function(t){var e=new hs(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ds.days=ds.day.range,ds.days.utc=ds.day.utc.range,ds.dayOfYear=function(t){var e=ds.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ds[t]=jt(function(t){return(t=ds.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ds.year(t).getDay();return Math.floor((ds.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ds[t+"s"]=n.range,ds[t+"s"].utc=n.utc.range,ds[t+"OfYear"]=function(t){var n=ds.year(t).getDay();return Math.floor((ds.dayOfYear(t)+(n+e)%7)/7)}}),ds.week=ds.sunday,ds.weeks=ds.sunday.range,ds.weeks.utc=ds.sunday.utc.range,ds.weekOfYear=ds.sundayOfYear;var gs={"-":"",_:" ",0:"0"},ms=/^\s*\d+/,vs=/^%/;la.locale=function(t){return{numberFormat:$t(t),timeFormat:zt(t)}};var ys=la.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});la.format=ys.numberFormat,la.geo={},ue.prototype={s:0,t:0,add:function(t){ce(t,this.t,_s),ce(_s.s,this.s,this),this.s?this.t+=_s.t:this.s=_s.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var _s=new ue;la.geo.stream=function(t,e){t&&bs.hasOwnProperty(t.type)?bs[t.type](t,e):fe(t,e)};var bs={Feature:function(t,e){fe(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,o=n.length;++r<o;)fe(n[r].geometry,e)}},ws={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){de(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)de(n[r],e,0)},Polygon:function(t,e){he(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,o=n.length;++r<o;)he(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,o=n.length;++r<o;)fe(n[r],e)}};la.geo.area=function(t){return ks=0,la.geo.stream(t,Cs),ks};var ks,xs=new ue,Cs={sphere:function(){ks+=4*$a},point:w,lineStart:w,lineEnd:w,polygonStart:function(){xs.reset(),Cs.lineStart=pe},polygonEnd:function(){var t=2*xs;ks+=0>t?4*$a+t:t,Cs.lineStart=Cs.lineEnd=Cs.point=w}};la.geo.bounds=function(){function t(t,e){_.push(b=[c=t,d=t]),f>e&&(f=e),e>h&&(h=e)}function e(e,n){var r=ge([e*Ba,n*Ba]);if(v){var o=ve(v,r),i=[o[1],-o[0],0],a=ve(i,o);be(a),a=we(a);var l=e-p,u=l>0?1:-1,g=a[0]*za*u,m=ya(l)>180;if(m^(g>u*p&&u*e>g)){var y=a[1]*za;y>h&&(h=y)}else if(g=(g+360)%360-180,m^(g>u*p&&u*e>g)){var y=-a[1]*za;f>y&&(f=y)}else f>n&&(f=n),n>h&&(h=n);m?p>e?s(c,e)>s(c,d)&&(d=e):s(e,d)>s(c,d)&&(c=e):d>=c?(c>e&&(c=e),e>d&&(d=e)):e>p?s(c,e)>s(c,d)&&(d=e):s(e,d)>s(c,d)&&(c=e)}else t(e,n);v=r,p=e}function n(){w.point=e}function r(){b[0]=c,b[1]=d,w.point=t,v=null}function o(t,n){if(v){var r=t-p;y+=ya(r)>180?r+(r>0?360:-360):r}else g=t,m=n;Cs.point(t,n),e(t,n)}function i(){Cs.lineStart()}function a(){o(g,m),Cs.lineEnd(),ya(y)>Pa&&(c=-(d=180)),b[0]=c,b[1]=d,v=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,f,d,h,p,g,m,v,y,_,b,w={point:t,lineStart:n,lineEnd:r,polygonStart:function(){w.point=o,w.lineStart=i,w.lineEnd=a,y=0,Cs.polygonStart()},polygonEnd:function(){Cs.polygonEnd(),w.point=t,w.lineStart=n,w.lineEnd=r,0>xs?(c=-(d=180),f=-(h=90)):y>Pa?h=90:-Pa>y&&(f=-90),b[0]=c,b[1]=d}};return function(t){h=d=-(c=f=1/0),_=[],la.geo.stream(t,w);var e=_.length;if(e){_.sort(l);for(var n,r=1,o=_[0],i=[o];e>r;++r)n=_[r],u(n[0],o)||u(n[1],o)?(s(o[0],n[1])>s(o[0],o[1])&&(o[1]=n[1]),s(n[0],o[1])>s(o[0],o[1])&&(o[0]=n[0])):i.push(o=n);for(var a,n,p=-1/0,e=i.length-1,r=0,o=i[e];e>=r;o=n,++r)n=i[r],(a=s(o[1],n[0]))>p&&(p=a,c=n[0],d=o[1])}return _=b=null,c===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,f],[d,h]]}}(),la.geo.centroid=function(t){Ts=Es=Ss=As=Ds=Ms=Ns=Ls=Is=Rs=Ps=0,la.geo.stream(t,Fs);var e=Is,n=Rs,r=Ps,o=e*e+n*n+r*r;return Fa>o&&(e=Ms,n=Ns,r=Ls,Pa>Es&&(e=Ss,n=As,r=Ds),o=e*e+n*n+r*r,Fa>o)?[NaN,NaN]:[Math.atan2(n,e)*za,et(r/Math.sqrt(o))*za]};var Ts,Es,Ss,As,Ds,Ms,Ns,Ls,Is,Rs,Ps,Fs={sphere:w,point:xe,lineStart:Te,lineEnd:Ee,polygonStart:function(){Fs.lineStart=Se},polygonEnd:function(){Fs.lineStart=Te}},$s=Ie(De,$e,qe,[-$a,-$a/2]),Os=1e9;la.geo.clipExtent=function(){var t,e,n,r,o,i,a={stream:function(t){return o&&(o.valid=!1),o=i(t),o.valid=!0,o},extent:function(s){return arguments.length?(i=He(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),o&&(o.valid=!1,o=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(la.geo.conicEqualArea=function(){return Ue(We)}).raw=We,la.geo.albers=function(){return la.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},la.geo.albersUsa=function(){function t(t){var i=t[0],a=t[1];return e=null,n(i,a),e||(r(i,a),e)||o(i,a),e}var e,n,r,o,i=la.geo.albers(),a=la.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=la.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,o=(t[1]-n[1])/e;return(o>=.12&&.234>o&&r>=-.425&&-.214>r?a:o>=.166&&.234>o&&r>=-.214&&-.115>r?s:i).invert(t)},t.stream=function(t){var e=i.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,o){e.point(t,o),n.point(t,o),r.point(t,o)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(i.precision(e),a.precision(e),s.precision(e),t):i.precision()},t.scale=function(e){return arguments.length?(i.scale(e),a.scale(.35*e),s.scale(e),t.translate(i.translate())):i.scale()},t.translate=function(e){if(!arguments.length)return i.translate();var u=i.scale(),c=+e[0],f=+e[1];return n=i.translate(e).clipExtent([[c-.455*u,f-.238*u],[c+.455*u,f+.238*u]]).stream(l).point,r=a.translate([c-.307*u,f+.201*u]).clipExtent([[c-.425*u+Pa,f+.12*u+Pa],[c-.214*u-Pa,f+.234*u-Pa]]).stream(l).point,o=s.translate([c-.205*u,f+.212*u]).clipExtent([[c-.214*u+Pa,f+.166*u+Pa],[c-.115*u-Pa,f+.234*u-Pa]]).stream(l).point,t},t.scale(1070)};var qs,js,Bs,zs,Hs,Us,Ws={point:w,lineStart:w,lineEnd:w,polygonStart:function(){js=0,Ws.lineStart=Ye},polygonEnd:function(){Ws.lineStart=Ws.lineEnd=Ws.point=w,qs+=ya(js/2)}},Ys={point:Ge,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w},Gs={point:Xe,lineStart:Ke,lineEnd:Je,polygonStart:function(){Gs.lineStart=Ze},polygonEnd:function(){Gs.point=Xe,Gs.lineStart=Ke,Gs.lineEnd=Je}};la.geo.path=function(){function t(t){return t&&("function"==typeof s&&i.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=o(i)),la.geo.stream(t,a)),i.result()}function e(){return a=null,t}var n,r,o,i,a,s=4.5;return t.area=function(t){return qs=0,la.geo.stream(t,o(Ws)),qs},t.centroid=function(t){return Ss=As=Ds=Ms=Ns=Ls=Is=Rs=Ps=0,la.geo.stream(t,o(Gs)),Ps?[Is/Ps,Rs/Ps]:Ls?[Ms/Ls,Ns/Ls]:Ds?[Ss/Ds,As/Ds]:[NaN,NaN]},t.bounds=function(t){return Hs=Us=-(Bs=zs=1/0),la.geo.stream(t,o(Ys)),[[Bs,zs],[Hs,Us]]},t.projection=function(t){return arguments.length?(o=(n=t)?t.stream||nn(t):y,e()):n},t.context=function(t){return arguments.length?(i=null==(r=t)?new Ve:new tn(t),"function"!=typeof s&&i.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(i.pointRadius(+e),+e),t):s},t.projection(la.geo.albersUsa()).context(null)},la.geo.transform=function(t){return{stream:function(e){var n=new rn(e);for(var r in t)n[r]=t[r];return n}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},la.geo.projection=an,la.geo.projectionMutator=sn,(la.geo.equirectangular=function(){return an(un)}).raw=un.invert=un,la.geo.rotation=function(t){function e(e){return e=t(e[0]*Ba,e[1]*Ba),e[0]*=za,e[1]*=za,e}return t=fn(t[0]%360*Ba,t[1]*Ba,t.length>2?t[2]*Ba:0),e.invert=function(e){return e=t.invert(e[0]*Ba,e[1]*Ba),e[0]*=za,e[1]*=za,e},e},cn.invert=un,la.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=fn(-t[0]*Ba,-t[1]*Ba,0).invert,o=[];return n(null,null,1,{point:function(t,n){o.push(t=e(t,n)),t[0]*=za,t[1]*=za}}),{type:"Polygon",coordinates:[o]}}var e,n,r=[0,0],o=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=gn((e=+r)*Ba,o*Ba),t):e},t.precision=function(r){return arguments.length?(n=gn(e*Ba,(o=+r)*Ba),t):o},t.angle(90)},la.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Ba,o=t[1]*Ba,i=e[1]*Ba,a=Math.sin(r),s=Math.cos(r),l=Math.sin(o),u=Math.cos(o),c=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((n=f*a)*n+(n=u*c-l*f*s)*n),l*c+u*f*s)},la.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return la.range(Math.ceil(i/m)*m,o,m).map(d).concat(la.range(Math.ceil(u/v)*v,l,v).map(h)).concat(la.range(Math.ceil(r/p)*p,n,p).filter(function(t){return ya(t%m)>Pa}).map(c)).concat(la.range(Math.ceil(s/g)*g,a,g).filter(function(t){return ya(t%v)>Pa}).map(f))}var n,r,o,i,a,s,l,u,c,f,d,h,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(i).concat(h(l).slice(1),d(o).reverse().slice(1),h(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(i=+e[0][0],o=+e[1][0],u=+e[0][1],l=+e[1][1],i>o&&(e=i,i=o,o=e),u>l&&(e=u,u=l,l=e),t.precision(y)):[[i,u],[o,l]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=vn(s,a,90),f=yn(r,n,y),d=vn(u,l,90),h=yn(i,o,y),t):y},t.majorExtent([[-180,-90+Pa],[180,90-Pa]]).minorExtent([[-180,-80-Pa],[180,80+Pa]])},la.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||o.apply(this,arguments)]}}var e,n,r=_n,o=bn;return t.distance=function(){return la.geo.distance(e||r.apply(this,arguments),n||o.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(o=e,n="function"==typeof e?null:e,t):o},t.precision=function(){return arguments.length?t:0},t},la.geo.interpolate=function(t,e){return wn(t[0]*Ba,t[1]*Ba,e[0]*Ba,e[1]*Ba)},la.geo.length=function(t){return Vs=0,la.geo.stream(t,Qs),Vs};var Vs,Qs={sphere:w,point:w,lineStart:kn,lineEnd:w,polygonStart:w,polygonEnd:w},Xs=xn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(la.geo.azimuthalEqualArea=function(){return an(Xs)}).raw=Xs;var Ks=xn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},y);(la.geo.azimuthalEquidistant=function(){return an(Ks)}).raw=Ks,(la.geo.conicConformal=function(){return Ue(Cn)}).raw=Cn,(la.geo.conicEquidistant=function(){return Ue(Tn)}).raw=Tn;var Js=xn(function(t){return 1/t},Math.atan);(la.geo.gnomonic=function(){return an(Js)}).raw=Js,En.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-ja]},(la.geo.mercator=function(){return Sn(En)}).raw=En;var Zs=xn(function(){return 1},Math.asin);(la.geo.orthographic=function(){return an(Zs)}).raw=Zs;var tl=xn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(la.geo.stereographic=function(){return an(tl)}).raw=tl,An.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-ja]},(la.geo.transverseMercator=function(){var t=Sn(An),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=An,la.geom={},la.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,o=Et(n),i=Et(r),a=t.length,s=[],l=[];for(e=0;a>e;e++)s.push([+o.call(this,t[e],e),+i.call(this,t[e],e),e]);for(s.sort(Ln),e=0;a>e;e++)l.push([s[e][0],-s[e][1]]);var u=Nn(s),c=Nn(l),f=c[0]===u[0],d=c[c.length-1]===u[u.length-1],h=[];for(e=u.length-1;e>=0;--e)h.push(t[s[u[e]][2]]);for(e=+f;e<c.length-d;++e)h.push(t[s[c[e]][2]]);return h}var n=Dn,r=Mn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},la.geom.polygon=function(t){return xa(t,el),t};var el=la.geom.polygon.prototype=[];el.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],o=0;++e<n;)t=r,r=this[e],o+=t[1]*r[0]-t[0]*r[1];return.5*o},el.centroid=function(t){var e,n,r=-1,o=this.length,i=0,a=0,s=this[o-1];for(arguments.length||(t=-1/(6*this.area()));++r<o;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],i+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[i*t,a*t]},el.clip=function(t){for(var e,n,r,o,i,a,s=Pn(t),l=-1,u=this.length-Pn(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,o=this[l],i=e[(r=e.length-s)-1],n=-1;++n<r;)a=e[n],In(a,c,o)?(In(i,c,o)||t.push(Rn(i,a,c,o)),t.push(a)):In(i,c,o)&&t.push(Rn(i,a,c,o)),i=a;s&&t.push(t[0]),c=o}return t};var nl,rl,ol,il,al,sl=[],ll=[];Hn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Wn),e.length},er.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nr.prototype={insert:function(t,e){var n,r,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ar(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(o=r.R,o&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.R&&(or(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ir(this,r))):(o=r.L,o&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.L&&(ir(this,n),t=n,n=t.U),n.C=!1,r.C=!0,or(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,o=t.U,i=t.L,a=t.R;if(n=i?a?ar(a):i:a,o?o.L===t?o.L=n:o.R=n:this._=n,i&&a?(r=n.C,n.C=t.C,n.L=i,i.U=n,n!==a?(o=n.U,n.U=t.U,t=n.R,o.L=t,n.R=a,a.U=n):(n.U=o,o=n,t=n.R)):(r=t.C,t=n),t&&(t.U=o),!r){
if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===o.L){if(e=o.R,e.C&&(e.C=!1,o.C=!0,or(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ir(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,or(this,o),t=this._;break}}else if(e=o.L,e.C&&(e.C=!1,o.C=!0,ir(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,or(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,ir(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}},la.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],o=s[0][1],i=s[1][0],a=s[1][1];return sr(n(t),s).cells.forEach(function(n,s){var l=n.edges,u=n.site;(e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=r&&u.x<=i&&u.y>=o&&u.y<=a?[[r,a],[i,a],[i,o],[r,o]]:[]).point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(i(t,e)/Pa)*Pa,y:Math.round(a(t,e)/Pa)*Pa,i:e}})}var r=Dn,o=Mn,i=r,a=o,s=ul;return t?e(t):(e.links=function(t){return sr(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return sr(n(t)).cells.forEach(function(n,r){for(var o,i=n.site,a=n.edges.sort(Wn),s=-1,l=a.length,u=a[l-1].edge,c=u.l===i?u.r:u.l;++s<l;)u,o=c,u=a[s].edge,c=u.l===i?u.r:u.l,r<o.i&&r<c.i&&ur(i,o,c)<0&&e.push([t[r],t[o.i],t[c.i]])}),e},e.x=function(t){return arguments.length?(i=Et(r=t),e):r},e.y=function(t){return arguments.length?(a=Et(o=t),e):o},e.clipExtent=function(t){return arguments.length?(s=null==t?ul:t,e):s===ul?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===ul?null:s&&s[1]},e)};var ul=[[-1e6,-1e6],[1e6,1e6]];la.geom.delaunay=function(t){return la.geom.voronoi().triangles(t)},la.geom.quadtree=function(t,e,n,r,o){function i(t){function i(t,e,n,r,o,i,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(ya(l-n)+ya(c-r)<.01)u(t,e,n,r,o,i,a,s);else{var f=t.point;t.x=t.y=t.point=null,u(t,f,l,c,o,i,a,s),u(t,e,n,r,o,i,a,s)}else t.x=n,t.y=r,t.point=e}else u(t,e,n,r,o,i,a,s)}function u(t,e,n,r,o,a,s,l){var u=.5*(o+s),c=.5*(a+l),f=n>=u,d=r>=c,h=d<<1|f;t.leaf=!1,t=t.nodes[h]||(t.nodes[h]=dr()),f?o=u:s=u,d?a=c:l=c,i(t,e,n,r,o,a,s,l)}var c,f,d,h,p,g,m,v,y,_=Et(s),b=Et(l);if(null!=e)g=e,m=n,v=r,y=o;else if(v=y=-(g=m=1/0),f=[],d=[],p=t.length,a)for(h=0;p>h;++h)c=t[h],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),f.push(c.x),d.push(c.y);else for(h=0;p>h;++h){var w=+_(c=t[h],h),k=+b(c,h);g>w&&(g=w),m>k&&(m=k),w>v&&(v=w),k>y&&(y=k),f.push(w),d.push(k)}var x=v-g,C=y-m;x>C?y=m+x:v=g+C;var T=dr();if(T.add=function(t){i(T,t,+_(t,++h),+b(t,h),g,m,v,y)},T.visit=function(t){hr(t,T,g,m,v,y)},T.find=function(t){return pr(T,t[0],t[1],g,m,v,y)},h=-1,null==e){for(;++h<p;)i(T,t[h],f[h],d[h],g,m,v,y);--h}else t.forEach(T.add);return f=d=t=c=null,T}var a,s=Dn,l=Mn;return(a=arguments.length)?(s=cr,l=fr,3===a&&(o=n,r=e,n=e=0),i(t)):(i.x=function(t){return arguments.length?(s=t,i):s},i.y=function(t){return arguments.length?(l=t,i):l},i.extent=function(t){return arguments.length?(null==t?e=n=r=o=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],o=+t[1][1]),i):null==e?null:[[e,n],[r,o]]},i.size=function(t){return arguments.length?(null==t?e=n=r=o=null:(e=n=0,r=+t[0],o=+t[1]),i):null==e?null:[r-e,o-n]},i)},la.interpolateRgb=gr,la.interpolateObject=mr,la.interpolateNumber=vr,la.interpolateString=yr;var cl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fl=new RegExp(cl.source,"g");la.interpolate=_r,la.interpolators=[function(t,e){var n=typeof e;return("string"===n?rs.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gr:yr:e instanceof at?gr:Array.isArray(e)?br:"object"===n&&isNaN(e)?mr:vr)(t,e)}],la.interpolateArray=br;var dl=function(){return y},hl=la.map({linear:dl,poly:Sr,quad:function(){return Cr},cubic:function(){return Tr},sin:function(){return Ar},exp:function(){return Dr},circle:function(){return Mr},elastic:Nr,back:Lr,bounce:function(){return Ir}}),pl=la.map({"in":y,out:kr,"in-out":xr,"out-in":function(t){return xr(kr(t))}});la.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=hl.get(n)||dl,r=pl.get(r)||y,wr(r(n.apply(null,ua.call(arguments,1))))},la.interpolateHcl=Rr,la.interpolateHsl=Pr,la.interpolateLab=Fr,la.interpolateRound=$r,la.transform=function(t){var e=fa.createElementNS(la.ns.prefix.svg,"g");return(la.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Or(n?n.matrix:gl)})(t)},Or.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gl={a:1,b:0,c:0,d:1,e:0,f:0};la.interpolateTransform=Gr,la.layout={},la.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Xr(t[n]));return e}},la.layout.chord=function(){function t(){var t,u,f,d,h,p={},g=[],m=la.range(i),v=[];for(n=[],r=[],t=0,d=-1;++d<i;){for(u=0,h=-1;++h<i;)u+=o[d][h];g.push(u),v.push(la.range(i)),t+=u}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(o[e][t],o[e][n])})}),t=(Oa-c*i)/t,u=0,d=-1;++d<i;){for(f=u,h=-1;++h<i;){var y=m[d],_=v[y][h],b=o[y][_],w=u,k=u+=b*t;p[y+"-"+_]={index:y,subindex:_,startAngle:w,endAngle:k,value:b}}r[y]={index:y,startAngle:f,endAngle:u,value:g[y]},u+=c}for(d=-1;++d<i;)for(h=d-1;++h<i;){var x=p[d+"-"+h],C=p[h+"-"+d];(x.value||C.value)&&n.push(x.value<C.value?{source:C,target:x}:{source:x,target:C})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,o,i,a,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(i=(o=t)&&o.length,n=r=null,u):o},u.padding=function(t){return arguments.length?(c=t,n=r=null,u):c},u.sortGroups=function(t){return arguments.length?(a=t,n=r=null,u):a},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return r||t(),r},u},la.layout.force=function(){function t(t){return function(e,n,r,o){if(e.point!==t){var i=e.cx-t.x,a=e.cy-t.y,s=o-n,l=i*i+a*a;if(l>s*s/v){if(g>l){var u=e.charge/l;t.px-=i*u,t.py-=a*u}return!0}if(e.point&&l&&g>l){var u=e.pointCharge/l;t.px-=i*u,t.py-=a*u}}return!e.charge}}function e(t){t.px=la.event.x,t.py=la.event.y,l.resume()}var n,r,o,i,a,s,l={},u=la.dispatch("start","tick","end"),c=[1,1],f=.9,d=ml,h=vl,p=-30,g=yl,m=.1,v=.64,_=[],b=[];return l.tick=function(){if((o*=.99)<.005)return n=null,u.end({type:"end",alpha:o=0}),!0;var e,r,l,d,h,g,v,y,w,k=_.length,x=b.length;for(r=0;x>r;++r)l=b[r],d=l.source,h=l.target,y=h.x-d.x,w=h.y-d.y,(g=y*y+w*w)&&(g=o*a[r]*((g=Math.sqrt(g))-i[r])/g,y*=g,w*=g,h.x-=y*(v=d.weight+h.weight?d.weight/(d.weight+h.weight):.5),h.y-=w*v,d.x+=y*(v=1-v),d.y+=w*v);if((v=o*m)&&(y=c[0]/2,w=c[1]/2,r=-1,v))for(;++r<k;)l=_[r],l.x+=(y-l.x)*v,l.y+=(w-l.y)*v;if(p)for(ro(e=la.geom.quadtree(_),o,s),r=-1;++r<k;)(l=_[r]).fixed||e.visit(t(l));for(r=-1;++r<k;)l=_[r],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*f,l.y-=(l.py-(l.py=l.y))*f);u.tick({type:"tick",alpha:o})},l.nodes=function(t){return arguments.length?(_=t,l):_},l.links=function(t){return arguments.length?(b=t,l):b},l.size=function(t){return arguments.length?(c=t,l):c},l.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,l):d},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,l):h},l.friction=function(t){return arguments.length?(f=+t,l):f},l.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,l):p},l.chargeDistance=function(t){return arguments.length?(g=t*t,l):Math.sqrt(g)},l.gravity=function(t){return arguments.length?(m=+t,l):m},l.theta=function(t){return arguments.length?(v=t*t,l):Math.sqrt(v)},l.alpha=function(t){return arguments.length?(t=+t,o?t>0?o=t:(n.c=null,n.t=NaN,n=null,u.end({type:"end",alpha:o=0})):t>0&&(u.start({type:"start",alpha:o=t}),n=Nt(l.tick)),l):o},l.start=function(){function t(t,r){if(!n){for(n=new Array(o),l=0;o>l;++l)n[l]=[];for(l=0;u>l;++l){var i=b[l];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var a,s=n[e],l=-1,c=s.length;++l<c;)if(!isNaN(a=s[l][t]))return a;return Math.random()*r}var e,n,r,o=_.length,u=b.length,f=c[0],g=c[1];for(e=0;o>e;++e)(r=_[e]).index=e,r.weight=0;for(e=0;u>e;++e)r=b[e],"number"==typeof r.source&&(r.source=_[r.source]),"number"==typeof r.target&&(r.target=_[r.target]),++r.source.weight,++r.target.weight;for(e=0;o>e;++e)r=_[e],isNaN(r.x)&&(r.x=t("x",f)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof d)for(e=0;u>e;++e)i[e]=+d.call(this,b[e],e);else for(e=0;u>e;++e)i[e]=d;if(a=[],"function"==typeof h)for(e=0;u>e;++e)a[e]=+h.call(this,b[e],e);else for(e=0;u>e;++e)a[e]=h;if(s=[],"function"==typeof p)for(e=0;o>e;++e)s[e]=+p.call(this,_[e],e);else for(e=0;o>e;++e)s[e]=p;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return r||(r=la.behavior.drag().origin(y).on("dragstart.force",Zr).on("drag.force",e).on("dragend.force",to)),arguments.length?void this.on("mouseover.force",eo).on("mouseout.force",no).call(r):r},la.rebind(l,u,"on")};var ml=20,vl=1,yl=1/0;la.layout.hierarchy=function(){function t(o){var i,a=[o],s=[];for(o.depth=0;null!=(i=a.pop());)if(s.push(i),(u=n.call(t,i,i.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=i,c.depth=i.depth+1;r&&(i.value=0),i.children=u}else r&&(i.value=+r.call(t,i,i.depth)||0),delete i.children;return ao(o,function(t){var n,o;e&&(n=t.children)&&n.sort(e),r&&(o=t.parent)&&(o.value+=t.value)}),s}var e=uo,n=so,r=lo;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(io(e,function(t){t.children&&(t.value=0)}),ao(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},la.layout.partition=function(){function t(e,n,r,o){var i=e.children;if(e.x=n,e.y=e.depth*o,e.dx=r,e.dy=o,i&&(a=i.length)){var a,s,l,u=-1;for(r=e.value?r/e.value:0;++u<a;)t(s=i[u],n,l=s.value*r,o),n+=l}}function e(t){var n=t.children,r=0;if(n&&(o=n.length))for(var o,i=-1;++i<o;)r=Math.max(r,e(n[i]));return 1+r}function n(n,i){var a=r.call(this,n,i);return t(a[0],0,o[0],o[1]/e(a[0])),a}var r=la.layout.hierarchy(),o=[1,1];return n.size=function(t){return arguments.length?(o=t,n):o},oo(n,r)},la.layout.pie=function(){function t(a){var s,l=a.length,u=a.map(function(n,r){return+e.call(t,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof o?o.apply(this,arguments):o)-c,d=Math.min(Math.abs(f)/l,+("function"==typeof i?i.apply(this,arguments):i)),h=d*(0>f?-1:1),p=la.sum(u),g=p?(f-l*h)/p:0,m=la.range(l),v=[];return null!=n&&m.sort(n===_l?function(t,e){return u[e]-u[t]}:function(t,e){return n(a[t],a[e])}),m.forEach(function(t){v[t]={data:a[t],value:s=u[t],startAngle:c,endAngle:c+=s*g+h,padAngle:d}}),v}var e=Number,n=_l,r=0,o=Oa,i=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(o=e,t):o},t.padAngle=function(e){return arguments.length?(i=e,t):i},t};var _l={};la.layout.stack=function(){function t(s,l){if(!(d=s.length))return s;var u=s.map(function(n,r){return e.call(t,n,r)}),c=u.map(function(e){return e.map(function(e,n){return[i.call(t,e,n),a.call(t,e,n)]})}),f=n.call(t,c,l);u=la.permute(u,f),c=la.permute(c,f);var d,h,p,g,m=r.call(t,c,l),v=u[0].length;for(p=0;v>p;++p)for(o.call(t,u[0][p],g=m[p],c[0][p][1]),h=1;d>h;++h)o.call(t,u[h][p],g+=c[h-1][p][1],c[h][p][1]);return s}var e=y,n=go,r=mo,o=po,i=fo,a=ho;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:bl.get(e)||go,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:wl.get(e)||mo,t):r},t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(o=e,t):o},t};var bl=la.map({"inside-out":function(t){var e,n,r=t.length,o=t.map(vo),i=t.map(yo),a=la.range(r).sort(function(t,e){return o[t]-o[e]}),s=0,l=0,u=[],c=[];for(e=0;r>e;++e)n=a[e],l>s?(s+=i[n],u.push(n)):(l+=i[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return la.range(t.length).reverse()},"default":go}),wl=la.map({silhouette:function(t){var e,n,r,o=t.length,i=t[0].length,a=[],s=0,l=[];for(n=0;i>n;++n){for(e=0,r=0;o>e;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;i>n;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,r,o,i,a,s,l,u,c=t.length,f=t[0],d=f.length,h=[];for(h[0]=l=u=0,n=1;d>n;++n){for(e=0,o=0;c>e;++e)o+=t[e][n][1];for(e=0,i=0,s=f[n][0]-f[n-1][0];c>e;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>r;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;i+=a*t[e][n][1]}h[n]=l-=o?i/o*s:0,u>l&&(u=l)}for(n=0;d>n;++n)h[n]-=u;return h},expand:function(t){var e,n,r,o=t.length,i=t[0].length,a=1/o,s=[];for(n=0;i>n;++n){for(e=0,r=0;o>e;e++)r+=t[e][n][1];if(r)for(e=0;o>e;e++)t[e][n][1]/=r;else for(e=0;o>e;e++)t[e][n][1]=a}for(n=0;i>n;++n)s[n]=0;return s},zero:mo});la.layout.histogram=function(){function t(t,i){for(var a,s,l=[],u=t.map(n,this),c=r.call(this,u,i),f=o.call(this,c,u,i),i=-1,d=u.length,h=f.length-1,p=e?1:1/d;++i<h;)a=l[i]=[],a.dx=f[i+1]-(a.x=f[i]),a.y=0;if(h>0)for(i=-1;++i<d;)(s=u[i])>=c[0]&&s<=c[1]&&(a=l[la.bisect(f,s,1,h)-1],a.y+=p,a.push(t[i]));return l}var e=!0,n=Number,r=ko,o=bo;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Et(e),t):r},t.bins=function(e){return arguments.length?(o="number"==typeof e?function(t){return wo(t,e)}:Et(e),t):o},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},la.layout.pack=function(){function t(t,i){var a=n.call(this,t,i),s=a[0],l=o[0],u=o[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,ao(s,function(t){t.r=+c(t.value)}),ao(s,So),r){var f=r*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;ao(s,function(t){t.r+=f}),ao(s,So),ao(s,function(t){t.r-=f})}return Mo(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),a}var e,n=la.layout.hierarchy().sort(xo),r=0,o=[1,1];return t.size=function(e){return arguments.length?(o=e,t):o},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},oo(t,n)},la.layout.tree=function(){function t(t,o){var c=a.call(this,t,o),f=c[0],d=e(f);if(ao(d,n),d.parent.m=-d.z,io(d,r),u)io(f,i);else{var h=f,p=f,g=f;io(f,function(t){t.x<h.x&&(h=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=s(h,p)/2-h.x,v=l[0]/(p.x+s(p,h)/2+m),y=l[1]/(g.depth||1);io(f,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var o,i=e.children,a=0,s=i.length;s>a;++a)r.push((i[a]=o={_:i[a],parent:e,children:(o=i[a].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=o);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Fo(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+s(t._,r._));t.parent.A=o(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var r,o=t,i=t,a=e,l=o.parent.children[0],u=o.m,c=i.m,f=a.m,d=l.m;a=Ro(a),o=Io(o),a&&o;)l=Io(l),i=Ro(i),i.a=t,r=a.z+f-o.z-u+s(a._,o._),r>0&&(Po($o(a,t,n),t,r),u+=r,c+=r),f+=a.m,u+=o.m,d+=l.m,c+=i.m;a&&!Ro(i)&&(i.t=a,i.m+=f-c),o&&!Io(l)&&(l.t=o,l.m+=u-d,n=t)}return n}function i(t){t.x*=l[0],t.y=t.depth*l[1]}var a=la.layout.hierarchy().sort(null).value(null),s=Lo,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(l=e)?i:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:i,t):u?l:null},oo(t,a)},la.layout.cluster=function(){function t(t,i){var a,s=e.call(this,t,i),l=s[0],u=0;ao(l,function(t){var e=t.children;e&&e.length?(t.x=qo(e),t.y=Oo(e)):(t.x=a?u+=n(t,a):0,t.y=0,a=t)});var c=jo(l),f=Bo(l),d=c.x-n(c,f)/2,h=f.x+n(f,c)/2;return ao(l,o?function(t){t.x=(t.x-l.x)*r[0],t.y=(l.y-t.y)*r[1]}:function(t){t.x=(t.x-d)/(h-d)*r[0],t.y=(1-(l.y?t.y/l.y:1))*r[1]}),s}var e=la.layout.hierarchy().sort(null).value(null),n=Lo,r=[1,1],o=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(o=null==(r=e),t):o?null:r},t.nodeSize=function(e){return arguments.length?(o=null!=(r=e),t):o?r:null},oo(t,e)},la.layout.treemap=function(){function t(t,e){for(var n,r,o=-1,i=t.length;++o<i;)r=(n=t[o]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var i=n.children;if(i&&i.length){var a,s,l,u=f(n),c=[],d=i.slice(),p=1/0,g="slice"===h?u.dx:"dice"===h?u.dy:"slice-dice"===h?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(d,u.dx*u.dy/n.value),c.area=0;(l=d.length)>0;)c.push(a=d[l-1]),c.area+=a.area,"squarify"!==h||(s=r(c,g))<=p?(d.pop(),p=s):(c.area-=c.pop().area,o(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(o(c,g,u,!0),c.length=c.area=0),i.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var i,a=f(e),s=r.slice(),l=[];for(t(s,a.dx*a.dy/e.value),l.area=0;i=s.pop();)l.push(i),l.area+=i.area,null!=i.z&&(o(l,i.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,o=0,i=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(i>n&&(i=n),n>o&&(o=n));return r*=r,e*=e,r?Math.max(e*o*p/r,r/(e*i*p)):1/0}function o(t,e,n,r){var o,i=-1,a=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++i<a;)o=t[i],o.x=s,o.y=u,o.dy=c,s+=o.dx=Math.min(n.x+n.dx-s,c?l(o.area/c):0);o.z=!0,o.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++i<a;)o=t[i],o.x=s,o.y=u,o.dx=c,u+=o.dy=Math.min(n.y+n.dy-u,c?l(o.area/c):0);o.z=!1,o.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function i(r){var o=a||s(r),i=o[0];return i.x=i.y=0,i.value?(i.dx=u[0],i.dy=u[1]):i.dx=i.dy=0,a&&s.revalue(i),t([i],i.dx*i.dy/i.value),(a?n:e)(i),d&&(a=o),o}var a,s=la.layout.hierarchy(),l=Math.round,u=[1,1],c=null,f=zo,d=!1,h="squarify",p=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(u=t,i):u},i.padding=function(t){function e(e){var n=t.call(i,e,e.depth);return null==n?zo(e):Ho(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Ho(e,t)}if(!arguments.length)return c;var r;return f=null==(c=t)?zo:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,i},i.round=function(t){return arguments.length?(l=t?Math.round:Number,i):l!=Number},i.sticky=function(t){return arguments.length?(d=t,a=null,i):d},i.ratio=function(t){return arguments.length?(p=t,i):p},i.mode=function(t){return arguments.length?(h=t+"",i):h},oo(i,s)},la.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,o;do{n=2*Math.random()-1,r=2*Math.random()-1,o=n*n+r*r}while(!o||o>1);return t+e*n*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var t=la.random.normal.apply(la,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=la.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},la.scale={};var kl={floor:y,ceil:y};la.scale.linear=function(){return Xo([0,1],[0,1],_r,!1)};var xl={s:1,g:1,p:1,r:1,e:1};la.scale.log=function(){return oi(la.scale.linear().domain([0,1]),10,!0,[1,10])};var Cl=la.format(".0e"),Tl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};la.scale.pow=function(){return ii(la.scale.linear(),1,[0,1])},la.scale.sqrt=function(){return la.scale.pow().exponent(.5)},la.scale.ordinal=function(){return si([],{t:"range",a:[[]]})},la.scale.category10=function(){return la.scale.ordinal().range(El)},la.scale.category20=function(){return la.scale.ordinal().range(Sl)},la.scale.category20b=function(){return la.scale.ordinal().range(Al)},la.scale.category20c=function(){return la.scale.ordinal().range(Dl)};var El=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(_t),Sl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(_t),Al=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(_t),Dl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(_t);la.scale.quantile=function(){return li([],[])},la.scale.quantize=function(){return ui(0,1,[0,1])},la.scale.threshold=function(){return ci([.5],[0,1])},la.scale.identity=function(){return fi([0,1])},la.svg={},la.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-ja,f=s.apply(this,arguments)-ja,d=Math.abs(f-c),h=c>f?0:1;if(t>u&&(p=u,u=t,t=p),d>=qa)return e(u,h)+(t?e(t,1-h):"")+"Z";var p,g,m,v,y,_,b,w,k,x,C,T,E=0,S=0,A=[];if((v=(+l.apply(this,arguments)||0)/2)&&(m=i===Ml?Math.sqrt(t*t+u*u):+i.apply(this,arguments),h||(S*=-1),u&&(S=et(m/u*Math.sin(v))),t&&(E=et(m/t*Math.sin(v)))),u){y=u*Math.cos(c+S),_=u*Math.sin(c+S),b=u*Math.cos(f-S),w=u*Math.sin(f-S);var D=Math.abs(f-c-2*S)<=$a?0:1;if(S&&yi(y,_,b,w)===h^D){var M=(c+f)/2;y=u*Math.cos(M),_=u*Math.sin(M),b=w=null}}else y=_=0;if(t){k=t*Math.cos(f-E),x=t*Math.sin(f-E),C=t*Math.cos(c+E),T=t*Math.sin(c+E);var N=Math.abs(c-f+2*E)<=$a?0:1;if(E&&yi(k,x,C,T)===1-h^N){var L=(c+f)/2;k=t*Math.cos(L),x=t*Math.sin(L),C=T=null}}else k=x=0;if(d>Pa&&(p=Math.min(Math.abs(u-t)/2,+o.apply(this,arguments)))>.001){g=u>t^h?0:1;var I=p,R=p;if($a>d){var P=null==C?[k,x]:null==b?[y,_]:Rn([y,_],[C,T],[b,w],[k,x]),F=y-P[0],$=_-P[1],O=b-P[0],q=w-P[1],j=1/Math.sin(Math.acos((F*O+$*q)/(Math.sqrt(F*F+$*$)*Math.sqrt(O*O+q*q)))/2),B=Math.sqrt(P[0]*P[0]+P[1]*P[1]);R=Math.min(p,(t-B)/(j-1)),I=Math.min(p,(u-B)/(j+1))}if(null!=b){var z=_i(null==C?[k,x]:[C,T],[y,_],u,I,h),H=_i([b,w],[k,x],u,I,h);p===I?A.push("M",z[0],"A",I,",",I," 0 0,",g," ",z[1],"A",u,",",u," 0 ",1-h^yi(z[1][0],z[1][1],H[1][0],H[1][1]),",",h," ",H[1],"A",I,",",I," 0 0,",g," ",H[0]):A.push("M",z[0],"A",I,",",I," 0 1,",g," ",H[0])}else A.push("M",y,",",_);if(null!=C){var U=_i([y,_],[C,T],t,-R,h),W=_i([k,x],null==b?[y,_]:[b,w],t,-R,h);p===R?A.push("L",W[0],"A",R,",",R," 0 0,",g," ",W[1],"A",t,",",t," 0 ",h^yi(W[1][0],W[1][1],U[1][0],U[1][1]),",",1-h," ",U[1],"A",R,",",R," 0 0,",g," ",U[0]):A.push("L",W[0],"A",R,",",R," 0 0,",g," ",U[0])}else A.push("L",k,",",x)}else A.push("M",y,",",_),null!=b&&A.push("A",u,",",u," 0 ",D,",",h," ",b,",",w),A.push("L",k,",",x),null!=C&&A.push("A",t,",",t," 0 ",N,",",1-h," ",C,",",T);return A.push("Z"),A.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=hi,r=pi,o=di,i=Ml,a=gi,s=mi,l=vi;return t.innerRadius=function(e){return arguments.length?(n=Et(e),t):n},t.outerRadius=function(e){return arguments.length?(r=Et(e),t):r},t.cornerRadius=function(e){return arguments.length?(o=Et(e),t):o},t.padRadius=function(e){return arguments.length?(i=e==Ml?Ml:Et(e),t):i},t.startAngle=function(e){return arguments.length?(a=Et(e),t):a},t.endAngle=function(e){return arguments.length?(s=Et(e),t):s},t.padAngle=function(e){return arguments.length?(l=Et(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-ja;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Ml="auto";la.svg.line=function(){return bi(y)};var Nl=la.map({linear:wi,"linear-closed":ki,step:xi,"step-before":Ci,"step-after":Ti,basis:Ni,"basis-open":Li,"basis-closed":Ii,bundle:Ri,cardinal:Ai,"cardinal-open":Ei,"cardinal-closed":Si,monotone:ji});Nl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Ll=[0,2/3,1/3,0],Il=[0,1/3,2/3,0],Rl=[0,1/6,2/3,1/6];la.svg.line.radial=function(){var t=bi(Bi);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ci.reverse=Ti,Ti.reverse=Ci,la.svg.area=function(){return zi(y)},la.svg.area.radial=function(){var t=zi(Bi);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},la.svg.chord=function(){function t(t,s){var l=e(this,i,t,s),u=e(this,a,t,s);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,u)?o(l.r,l.p1,l.r,l.p0):o(l.r,l.p1,u.r,u.p0)+r(u.r,u.p1,u.a1-u.a0)+o(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,r){var o=e.call(t,n,r),i=s.call(t,o,r),a=l.call(t,o,r)-ja,c=u.call(t,o,r)-ja;return{r:i,a0:a,a1:c,p0:[i*Math.cos(a),i*Math.sin(a)],p1:[i*Math.cos(c),i*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>$a)+",1 "+e}function o(t,e,n,r){return"Q 0,0 "+r}var i=_n,a=bn,s=Hi,l=gi,u=mi;return t.radius=function(e){return arguments.length?(s=Et(e),t):s},t.source=function(e){return arguments.length?(i=Et(e),t):i},t.target=function(e){return arguments.length?(a=Et(e),t):a},t.startAngle=function(e){return arguments.length?(l=Et(e),t):l},t.endAngle=function(e){return arguments.length?(u=Et(e),t):u},t},la.svg.diagonal=function(){function t(t,o){var i=e.call(this,t,o),a=n.call(this,t,o),s=(i.y+a.y)/2,l=[i,{x:i.x,y:s},{x:a.x,y:s},a];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=_n,n=bn,r=Ui;return t.source=function(n){return arguments.length?(e=Et(n),t):e},t.target=function(e){return arguments.length?(n=Et(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},la.svg.diagonal.radial=function(){var t=la.svg.diagonal(),e=Ui,n=t.projection;return t.projection=function(t){return arguments.length?n(Wi(e=t)):e},t},la.svg.symbol=function(){function t(t,r){return(Pl.get(e.call(this,t,r))||Vi)(n.call(this,t,r))}var e=Gi,n=Yi;return t.type=function(n){return arguments.length?(e=Et(n),t):e},t.size=function(e){return arguments.length?(n=Et(e),t):n},t};var Pl=la.map({circle:Vi,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*$l)),n=e*$l;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Fl),n=e*Fl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Fl),n=e*Fl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});la.svg.symbolTypes=Pl.keys();var Fl=Math.sqrt(3),$l=Math.tan(30*Ba);Sa.transition=function(t){for(var e,n,r=Ol||++zl,o=Zi(t),i=[],a=ql||{time:Date.now(),ease:Er,delay:0,duration:250},s=-1,l=this.length;++s<l;){i.push(e=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(n=u[c])&&ta(n,c,o,r,a),e.push(n)}return Xi(i,o,r)},Sa.interrupt=function(t){return this.each(null==t?jl:Qi(Zi(t)))};var Ol,ql,jl=Qi(Zi()),Bl=[],zl=0;Bl.call=Sa.call,Bl.empty=Sa.empty,Bl.node=Sa.node,Bl.size=Sa.size,la.transition=function(t,e){return t&&t.transition?Ol?t.transition(e):t:la.selection().transition(t)},la.transition.prototype=Bl,Bl.select=function(t){var e,n,r,o=this.id,i=this.namespace,a=[];t=A(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,f=u.length;++c<f;)(r=u[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),ta(n,c,i,o,r[i][o]),e.push(n)):e.push(null)}return Xi(a,i,o)},Bl.selectAll=function(t){var e,n,r,o,i,a=this.id,s=this.namespace,l=[];t=D(t);for(var u=-1,c=this.length;++u<c;)for(var f=this[u],d=-1,h=f.length;++d<h;)if(r=f[d]){i=r[s][a],n=t.call(r,r.__data__,d,u),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(o=n[p])&&ta(o,p,s,a,i),e.push(o)}return Xi(l,s,a)},Bl.filter=function(t){var e,n,r,o=[];"function"!=typeof t&&(t=B(t));for(var i=0,a=this.length;a>i;i++){o.push(e=[]);for(var n=this[i],s=0,l=n.length;l>s;s++)(r=n[s])&&t.call(r,r.__data__,s,i)&&e.push(r)}return Xi(o,this.namespace,this.id)},Bl.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):H(this,null==e?function(e){e[r][n].tween.remove(t)}:function(o){o[r][n].tween.set(t,e)})},Bl.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function o(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function i(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Gr:_r,s=la.ns.qualify(t);return Ki(this,"attr."+t,e,s.local?i:o)},Bl.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(o));return r&&function(t){this.setAttribute(o,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(o.space,o.local));return r&&function(t){this.setAttributeNS(o.space,o.local,r(t))}}var o=la.ns.qualify(t);return this.tween("attr."+t,o.local?r:n)},Bl.style=function(t,n,r){function o(){this.style.removeProperty(t)}function i(n){return null==n?o:(n+="",function(){var o,i=e(this).getComputedStyle(this,null).getPropertyValue(t);return i!==n&&(o=_r(i,n),function(e){this.style.setProperty(t,o(e),r)})})}var a=arguments.length;if(3>a){if("string"!=typeof t){2>a&&(n="");for(r in t)this.style(r,t[r],n);return this}r=""}return Ki(this,"style."+t,n,i)},Bl.styleTween=function(t,n,r){function o(o,i){var a=n.call(this,o,i,e(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),r)}}return arguments.length<3&&(r=""),this.tween("style."+t,o)},Bl.text=function(t){return Ki(this,"text",t,Ji)},Bl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Bl.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=la.ease.apply(la,arguments)),H(this,function(r){r[n][e].ease=t}))},Bl.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:H(this,"function"==typeof t?function(r,o,i){r[n][e].delay=+t.call(r,r.__data__,o,i)}:(t=+t,function(r){r[n][e].delay=t}))},Bl.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:H(this,"function"==typeof t?function(r,o,i){r[n][e].duration=Math.max(1,t.call(r,r.__data__,o,i))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Bl.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var o=ql,i=Ol;try{Ol=n,H(this,function(e,o,i){ql=e[r][n],t.call(e,e.__data__,o,i)})}finally{ql=o,Ol=i}}else H(this,function(o){var i=o[r][n];(i.event||(i.event=la.dispatch("start","end","interrupt"))).on(t,e)});return this},Bl.transition=function(){for(var t,e,n,r,o=this.id,i=++zl,a=this.namespace,s=[],l=0,u=this.length;u>l;l++){s.push(t=[]);for(var e=this[l],c=0,f=e.length;f>c;c++)(n=e[c])&&(r=n[a][o],ta(n,c,a,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return Xi(s,a,i)},la.svg.axis=function(){function t(t){t.each(function(){var t,u=la.select(this),c=this.__chart__||n,f=this.__chart__=n.copy(),d=null==l?f.ticks?f.ticks.apply(f,s):f.domain():l,h=null==e?f.tickFormat?f.tickFormat.apply(f,s):y:e,p=u.selectAll(".tick").data(d,f),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Pa),m=la.transition(p.exit()).style("opacity",Pa).remove(),v=la.transition(p.order()).style("opacity",1),_=Math.max(o,0)+a,b=Wo(f),w=u.selectAll(".domain").data([0]),k=(w.enter().append("path").attr("class","domain"),la.transition(w));g.append("line"),g.append("text");var x,C,T,E,S=g.select("line"),A=v.select("line"),D=p.select("text").text(h),M=g.select("text"),N=v.select("text"),L="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=ea,x="x",T="y",C="x2",E="y2",D.attr("dy",0>L?"0em":".71em").style("text-anchor","middle"),k.attr("d","M"+b[0]+","+L*i+"V0H"+b[1]+"V"+L*i)):(t=na,x="y",T="x",C="y2",E="x2",D.attr("dy",".32em").style("text-anchor",0>L?"end":"start"),k.attr("d","M"+L*i+","+b[0]+"H0V"+b[1]+"H"+L*i)),S.attr(E,L*o),M.attr(T,L*_),
A.attr(C,0).attr(E,L*o),N.attr(x,0).attr(T,L*_),f.rangeBand){var I=f,R=I.rangeBand()/2;c=f=function(t){return I(t)+R}}else c.rangeBand?c=f:m.call(t,f,c);g.call(t,c,f),v.call(t,f,f)})}var e,n=la.scale.linear(),r=Hl,o=6,i=6,a=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Ul?e+"":Hl,t):r},t.ticks=function(){return arguments.length?(s=ca(arguments),t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(o=+e,i=+arguments[n-1],t):o},t.innerTickSize=function(e){return arguments.length?(o=+e,t):o},t.outerTickSize=function(e){return arguments.length?(i=+e,t):i},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Hl="bottom",Ul={top:1,right:1,bottom:1,left:1};la.svg.brush=function(){function t(e){e.each(function(){var e=la.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=e.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(g,y);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Wl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,f=la.transition(e),d=la.transition(a);u&&(l=Wo(u),d.attr("x",l[0]).attr("width",l[1]-l[0]),r(f)),c&&(l=Wo(c),d.attr("y",l[0]).attr("height",l[1]-l[0]),o(f)),n(f)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+f[+/e$/.test(t)]+","+d[+/^s/.test(t)]+")"})}function r(t){t.select(".extent").attr("x",f[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function o(t){t.select(".extent").attr("y",d[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function i(){function i(){32==la.event.keyCode&&(D||(_=null,N[0]-=f[1],N[1]-=d[1],D=2),C())}function g(){32==la.event.keyCode&&2==D&&(N[0]+=f[1],N[1]+=d[1],D=0,C())}function m(){var t=la.mouse(w),e=!1;b&&(t[0]+=b[0],t[1]+=b[1]),D||(la.event.altKey?(_||(_=[(f[0]+f[1])/2,(d[0]+d[1])/2]),N[0]=f[+(t[0]<_[0])],N[1]=d[+(t[1]<_[1])]):_=null),S&&v(t,u,0)&&(r(T),e=!0),A&&v(t,c,1)&&(o(T),e=!0),e&&(n(T),x({type:"brush",mode:D?"move":"resize"}))}function v(t,e,n){var r,o,i=Wo(e),l=i[0],u=i[1],c=N[n],g=n?d:f,m=g[1]-g[0];return D&&(l-=c,u-=m+c),r=(n?p:h)?Math.max(l,Math.min(u,t[n])):t[n],D?o=(r+=c)+m:(_&&(c=Math.max(l,Math.min(u,2*_[n]-r))),r>c?(o=r,r=c):o=c),g[0]!=r||g[1]!=o?(n?s=null:a=null,g[0]=r,g[1]=o,!0):void 0}function y(){m(),T.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),la.select("body").style("cursor",null),L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),M(),x({type:"brushend"})}var _,b,w=this,k=la.select(la.event.target),x=l.of(w,arguments),T=la.select(w),E=k.datum(),S=!/^(n|s)$/.test(E)&&u,A=!/^(e|w)$/.test(E)&&c,D=k.classed("extent"),M=Q(w),N=la.mouse(w),L=la.select(e(w)).on("keydown.brush",i).on("keyup.brush",g);if(la.event.changedTouches?L.on("touchmove.brush",m).on("touchend.brush",y):L.on("mousemove.brush",m).on("mouseup.brush",y),T.interrupt().selectAll("*").interrupt(),D)N[0]=f[0]-N[0],N[1]=d[0]-N[1];else if(E){var I=+/w$/.test(E),R=+/^n/.test(E);b=[f[1-I]-N[0],d[1-R]-N[1]],N[0]=f[I],N[1]=d[R]}else la.event.altKey&&(_=N.slice());T.style("pointer-events","none").selectAll(".resize").style("display",null),la.select("body").style("cursor",k.style("cursor")),x({type:"brushstart"}),m()}var a,s,l=E(t,"brushstart","brush","brushend"),u=null,c=null,f=[0,0],d=[0,0],h=!0,p=!0,g=Yl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:f,y:d,i:a,j:s},n=this.__chart__||e;this.__chart__=e,Ol?la.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,f=n.x,d=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=br(f,e.x),r=br(d,e.y);return a=s=null,function(o){f=e.x=n(o),d=e.y=r(o),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,g=Yl[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,g=Yl[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(h=!!e[0],p=!!e[1]):u?h=!!e:c&&(p=!!e),t):u&&c?[h,p]:u?h:c?p:null},t.extent=function(e){var n,r,o,i,l;return arguments.length?(u&&(n=e[0],r=e[1],c&&(n=n[0],r=r[0]),a=[n,r],u.invert&&(n=u(n),r=u(r)),n>r&&(l=n,n=r,r=l),n==f[0]&&r==f[1]||(f=[n,r])),c&&(o=e[0],i=e[1],u&&(o=o[1],i=i[1]),s=[o,i],c.invert&&(o=c(o),i=c(i)),o>i&&(l=o,o=i,i=l),o==d[0]&&i==d[1]||(d=[o,i])),t):(u&&(a?(n=a[0],r=a[1]):(n=f[0],r=f[1],u.invert&&(n=u.invert(n),r=u.invert(r)),n>r&&(l=n,n=r,r=l))),c&&(s?(o=s[0],i=s[1]):(o=d[0],i=d[1],c.invert&&(o=c.invert(o),i=c.invert(i)),o>i&&(l=o,o=i,i=l))),u&&c?[[n,o],[r,i]]:u?[n,r]:c&&[o,i])},t.clear=function(){return t.empty()||(f=[0,0],d=[0,0],a=s=null),t},t.empty=function(){return!!u&&f[0]==f[1]||!!c&&d[0]==d[1]},la.rebind(t,l,"on")};var Wl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Yl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Gl=ds.format=ys.timeFormat,Vl=Gl.utc,Ql=Vl("%Y-%m-%dT%H:%M:%S.%LZ");Gl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ra:Ql,ra.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ra.toString=Ql.toString,ds.second=jt(function(t){return new hs(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ds.seconds=ds.second.range,ds.seconds.utc=ds.second.utc.range,ds.minute=jt(function(t){return new hs(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ds.minutes=ds.minute.range,ds.minutes.utc=ds.minute.utc.range,ds.hour=jt(function(t){var e=t.getTimezoneOffset()/60;return new hs(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ds.hours=ds.hour.range,ds.hours.utc=ds.hour.utc.range,ds.month=jt(function(t){return t=ds.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ds.months=ds.month.range,ds.months.utc=ds.month.utc.range;var Xl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Kl=[[ds.second,1],[ds.second,5],[ds.second,15],[ds.second,30],[ds.minute,1],[ds.minute,5],[ds.minute,15],[ds.minute,30],[ds.hour,1],[ds.hour,3],[ds.hour,6],[ds.hour,12],[ds.day,1],[ds.day,2],[ds.week,1],[ds.month,1],[ds.month,3],[ds.year,1]],Jl=Gl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",De]]),Zl={range:function(t,e,n){return la.range(Math.ceil(t/n)*n,+e,n).map(ia)},floor:y,ceil:y};Kl.year=ds.year,ds.scale=function(){return oa(la.scale.linear(),Kl,Jl)};var tu=Kl.map(function(t){return[t[0].utc,t[1]]}),eu=Vl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",De]]);tu.year=ds.year.utc,ds.scale.utc=function(){return oa(la.scale.linear(),tu,eu)},la.text=St(function(t){return t.responseText}),la.json=function(t,e){return At(t,"application/json",aa,e)},la.html=function(t,e){return At(t,"text/html",sa,e)},la.xml=St(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=la,define(la)):"object"==typeof module&&module.exports?module.exports=la:this.d3=la}();var d3="function"==typeof require?require("d3"):window.d3,CalHeatMap=function(){"use strict";function t(){r.verticalDomainLabel="top"===r.options.label.position||"bottom"===r.options.label.position,r.domainVerticalLabelHeight=null===r.options.label.height?Math.max(25,2*r.options.cellSize):r.options.label.height,r.domainHorizontalLabelWidth=0,""===r.options.domainLabelFormat&&null===r.options.label.height&&(r.domainVerticalLabelHeight=0),r.verticalDomainLabel||(r.domainVerticalLabelHeight=0,r.domainHorizontalLabelWidth=r.options.label.width),r.paint(),!1!==r.options.nextSelector&&d3.select(r.options.nextSelector).on("click."+r.options.itemNamespace,function(){return d3.event.preventDefault(),r.loadNextDomain(1)}),!1!==r.options.previousSelector&&d3.select(r.options.previousSelector).on("click."+r.options.itemNamespace,function(){return d3.event.preventDefault(),r.loadPreviousDomain(1)}),r.Legend.redraw(r.graphDim.width-r.options.domainGutter-r.options.cellPadding),r.afterLoad();var t=r.getDomainKeys();r.options.loadOnInit?r.getDatas(r.options.data,new Date(t[0]),r.getSubDomain(t[t.length-1]).pop(),function(){r.fill(),r.onComplete()}):r.onComplete(),r.checkIfMinDomainIsReached(t[0]),r.checkIfMaxDomainIsReached(r.getNextDomain().getTime())}function e(t,e){var n=r.options.cellSize*r._domainType[r.options.subDomain].column(t)+r.options.cellPadding*r._domainType[r.options.subDomain].column(t);return 2===arguments.length&&!0===e?n+=r.domainHorizontalLabelWidth+r.options.domainGutter+r.options.domainMargin[1]+r.options.domainMargin[3]:n}function n(t,e){var n=r.options.cellSize*r._domainType[r.options.subDomain].row(t)+r.options.cellPadding*r._domainType[r.options.subDomain].row(t);return 2===arguments.length&&!0===e&&(n+=r.options.domainGutter+r.domainVerticalLabelHeight+r.options.domainMargin[0]+r.options.domainMargin[2]),n}var r=this;this.allowedDataType=["json","csv","tsv","txt"],this.options={itemSelector:"#cal-heatmap",paintOnLoad:!0,range:12,cellSize:10,cellPadding:2,cellRadius:0,domainGutter:2,domainMargin:[0,0,0,0],domain:"hour",subDomain:"min",colLimit:null,rowLimit:null,weekStartOnMonday:!0,start:new Date,minDate:null,maxDate:null,data:"",dataType:this.allowedDataType[0],considerMissingDataAsZero:!1,loadOnInit:!0,verticalOrientation:!1,domainDynamicDimension:!0,label:{position:"bottom",align:"center",offset:{x:0,y:0},rotate:null,width:100,height:null},legend:[10,20,30,40],displayLegend:!0,legendCellSize:10,legendCellPadding:2,legendMargin:[0,0,0,0],legendVerticalPosition:"bottom",legendHorizontalPosition:"left",legendOrientation:"horizontal",legendColors:null,highlight:[],itemName:["item","items"],domainLabelFormat:null,subDomainTitleFormat:{empty:"{date}",filled:"{count} {name} {connector} {date}"},subDomainDateFormat:null,subDomainTextFormat:null,legendTitleFormat:{lower:"less than {min} {name}",inner:"between {down} and {up} {name}",upper:"more than {max} {name}"},animationDuration:500,nextSelector:!1,previousSelector:!1,itemNamespace:"cal-heatmap",tooltip:!1,onClick:null,afterLoad:null,afterLoadNextDomain:null,afterLoadPreviousDomain:null,onComplete:null,afterLoadData:function(t){return t},onMaxDomainReached:null,onMinDomainReached:null},this._domainType={min:{name:"minute",level:10,maxItemNumber:60,defaultRowNumber:10,defaultColumnNumber:6,row:function(t){return r.getSubDomainRowNumber(t)},column:function(t){return r.getSubDomainColumnNumber(t)},position:{x:function(t){return Math.floor(t.getMinutes()/r._domainType.min.row(t))},y:function(t){return t.getMinutes()%r._domainType.min.row(t)}},format:{date:"%H:%M, %A %B %-e, %Y",legend:"",connector:"at"},extractUnit:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()).getTime()}},hour:{name:"hour",level:20,maxItemNumber:function(t){switch(r.options.domain){case"day":return 24;case"week":return 168;case"month":return 24*(r.options.domainDynamicDimension?r.getDayCountInMonth(t):31)}},defaultRowNumber:6,defaultColumnNumber:function(t){switch(r.options.domain){case"day":return 4;case"week":return 28;case"month":return r.options.domainDynamicDimension?r.getDayCountInMonth(t):31}},row:function(t){return r.getSubDomainRowNumber(t)},column:function(t){return r.getSubDomainColumnNumber(t)},position:{x:function(t){return"month"===r.options.domain?r.options.colLimit>0||r.options.rowLimit>0?Math.floor((t.getHours()+24*(t.getDate()-1))/r._domainType.hour.row(t)):Math.floor(t.getHours()/r._domainType.hour.row(t))+4*(t.getDate()-1):"week"===r.options.domain?r.options.colLimit>0||r.options.rowLimit>0?Math.floor((t.getHours()+24*r.getWeekDay(t))/r._domainType.hour.row(t)):Math.floor(t.getHours()/r._domainType.hour.row(t))+4*r.getWeekDay(t):Math.floor(t.getHours()/r._domainType.hour.row(t))},y:function(t){var e=t.getHours();if(r.options.colLimit>0||r.options.rowLimit>0)switch(r.options.domain){case"month":e+=24*(t.getDate()-1);break;case"week":e+=24*r.getWeekDay(t)}return Math.floor(e%r._domainType.hour.row(t))}},format:{date:"%Hh, %A %B %-e, %Y",legend:"%H:00",connector:"at"},extractUnit:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()).getTime()}},day:{name:"day",level:30,maxItemNumber:function(t){switch(r.options.domain){case"week":return 7;case"month":return r.options.domainDynamicDimension?r.getDayCountInMonth(t):31;case"year":return r.options.domainDynamicDimension?r.getDayCountInYear(t):366}},defaultColumnNumber:function(t){switch(t=new Date(t),r.options.domain){case"week":return 1;case"month":return r.options.domainDynamicDimension&&!r.options.verticalOrientation?r.getWeekNumber(new Date(t.getFullYear(),t.getMonth()+1,0))-r.getWeekNumber(t)+1:6;case"year":return r.options.domainDynamicDimension?r.getWeekNumber(new Date(t.getFullYear(),11,31))-r.getWeekNumber(new Date(t.getFullYear(),0))+1:54}},defaultRowNumber:7,row:function(t){return r.getSubDomainRowNumber(t)},column:function(t){return r.getSubDomainColumnNumber(t)},position:{x:function(t){switch(r.options.domain){case"week":return Math.floor(r.getWeekDay(t)/r._domainType.day.row(t));case"month":return r.options.colLimit>0||r.options.rowLimit>0?Math.floor((t.getDate()-1)/r._domainType.day.row(t)):r.getWeekNumber(t)-r.getWeekNumber(new Date(t.getFullYear(),t.getMonth()));case"year":return r.options.colLimit>0||r.options.rowLimit>0?Math.floor((r.getDayOfYear(t)-1)/r._domainType.day.row(t)):r.getWeekNumber(t)}},y:function(t){var e=r.getWeekDay(t);if(r.options.colLimit>0||r.options.rowLimit>0)switch(r.options.domain){case"year":e=r.getDayOfYear(t)-1;break;case"week":e=r.getWeekDay(t);break;case"month":e=t.getDate()-1}return Math.floor(e%r._domainType.day.row(t))}},format:{date:"%A %B %-e, %Y",legend:"%e %b",connector:"on"},extractUnit:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()}},week:{name:"week",level:40,maxItemNumber:54,defaultColumnNumber:function(t){switch(t=new Date(t),r.options.domain){case"year":return r._domainType.week.maxItemNumber;case"month":return r.getWeekNumber(new Date(t.getFullYear(),t.getMonth()+1,0))-r.getWeekNumber(t)}},defaultRowNumber:1,row:function(t){return r.getSubDomainRowNumber(t)},column:function(t){return r.getSubDomainColumnNumber(t)},position:{x:function(t){switch(r.options.domain){case"year":return Math.floor(r.getWeekNumber(t)/r._domainType.week.row(t));case"month":return Math.floor(r.getMonthWeekNumber(t)/r._domainType.week.row(t))}},y:function(t){return r.getWeekNumber(t)%r._domainType.week.row(t)}},format:{date:"%B Week #%W",legend:"%B Week #%W",connector:"in"},extractUnit:function(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=e.getDay()-1;return 0>n&&(n=6),e.setDate(e.getDate()-n),e.getTime()}},month:{name:"month",level:50,maxItemNumber:12,defaultColumnNumber:12,defaultRowNumber:1,row:function(){return r.getSubDomainRowNumber()},column:function(){return r.getSubDomainColumnNumber()},position:{x:function(t){return Math.floor(t.getMonth()/r._domainType.month.row(t))},y:function(t){return t.getMonth()%r._domainType.month.row(t)}},format:{date:"%B %Y",legend:"%B",connector:"in"},extractUnit:function(t){return new Date(t.getFullYear(),t.getMonth()).getTime()}},year:{name:"year",level:60,row:function(){return r.options.rowLimit||1},column:function(){return r.options.colLimit||1},position:{x:function(){return 1},y:function(){return 1}},format:{date:"%Y",legend:"%Y",connector:"in"},extractUnit:function(t){return new Date(t.getFullYear()).getTime()}}};for(var o in this._domainType)if(this._domainType.hasOwnProperty(o)){var i=this._domainType[o];this._domainType["x_"+o]={name:"x_"+o,level:i.type,maxItemNumber:i.maxItemNumber,defaultRowNumber:i.defaultRowNumber,defaultColumnNumber:i.defaultColumnNumber,row:i.column,column:i.row,position:{x:i.position.y,y:i.position.x},format:i.format,extractUnit:i.extractUnit}}this.lastInsertedSvg=null,this._completed=!1,this._domains=d3.map(),this.graphDim={width:0,height:0},this.legendDim={width:0,height:0},this.NAVIGATE_LEFT=1,this.NAVIGATE_RIGHT=2,this.RESET_ALL_ON_UPDATE=0,this.RESET_SINGLE_ON_UPDATE=1,this.APPEND_ON_UPDATE=2,this.DEFAULT_LEGEND_MARGIN=10,this.root=null,this.tooltip=null,this._maxDomainReached=!1,this._minDomainReached=!1,this.domainPosition=new DomainPosition,this.Legend=null,this.legendScale=null,this.DSTDomain=[],this._init=function(){return r.getDomain(r.options.start).map(function(t){return t.getTime()}).map(function(t){r._domains.set(t,r.getSubDomain(t).map(function(t){return{t:r._domainType[r.options.subDomain].extractUnit(t),v:null}}))}),r.root=d3.select(r.options.itemSelector).append("svg").attr("class","cal-heatmap-container"),r.tooltip=d3.select(r.options.itemSelector).attr("style",function(){var t=d3.select(r.options.itemSelector).attr("style");return(null!==t?t:"")+"position:relative;"}).append("div").attr("class","ch-tooltip"),r.root.attr("x",0).attr("y",0).append("svg").attr("class","graph"),r.Legend=new Legend(r),r.options.paintOnLoad&&t(),!0},this.paint=function(t){function o(e,n,o,i){var a=0;switch(t){case!1:return a=n[o],n[o]+=i,r.domainPosition.setPosition(e,a),a;case r.NAVIGATE_RIGHT:return r.domainPosition.setPosition(e,n[o]),l=i,u=r.domainPosition.getPositionFromIndex(1),r.domainPosition.shiftRightBy(u),n[o];case r.NAVIGATE_LEFT:return a=-i,l=-a,u=n[o]-r.domainPosition.getLast(),r.domainPosition.setPosition(e,a),r.domainPosition.shiftLeftBy(l),a}}function i(t){switch(a.label.rotate){case"right":t.attr("transform",function(t){var n="rotate(90), ";switch(a.label.position){case"right":n+="translate(-"+e(t)+" , -"+e(t)+")";break;case"left":n+="translate(0, -"+r.domainHorizontalLabelWidth+")"}return n});break;case"left":t.attr("transform",function(t){var n="rotate(270), ";switch(a.label.position){case"right":n+="translate(-"+(e(t)+r.domainHorizontalLabelWidth)+" , "+e(t)+")";break;case"left":n+="translate(-"+r.domainHorizontalLabelWidth+" , "+r.domainHorizontalLabelWidth+")"}return n})}}var a=r.options;0===arguments.length&&(t=!1);var s=r.root.select(".graph").selectAll(".graph-domain").data(function(){var e=r.getDomainKeys();return t===r.NAVIGATE_LEFT?e.reverse():e},function(t){return t}),l=0,u=0,c=s.enter().append("svg").attr("width",function(t){return e(t,!0)}).attr("height",function(t){return n(t,!0)}).attr("x",function(t){return a.verticalOrientation?(r.graphDim.width=Math.max(r.graphDim.width,e(t,!0)),0):o(t,r.graphDim,"width",e(t,!0))}).attr("y",function(t){return a.verticalOrientation?o(t,r.graphDim,"height",n(t,!0)):(r.graphDim.height=Math.max(r.graphDim.height,n(t,!0)),0)}).attr("class",function(t){var e="graph-domain",n=new Date(t);switch(a.domain){case"hour":e+=" h_"+n.getHours();case"day":e+=" d_"+n.getDate()+" dy_"+n.getDay();case"week":e+=" w_"+r.getWeekNumber(n);case"month":e+=" m_"+(n.getMonth()+1);case"year":e+=" y_"+n.getFullYear()}return e});r.lastInsertedSvg=c,c.append("rect").attr("width",function(t){return e(t,!0)-a.domainGutter-a.cellPadding}).attr("height",function(t){return n(t,!0)-a.domainGutter-a.cellPadding}).attr("class","domain-background");var f=c.append("svg").attr("x",function(){return"left"===a.label.position?r.domainHorizontalLabelWidth+a.domainMargin[3]:a.domainMargin[3]}).attr("y",function(){return"top"===a.label.position?r.domainVerticalLabelHeight+a.domainMargin[0]:a.domainMargin[0]}).attr("class","graph-subdomain-group"),d=f.selectAll("g").data(function(t){return r._domains.get(t)}).enter().append("g");d.append("rect").attr("class",function(t){return"graph-rect"+r.getHighlightClassName(t.t)+(null!==a.onClick?" hover_cursor":"")}).attr("width",a.cellSize).attr("height",a.cellSize).attr("x",function(t){return r.positionSubDomainX(t.t)}).attr("y",function(t){return r.positionSubDomainY(t.t)}).on("click",function(t){return null!==a.onClick?r.onClick(new Date(t.t),t.v):void 0}).call(function(t){a.cellRadius>0&&t.attr("rx",a.cellRadius).attr("ry",a.cellRadius),null!==r.legendScale&&null!==a.legendColors&&a.legendColors.hasOwnProperty("base")&&t.attr("fill",a.legendColors.base),a.tooltip&&(t.on("mouseover",function(t){var e=this.parentNode.parentNode;r.tooltip.html(r.getSubDomainTitle(t)).attr("style","display: block;");var n=r.positionSubDomainX(t.t)-r.tooltip[0][0].offsetWidth/2+a.cellSize/2,o=r.positionSubDomainY(t.t)-r.tooltip[0][0].offsetHeight-a.cellSize/2;n+=parseInt(e.getAttribute("x"),10),o+=parseInt(e.getAttribute("y"),10),n+=parseInt(r.root.select(".graph").attr("x"),10),o+=parseInt(r.root.select(".graph").attr("y"),10),n+=parseInt(e.parentNode.getAttribute("x"),10),o+=parseInt(e.parentNode.getAttribute("y"),10),r.tooltip.attr("style","display: block; left: "+n+"px; top: "+o+"px;")}),t.on("mouseout",function(){r.tooltip.attr("style","display:none").html("")}))}),a.tooltip||d.append("title").text(function(t){return r.formatDate(new Date(t.t),a.subDomainDateFormat)}),""!==a.domainLabelFormat&&c.append("text").attr("class","graph-label").attr("y",function(t){var e=a.domainMargin[0];switch(a.label.position){case"top":e+=r.domainVerticalLabelHeight/2;break;case"bottom":e+=n(t)+r.domainVerticalLabelHeight/2}return e+a.label.offset.y*("right"===a.label.rotate&&"right"===a.label.position||"left"===a.label.rotate&&"left"===a.label.position?-1:1)}).attr("x",function(t){var n=a.domainMargin[3];switch(a.label.position){case"right":n+=e(t);break;case"bottom":case"top":n+=e(t)/2}return"right"===a.label.align?n+r.domainHorizontalLabelWidth-a.label.offset.x*("right"===a.label.rotate?-1:1):n+a.label.offset.x}).attr("text-anchor",function(){switch(a.label.align){case"start":case"left":return"start";case"end":case"right":return"end";default:return"middle"}}).attr("dominant-baseline",function(){return r.verticalDomainLabel?"middle":"top"}).text(function(t){return r.formatDate(new Date(t),a.domainLabelFormat)}).call(i),null!==a.subDomainTextFormat&&d.append("text").attr("class",function(t){return"subdomain-text"+r.getHighlightClassName(t.t)}).attr("x",function(t){return r.positionSubDomainX(t.t)+a.cellSize/2}).attr("y",function(t){return r.positionSubDomainY(t.t)+a.cellSize/2}).attr("text-anchor","middle").attr("dominant-baseline","central").text(function(t){return r.formatDate(new Date(t.t),a.subDomainTextFormat)}),!1!==t&&s.transition().duration(a.animationDuration).attr("x",function(t){return a.verticalOrientation?0:r.domainPosition.getPosition(t)}).attr("y",function(t){return a.verticalOrientation?r.domainPosition.getPosition(t):0});var h=r.graphDim.width,p=r.graphDim.height;a.verticalOrientation?r.graphDim.height+=l-u:r.graphDim.width+=l-u,s.exit().transition().duration(a.animationDuration).attr("x",function(n){if(a.verticalOrientation)return 0;switch(t){case r.NAVIGATE_LEFT:return Math.min(r.graphDim.width,h);case r.NAVIGATE_RIGHT:return-e(n,!0)}}).attr("y",function(e){if(!a.verticalOrientation)return 0;switch(t){case r.NAVIGATE_LEFT:return Math.min(r.graphDim.height,p);case r.NAVIGATE_RIGHT:return-n(e,!0)}}).remove(),r.resize()}};CalHeatMap.prototype={init:function(t){"use strict";function e(t,e,n){if((e&&!1===t||t instanceof Element||"string"==typeof t)&&""!==t)return!0;throw new Error("The "+n+" is not valid")}function n(t){switch(t){case"year":return"month";case"month":case"week":return"day";case"day":return"hour";default:return"min"}}function r(){if(!c._domainType.hasOwnProperty(f.domain)||"min"===f.domain||"x_"===f.domain.substring(0,2))throw new Error("The domain '"+f.domain+"' is not valid");if(!c._domainType.hasOwnProperty(f.subDomain)||"year"===f.subDomain)throw new Error("The subDomain '"+f.subDomain+"' is not valid");if(c._domainType[f.domain].level<=c._domainType[f.subDomain].level)throw new Error("'"+f.subDomain+"' is not a valid subDomain to '"+f.domain+"'");return!0}function o(){if(!t.hasOwnProperty("label")||t.hasOwnProperty("label")&&!t.label.hasOwnProperty("align")){switch(f.label.position){case"left":f.label.align="right";break;case"right":f.label.align="left";break;default:f.label.align="center"}"left"===f.label.rotate?f.label.align="right":"right"===f.label.rotate&&(f.label.align="left")}(!t.hasOwnProperty("label")||t.hasOwnProperty("label")&&!t.label.hasOwnProperty("offset"))&&("left"===f.label.position||"right"===f.label.position)&&(f.label.offset={x:10,y:15})}function i(){switch(f.legendVerticalPosition){case"top":f.legendMargin[2]=c.DEFAULT_LEGEND_MARGIN;break;case"bottom":f.legendMargin[0]=c.DEFAULT_LEGEND_MARGIN;break;case"middle":case"center":f.legendMargin["right"===f.legendHorizontalPosition?3:1]=c.DEFAULT_LEGEND_MARGIN}}function a(t){switch("number"==typeof t&&(t=[t]),Array.isArray(t)||(console.log("Margin only takes an integer or an array of integers"),t=[0]),t.length){case 1:return[t[0],t[0],t[0],t[0]];case 2:return[t[0],t[1],t[0],t[1]];case 3:return[t[0],t[1],t[2],t[1]];case 4:return t;default:return t.slice(0,4)}}function s(t){return"string"==typeof t?[t,t+(""!==t?"s":"")]:Array.isArray(t)?1===t.length?[t[0],t[0]+"s"]:t.length>2?t.slice(0,2):t:["item","items"]}function l(t){return t>0?t:null}function u(t){return t>0&&f.colLimit>0?(console.log("colLimit and rowLimit are mutually exclusive, rowLimit will be ignored"),null):t>0?t:null}var c=this,f=c.options=mergeRecursive(c.options,t);if(r(),e(f.itemSelector,!1,"itemSelector"),-1===c.allowedDataType.indexOf(f.dataType))throw new Error("The data type '"+f.dataType+"' is not valid data type");if(null===d3.select(f.itemSelector)[0][0])throw new Error("The node '"+f.itemSelector+"' specified in itemSelector does not exists");try{e(f.nextSelector,!0,"nextSelector"),e(f.previousSelector,!0,"previousSelector")}catch(t){return console.log(t.message),!1}t.hasOwnProperty("subDomain")||(this.options.subDomain=n(t.domain)),("string"!=typeof f.itemNamespace||""===f.itemNamespace)&&(console.log("itemNamespace can not be empty, falling back to cal-heatmap"),f.itemNamespace="cal-heatmap");var d=["data","onComplete","onClick","afterLoad","afterLoadData","afterLoadPreviousDomain","afterLoadNextDomain"];for(var h in d)t.hasOwnProperty(d[h])&&(f[d[h]]=t[d[h]]);return f.subDomainDateFormat="string"==typeof f.subDomainDateFormat||"function"==typeof f.subDomainDateFormat?f.subDomainDateFormat:this._domainType[f.subDomain].format.date,f.domainLabelFormat="string"==typeof f.domainLabelFormat||"function"==typeof f.domainLabelFormat?f.domainLabelFormat:this._domainType[f.domain].format.legend,f.subDomainTextFormat="string"==typeof f.subDomainTextFormat&&""!==f.subDomainTextFormat||"function"==typeof f.subDomainTextFormat?f.subDomainTextFormat:null,f.domainMargin=a(f.domainMargin),f.legendMargin=a(f.legendMargin),f.highlight=c.expandDateSetting(f.highlight),f.itemName=s(f.itemName),f.colLimit=l(f.colLimit),f.rowLimit=u(f.rowLimit),t.hasOwnProperty("legendMargin")||i(),o(),this._init()},expandDateSetting:function(t){"use strict";return Array.isArray(t)||(t=[t]),t.map(function(t){return"now"===t?new Date:t instanceof Date&&t}).filter(function(t){return!1!==t})},fill:function(t){"use strict";function e(t){return null!==r.legendScale&&void t.attr("fill",function(t){return 0===t.v&&null!==o.legendColors&&o.legendColors.hasOwnProperty("empty")?o.legendColors.empty:t.v<0&&o.legend[0]>0&&null!==o.legendColors&&o.legendColors.hasOwnProperty("overflow")?o.legendColors.overflow:r.legendScale(Math.min(t.v,o.legend[o.legend.length-1]))})}function n(t){"function"==typeof o.subDomainTextFormat&&t.text(function(t){return o.subDomainTextFormat(t.t,t.v)})}var r=this,o=r.options;0===arguments.length&&(t=r.root.selectAll(".graph-domain"));var i=t.selectAll("svg").selectAll("g").data(function(t){return r._domains.get(t)});i.transition().duration(o.animationDuration).select("rect").attr("class",function(t){var e=r.getHighlightClassName(t.t).trim().split(" "),n=r.dateIsLessThan(t.t,new Date);return null===r.legendScale&&e.push("graph-rect"),n||-1!==e.indexOf("now")||e.push("future"),null!==t.v?e.push(r.Legend.getClass(t.v,null===r.legendScale)):o.considerMissingDataAsZero&&n&&e.push(r.Legend.getClass(0,null===r.legendScale)),null!==o.onClick&&e.push("hover_cursor"),e.join(" ")}).call(e),i.transition().duration(o.animationDuration).select("title").text(function(t){return r.getSubDomainTitle(t)}),i.transition().duration(o.animationDuration).select("text").attr("class",function(t){return"subdomain-text"+r.getHighlightClassName(t.t)}).call(n)},triggerEvent:function(t,e,n){"use strict";return!!(3===arguments.length&&n||null===this.options[t])||("function"==typeof this.options[t]?("function"==typeof e&&(e=e()),this.options[t].apply(this,e)):(console.log("Provided callback for "+t+" is not a function."),!1))},onClick:function(t,e){"use strict";return this.triggerEvent("onClick",[t,e])},afterLoad:function(){"use strict";return this.triggerEvent("afterLoad")},onComplete:function(){"use strict";var t=this.triggerEvent("onComplete",[],this._completed);return this._completed=!0,t},afterLoadPreviousDomain:function(t){"use strict";var e=this;return this.triggerEvent("afterLoadPreviousDomain",function(){var n=e.getSubDomain(t);return[n.shift(),n.pop()]})},afterLoadNextDomain:function(t){"use strict";var e=this;return this.triggerEvent("afterLoadNextDomain",function(){var n=e.getSubDomain(t);return[n.shift(),n.pop()]})},onMinDomainReached:function(t){"use strict";return this._minDomainReached=t,this.triggerEvent("onMinDomainReached",[t])},onMaxDomainReached:function(t){"use strict";return this._maxDomainReached=t,this.triggerEvent("onMaxDomainReached",[t])},checkIfMinDomainIsReached:function(t,e){"use strict";this.minDomainIsReached(t)&&this.onMinDomainReached(!0),2===arguments.length&&this._maxDomainReached&&!this.maxDomainIsReached(e)&&this.onMaxDomainReached(!1)},checkIfMaxDomainIsReached:function(t,e){"use strict";this.maxDomainIsReached(t)&&this.onMaxDomainReached(!0),2===arguments.length&&this._minDomainReached&&!this.minDomainIsReached(e)&&this.onMinDomainReached(!1)},formatNumber:d3.format(",g"),formatDate:function(t,e){"use strict";return arguments.length<2&&(e="title"),"function"==typeof e?e(t):d3.time.format(e)(t)},getSubDomainTitle:function(t){"use strict";if(null!==t.v||this.options.considerMissingDataAsZero){var e=t.v;return null===e&&this.options.considerMissingDataAsZero&&(e=0),this.options.subDomainTitleFormat.filled.format({count:this.formatNumber(e),name:this.options.itemName[1!==e?1:0],connector:this._domainType[this.options.subDomain].format.connector,date:this.formatDate(new Date(t.t),this.options.subDomainDateFormat)})}return this.options.subDomainTitleFormat.empty.format({date:this.formatDate(new Date(t.t),this.options.subDomainDateFormat)})},loadNextDomain:function(t){"use strict";if(this._maxDomainReached||0===t)return!1;var e=this.loadNewDomains(this.NAVIGATE_RIGHT,this.getDomain(this.getNextDomain(),t));return this.afterLoadNextDomain(e.end),this.checkIfMaxDomainIsReached(this.getNextDomain().getTime(),e.start),!0},loadPreviousDomain:function(t){"use strict";if(this._minDomainReached||0===t)return!1;var e=this.loadNewDomains(this.NAVIGATE_LEFT,this.getDomain(this.getDomainKeys()[0],-t).reverse());return this.afterLoadPreviousDomain(e.start),this.checkIfMinDomainIsReached(e.start,e.end),!0},loadNewDomains:function(t,e){"use strict"
;function n(t){return{t:r._domainType[r.options.subDomain].extractUnit(t),v:null}}for(var r=this,o=t===this.NAVIGATE_LEFT,i=-1,a=e.length,s=this.getDomainKeys();++i<a;){if(o&&this.minDomainIsReached(e[i])){e=e.slice(0,i+1);break}if(!o&&this.maxDomainIsReached(e[i])){e=e.slice(0,i);break}}for(e=e.slice(-this.options.range),i=0,a=e.length;a>i;i++)this._domains.set(e[i].getTime(),this.getSubDomain(e[i]).map(n)),this._domains.remove(o?s.pop():s.shift());return s=this.getDomainKeys(),o&&(e=e.reverse()),this.paint(t),this.getDatas(this.options.data,e[0],this.getSubDomain(e[e.length-1]).pop(),function(){r.fill(r.lastInsertedSvg)}),{start:e[o?0:1],end:s[s.length-1]}},maxDomainIsReached:function(t){"use strict";return null!==this.options.maxDate&&this.options.maxDate.getTime()<t},minDomainIsReached:function(t){"use strict";return null!==this.options.minDate&&this.options.minDate.getTime()>=t},getDomainKeys:function(){"use strict";return this._domains.keys().map(function(t){return parseInt(t,10)}).sort(function(t,e){return t-e})},positionSubDomainX:function(t){"use strict";var e=this._domainType[this.options.subDomain].position.x(new Date(t));return e*this.options.cellSize+e*this.options.cellPadding},positionSubDomainY:function(t){"use strict";var e=this._domainType[this.options.subDomain].position.y(new Date(t));return e*this.options.cellSize+e*this.options.cellPadding},getSubDomainColumnNumber:function(t){"use strict";if(this.options.rowLimit>0){var e=this._domainType[this.options.subDomain].maxItemNumber;return"function"==typeof e&&(e=e(t)),Math.ceil(e/this.options.rowLimit)}var n=this._domainType[this.options.subDomain].defaultColumnNumber;return"function"==typeof n&&(n=n(t)),this.options.colLimit||n},getSubDomainRowNumber:function(t){"use strict";if(this.options.colLimit>0){var e=this._domainType[this.options.subDomain].maxItemNumber;return"function"==typeof e&&(e=e(t)),Math.ceil(e/this.options.colLimit)}var n=this._domainType[this.options.subDomain].defaultRowNumber;return"function"==typeof n&&(n=n(t)),this.options.rowLimit||n},getHighlightClassName:function(t){"use strict";if(t=new Date(t),this.options.highlight.length>0)for(var e in this.options.highlight)if(this.options.highlight[e]instanceof Date&&this.dateIsEqual(this.options.highlight[e],t))return" highlight"+(this.isNow(this.options.highlight[e])?" now":"");return""},isNow:function(t){"use strict";return this.dateIsEqual(t,new Date)},dateIsEqual:function(t,e){"use strict";switch(this.options.subDomain){case"x_min":case"min":return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()&&t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes();case"x_hour":case"hour":return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()&&t.getHours()===e.getHours();case"x_day":case"day":return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate();case"x_week":case"week":return t.getFullYear()===e.getFullYear()&&this.getWeekNumber(t)===this.getWeekNumber(e);case"x_month":case"month":return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth();default:return!1}},dateIsLessThan:function(t,e){"use strict";function n(t,e){switch(e){case"x_min":case"min":return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()).getTime();case"x_hour":case"hour":return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()).getTime();case"x_day":case"day":return new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime();case"x_week":case"week":case"x_month":case"month":return new Date(t.getFullYear(),t.getMonth()).getTime();default:return t.getTime()}}return t instanceof Date||(t=new Date(t)),e instanceof Date||(e=new Date(e)),n(t,this.options.subDomain)<n(e,this.options.subDomain)},getDayOfYear:d3.time.format("%j"),getWeekNumber:function(t){"use strict";return d3.time.format(!0===this.options.weekStartOnMonday?"%W":"%U")(t)},getMonthWeekNumber:function(t){"use strict";"number"==typeof t&&(t=new Date(t));var e=this.getWeekNumber(new Date(t.getFullYear(),t.getMonth()));return this.getWeekNumber(t)-e-1},getWeekNumberInYear:function(t){"use strict";"number"==typeof t&&(t=new Date(t))},getDayCountInMonth:function(t){"use strict";return this.getEndOfMonth(t).getDate()},getDayCountInYear:function(t){"use strict";return"number"==typeof t&&(t=new Date(t)),1===new Date(t.getFullYear(),1,29).getMonth()?366:365},getWeekDay:function(t){"use strict";return!1===this.options.weekStartOnMonday?t.getDay():0===t.getDay()?6:t.getDay()-1},getEndOfMonth:function(t){"use strict";return"number"==typeof t&&(t=new Date(t)),new Date(t.getFullYear(),t.getMonth()+1,0)},jumpDate:function(t,e,n){"use strict";var r=new Date(t);switch(n){case"hour":r.setHours(r.getHours()+e);break;case"day":r.setHours(r.getHours()+24*e);break;case"week":r.setHours(r.getHours()+24*e*7);break;case"month":r.setMonth(r.getMonth()+e);break;case"year":r.setFullYear(r.getFullYear()+e)}return new Date(r)},getMinuteDomain:function(t,e){"use strict";var n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()),r=null;return r=e instanceof Date?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()):new Date(+n+1e3*e*60),d3.time.minutes(Math.min(n,r),Math.max(n,r))},getHourDomain:function(t,e){"use strict";var n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours()),r=null;e instanceof Date?r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()):(r=new Date(n),r.setHours(r.getHours()+e));var o=d3.time.hours(Math.min(n,r),Math.max(n,r)),i=0,a=o.length;for(i=0;a>i;i++)if(i>0&&o[i].getHours()===o[i-1].getHours()){this.DSTDomain.push(o[i].getTime()),o.splice(i,1);break}return"number"==typeof e&&o.length>Math.abs(e)&&o.splice(o.length-1,1),o},getDayDomain:function(t,e){"use strict";var n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=null;return e instanceof Date?r=new Date(e.getFullYear(),e.getMonth(),e.getDate()):(r=new Date(n),r=new Date(r.setDate(r.getDate()+parseInt(e,10)))),d3.time.days(Math.min(n,r),Math.max(n,r))},getWeekDomain:function(t,e){"use strict";var n;!1===this.options.weekStartOnMonday?n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()):1===t.getDay()?n=new Date(t.getFullYear(),t.getMonth(),t.getDate()):0===t.getDay()?(n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n.setDate(n.getDate()-6)):n=new Date(t.getFullYear(),t.getMonth(),t.getDate()-t.getDay()+1);var r=new Date(n),o=e;return"object"!=typeof e&&(o=new Date(r.setDate(r.getDate()+7*e))),!0===this.options.weekStartOnMonday?d3.time.mondays(Math.min(n,o),Math.max(n,o)):d3.time.sundays(Math.min(n,o),Math.max(n,o))},getMonthDomain:function(t,e){"use strict";var n=new Date(t.getFullYear(),t.getMonth()),r=null;return e instanceof Date?r=new Date(e.getFullYear(),e.getMonth()):(r=new Date(n),r=r.setMonth(r.getMonth()+e)),d3.time.months(Math.min(n,r),Math.max(n,r))},getYearDomain:function(t,e){"use strict";var n=new Date(t.getFullYear(),0),r=null;return r=e instanceof Date?new Date(e.getFullYear(),0):new Date(t.getFullYear()+e,0),d3.time.years(Math.min(n,r),Math.max(n,r))},getDomain:function(t,e){"use strict";switch("number"==typeof t&&(t=new Date(t)),arguments.length<2&&(e=this.options.range),this.options.domain){case"hour":var n=this.getHourDomain(t,e);return"number"==typeof e&&n.length<e&&(e>0?n.push(this.getHourDomain(n[n.length-1],2)[1]):n.shift(this.getHourDomain(n[0],-2)[0])),n;case"day":return this.getDayDomain(t,e);case"week":return this.getWeekDomain(t,e);case"month":return this.getMonthDomain(t,e);case"year":return this.getYearDomain(t,e)}},getSubDomain:function(t){"use strict";"number"==typeof t&&(t=new Date(t));var e=this,n=function(t,n){switch(n){case"year":return e.getDayCountInYear(t);case"month":return e.getDayCountInMonth(t);case"week":return 7}},r=function(t,e){switch(e){case"hour":return 60;case"day":return 1440;case"week":return 10080}},o=function(t,n){switch(n){case"day":return 24;case"week":return 168;case"month":return 24*e.getDayCountInMonth(t)}},i=function(t,n){if("month"===n){var r=new Date(t.getFullYear(),t.getMonth()+1,0),o=e.getWeekNumber(r),i=e.getWeekNumber(new Date(t.getFullYear(),t.getMonth()));return i>o&&(i=0,o++),o-i+1}return"year"===n?e.getWeekNumber(new Date(t.getFullYear(),11,31)):void 0};switch(this.options.subDomain){case"x_min":case"min":return this.getMinuteDomain(t,r(t,this.options.domain));case"x_hour":case"hour":return this.getHourDomain(t,o(t,this.options.domain));case"x_day":case"day":return this.getDayDomain(t,n(t,this.options.domain));case"x_week":case"week":return this.getWeekDomain(t,i(t,this.options.domain));case"x_month":case"month":return this.getMonthDomain(t,12)}},getNextDomain:function(t){"use strict";return 0===arguments.length&&(t=1),this.getDomain(this.jumpDate(this.getDomainKeys().pop(),t,this.options.domain),1)[0]},getPreviousDomain:function(t){"use strict";return 0===arguments.length&&(t=1),this.getDomain(this.jumpDate(this.getDomainKeys().shift(),-t,this.options.domain),1)[0]},getDatas:function(t,e,n,r,o,i){"use strict";var a=this;arguments.length<5&&(o=!0),arguments.length<6&&(i=this.APPEND_ON_UPDATE);var s=function(t){!1!==o?"function"==typeof o?t=o(t):"function"==typeof a.options.afterLoadData?t=a.options.afterLoadData(t):console.log("Provided callback for afterLoadData is not a function."):("csv"===a.options.dataType||"tsv"===a.options.dataType)&&(t=this.interpretCSV(t)),a.parseDatas(t,i,e,n),"function"==typeof r&&r()};switch(typeof t){case"string":if(""===t)return s({}),!0;switch(this.options.dataType){case"json":d3.json(this.parseURI(t,e,n),s);break;case"csv":d3.csv(this.parseURI(t,e,n),s);break;case"tsv":d3.tsv(this.parseURI(t,e,n),s);break;case"txt":d3.text(this.parseURI(t,e,n),"text/plain",s)}return!1;case"object":if(t===Object(t))return s(t),!1;default:return s({}),!0}},parseDatas:function(t,e,n,r){"use strict";e===this.RESET_ALL_ON_UPDATE&&this._domains.forEach(function(t,e){e.forEach(function(t,e,n){n[e].v=null})});var o={},i=function(t){return t.t};for(var a in t){var s=new Date(1e3*a),l=this.getDomain(s)[0].getTime();if(this.DSTDomain.indexOf(l)>=0&&this._domains.has(l-36e5)&&(l-=36e5),!isNaN(a)&&t.hasOwnProperty(a)&&this._domains.has(l)&&l>=+n&&+r>l){var u=this._domains.get(l);o.hasOwnProperty(l)||(o[l]=u.map(i));var c=o[l].indexOf(this._domainType[this.options.subDomain].extractUnit(s));e===this.RESET_SINGLE_ON_UPDATE?u[c].v=t[a]:isNaN(u[c].v)?u[c].v=t[a]:u[c].v+=t[a]}}},parseURI:function(t,e,n){"use strict";return t=t.replace(/\{\{t:start\}\}/g,e.getTime()/1e3),t=t.replace(/\{\{t:end\}\}/g,n.getTime()/1e3),t=t.replace(/\{\{d:start\}\}/g,e.toISOString()),t=t.replace(/\{\{d:end\}\}/g,n.toISOString())},interpretCSV:function(t){"use strict";var e,n,r={},o=Object.keys(t[0]);for(e=0,n=t.length;n>e;e++)r[t[e][o[0]]]=+t[e][o[1]];return r},resize:function(){"use strict";var t=this,e=t.options,n=e.displayLegend?t.Legend.getDim("width")+e.legendMargin[1]+e.legendMargin[3]:0,r=e.displayLegend?t.Legend.getDim("height")+e.legendMargin[0]+e.legendMargin[2]:0,o=t.graphDim.width-e.domainGutter-e.cellPadding,i=t.graphDim.height-e.domainGutter-e.cellPadding;this.root.transition().duration(e.animationDuration).attr("width",function(){return"middle"===e.legendVerticalPosition||"center"===e.legendVerticalPosition?o+n:Math.max(o,n)}).attr("height",function(){return"middle"===e.legendVerticalPosition||"center"===e.legendVerticalPosition?Math.max(i,r):i+r}),this.root.select(".graph").transition().duration(e.animationDuration).attr("y",function(){return"top"===e.legendVerticalPosition?r:0}).attr("x",function(){return"middle"!==e.legendVerticalPosition&&"center"!==e.legendVerticalPosition||"left"!==e.legendHorizontalPosition?0:n})},next:function(t){"use strict";return 0===arguments.length&&(t=1),this.loadNextDomain(t)},previous:function(t){"use strict";return 0===arguments.length&&(t=1),this.loadPreviousDomain(t)},jumpTo:function(t,e){"use strict";arguments.length<2&&(e=!1);var n=this.getDomainKeys(),r=n[0],o=n[n.length-1];return r>t?this.loadPreviousDomain(this.getDomain(r,t).length):e?this.loadNextDomain(this.getDomain(r,t).length):t>o&&this.loadNextDomain(this.getDomain(o,t).length)},rewind:function(){"use strict";this.jumpTo(this.options.start,!0)},update:function(t,e,n){"use strict";arguments.length<2&&(e=!0),arguments.length<3&&(n=this.RESET_ALL_ON_UPDATE);var r=this.getDomainKeys(),o=this;this.getDatas(t,new Date(r[0]),this.getSubDomain(r[r.length-1]).pop(),function(){o.fill()},e,n)},setLegend:function(){"use strict";var t=this.options.legend.slice(0);arguments.length>=1&&Array.isArray(arguments[0])&&(this.options.legend=arguments[0]),arguments.length>=2&&(this.options.legendColors=Array.isArray(arguments[1])&&arguments[1].length>=2?[arguments[1][0],arguments[1][1]]:arguments[1]),(arguments.length>0&&!arrayEquals(t,this.options.legend)||arguments.length>=2)&&(this.Legend.buildColors(),this.fill()),this.Legend.redraw(this.graphDim.width-this.options.domainGutter-this.options.cellPadding)},removeLegend:function(){"use strict";return!!this.options.displayLegend&&(this.options.displayLegend=!1,this.Legend.remove(),!0)},showLegend:function(){"use strict";return!this.options.displayLegend&&(this.options.displayLegend=!0,this.Legend.redraw(this.graphDim.width-this.options.domainGutter-this.options.cellPadding),!0)},highlight:function(t){"use strict";return(this.options.highlight=this.expandDateSetting(t)).length>0&&(this.fill(),!0)},destroy:function(t){"use strict";return this.root.transition().duration(this.options.animationDuration).attr("width",0).attr("height",0).remove().each("end",function(){"function"==typeof t?t():void 0!==t&&console.log("Provided callback for destroy() is not a function.")}),null},getSVG:function(){"use strict";for(var t={".cal-heatmap-container":{},".graph":{},".graph-rect":{},"rect.highlight":{},"rect.now":{},"text.highlight":{},"text.now":{},".domain-background":{},".graph-label":{},".subdomain-text":{},".q0":{},".qi":{}},e=1,n=this.options.legend.length+1;n>=e;e++)t[".q"+e]={};var r=this.root,o=["stroke","stroke-width","stroke-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-miterlimit","fill","fill-opacity","fill-rule","marker","marker-start","marker-mid","marker-end","alignement-baseline","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","kerning","text-anchor","shape-rendering","text-transform","font-family","font","font-size","font-weight"],i=function(e,n,r){-1!==o.indexOf(n)&&(t[e][n]=r)},a=function(t){return r.select(t)[0][0]};for(var s in t)if(t.hasOwnProperty(s)){var l=a(s);if(null!==l)if("getComputedStyle"in window){var u=getComputedStyle(l,null);if(0!==u.length)for(var c=0;c<u.length;c++)i(s,u.item(c),u.getPropertyValue(u.item(c)));else for(var f in u)u.hasOwnProperty(f)&&i(s,f,u[f])}else if("currentStyle"in l){var d=l.currentStyle;for(var h in d)i(s,h,d[h])}}var p='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><style type="text/css"><![CDATA[ ';for(var g in t){p+=g+" {\n";for(var m in t[g])p+="\t"+m+":"+t[g][m]+";\n";p+="}\n"}return p+="]]></style>",p+=(new XMLSerializer).serializeToString(this.root[0][0]),p+="</svg>"}};var DomainPosition=function(){"use strict";this.positions=d3.map()};DomainPosition.prototype.getPosition=function(t){"use strict";return this.positions.get(t)},DomainPosition.prototype.getPositionFromIndex=function(t){"use strict";var e=this.getKeys();return this.positions.get(e[t])},DomainPosition.prototype.getLast=function(){"use strict";var t=this.getKeys();return this.positions.get(t[t.length-1])},DomainPosition.prototype.setPosition=function(t,e){"use strict";this.positions.set(t,e)},DomainPosition.prototype.shiftRightBy=function(t){"use strict";this.positions.forEach(function(e,n){this.set(e,n-t)});var e=this.getKeys();this.positions.remove(e[0])},DomainPosition.prototype.shiftLeftBy=function(t){"use strict";this.positions.forEach(function(e,n){this.set(e,n+t)});var e=this.getKeys();this.positions.remove(e[e.length-1])},DomainPosition.prototype.getKeys=function(){"use strict";return this.positions.keys().sort(function(t,e){return parseInt(t,10)-parseInt(e,10)})};var Legend=function(t){"use strict";this.calendar=t,this.computeDim(),null!==t.options.legendColors&&this.buildColors()};Legend.prototype.computeDim=function(){"use strict";var t=this.calendar.options;this.dim={width:t.legendCellSize*(t.legend.length+1)+t.legendCellPadding*t.legend.length,height:t.legendCellSize}},Legend.prototype.remove=function(){"use strict";this.calendar.root.select(".graph-legend").remove(),this.calendar.resize()},Legend.prototype.redraw=function(t){"use strict";function e(t){t.attr("width",l.legendCellSize).attr("height",l.legendCellSize).attr("x",function(t,e){return e*(l.legendCellSize+l.legendCellPadding)})}function n(){switch(l.legendHorizontalPosition){case"right":return"center"===l.legendVerticalPosition||"middle"===l.legendVerticalPosition?t+l.legendMargin[3]:t-i.getDim("width")-l.legendMargin[1];case"middle":case"center":return Math.round(t/2-i.getDim("width")/2);default:return l.legendMargin[3]}}function r(){return"bottom"===l.legendVerticalPosition?a.graphDim.height+l.legendMargin[0]-l.domainGutter-l.cellPadding:l.legendMargin[0]}if(!this.calendar.options.displayLegend)return!1;var o,i=this,a=this.calendar,s=a.root,l=a.options;this.computeDim();var u=l.legend.slice(0);u.push(u[u.length-1]+1);var c=a.root.select(".graph-legend");null!==c[0][0]?(s=c,o=s.select("g").selectAll("rect").data(u)):(s="top"===l.legendVerticalPosition?s.insert("svg",".graph"):s.append("svg"),s.attr("x",n()).attr("y",r()),o=s.attr("class","graph-legend").attr("height",i.getDim("height")).attr("width",i.getDim("width")).append("g").selectAll().data(u)),o.enter().append("rect").call(e).attr("class",function(t){return a.Legend.getClass(t,null===a.legendScale)}).attr("fill-opacity",0).call(function(t){null!==a.legendScale&&null!==l.legendColors&&l.legendColors.hasOwnProperty("base")&&t.attr("fill",l.legendColors.base)}).append("title"),o.exit().transition().duration(l.animationDuration).attr("fill-opacity",0).remove(),o.transition().delay(function(t,e){return l.animationDuration*e/10}).call(e).attr("fill-opacity",1).call(function(t){t.attr("fill",function(t,e){return null===a.legendScale?"":a.legendScale(0===e?t-1:l.legend[e-1])}),t.attr("class",function(t){return a.Legend.getClass(t,null===a.legendScale)})}),o.select("title").text(function(t,e){return 0===e?l.legendTitleFormat.lower.format({min:l.legend[e],name:l.itemName[1]}):e===u.length-1?l.legendTitleFormat.upper.format({max:l.legend[e-1],name:l.itemName[1]}):l.legendTitleFormat.inner.format({down:l.legend[e-1],up:l.legend[e],name:l.itemName[1]})}),s.transition().duration(l.animationDuration).attr("x",n()).attr("y",r()).attr("width",i.getDim("width")).attr("height",i.getDim("height")),s.select("g").transition().duration(l.animationDuration).attr("transform",function(){return"vertical"===l.legendOrientation?"rotate(90 "+l.legendCellSize/2+" "+l.legendCellSize/2+")":""}),a.resize()},Legend.prototype.getDim=function(t){"use strict";var e="horizontal"===this.calendar.options.legendOrientation;switch(t){case"width":return this.dim[e?"width":"height"];case"height":return this.dim[e?"height":"width"]}},Legend.prototype.buildColors=function(){"use strict";var t=this.calendar.options;if(null===t.legendColors)return this.calendar.legendScale=null,!1;var e=[];if(Array.isArray(t.legendColors))e=t.legendColors;else{if(!t.legendColors.hasOwnProperty("min")||!t.legendColors.hasOwnProperty("max"))return t.legendColors=null,!1;e=[t.legendColors.min,t.legendColors.max]}var n=t.legend.slice(0);n[0]>0?n.unshift(0):n[0]<0&&n.unshift(n[0]-(n[n.length-1]-n[0])/n.length);var r=d3.scale.linear().range(e).interpolate(d3.interpolateHcl).domain([d3.min(n),d3.max(n)]),o=n.map(function(t){return r(t)});return this.calendar.legendScale=d3.scale.threshold().domain(t.legend).range(o),!0},Legend.prototype.getClass=function(t,e){"use strict";if(null===t||isNaN(t))return"";for(var n=[this.calendar.options.legend.length+1],r=0,o=this.calendar.options.legend.length-1;o>=r;r++){if(this.calendar.options.legend[0]>0&&0>t){n=["1","i"];break}if(t<=this.calendar.options.legend[r]){n=[r+1];break}}return 0===t&&n.push(0),n.unshift(""),(n.join(" r")+(e?n.join(" q"):"")).trim()},String.prototype.format=function(){"use strict";var t=this;for(var e in arguments[0])if(arguments[0].hasOwnProperty(e)){var n=new RegExp("\\{"+e+"\\}","gi");t=t.replace(n,arguments[0][e])}return t},"function"==typeof define&&define.amd?define(["d3"],function(){"use strict";return CalHeatMap}):"object"==typeof module&&module.exports?module.exports=CalHeatMap:window.CalHeatMap=CalHeatMap,function(){var t;t=Backbone.View.extend({el:"body",repliesPerPage:50,windowInActive:!0,events:{"click a.likeable":"likeable","click .header .form-search .btn-search":"openHeaderSearchBox","click .header .form-search .btn-close":"closeHeaderSearchBox","click a.button-block-user":"blockUser","click a.button-follow-user":"followUser","click a.button-block-node":"blockNode","click a.rucaptcha-image-box":"reLoadRucaptchaImage"},initialize:function(){var t;return FormStorage.restore(),this.initForDesktopView(),this.initComponents(),this.initScrollEvent(),this.initInfiniteScroll(),this.initCable(),this.restoreHeaderSearchBox(),"topics"!==(t=$("body").data("controller-name"))&&"replies"!==t||(window._topicView=new TopicView({parentView:this})),window._tocView=new TOCView({parentView:this})},initComponents:function(){return $("abbr.timeago").timeago(),$(".alert").alert(),$(".dropdown-toggle").dropdown(),$('[data-toggle="tooltip"]').tooltip(),$(".cell_comments_new textarea").unbind("keydown"),$(".cell_comments_new textarea").bind("keydown","ctrl+return",function(t){return $(t.target).val().trim().length>0&&$(t.target).parent().parent().submit(),!1}),$(window).off("blur.inactive focus.inactive"),$(window).on("blur.inactive focus.inactive",this.updateWindowActiveState),$("a.likeable[data-count!=0]").tooltipster({content:"Loading...",theme:"tooltipster-shadow",side:"bottom",maxWidth:230,interactive:!0,contentAsHTML:!0,triggerClose:{mouseleave:!0},functionBefore:function(t,e){var n,r,o,i;if(n=$(e.origin),1!==n.data("remote-loaded"))return i=n.data("type"),o=n.data("id"),r={type:i,id:o},$.ajax({url:"/likes",data:r,success:function(e){return 0===e.length?(n.data("remote-loaded",1),t.hide(),t.destroy()):(t.content(e),n.data("remote-loaded",1))}})}})},initForDesktopView:function(){if(!1===App.mobile)return $("a[rel=twipsy]").tooltip(),App.mentionable(".cell_comments_new textarea")},likeable:function(t){var e,n,r,o,i;return App.isLogined()?(n=$(t.currentTarget),o=n.data("type"),r=n.data("id"),i=parseInt(n.data("count")),e=$(".likeable[data-type='"+o+"'][data-id='"+r+"']"),"active"!==e.data("state")?($.ajax({url:"/likes",type:"POST",data:{type:o,id:r}}),i+=1,e.data("count",i),this.likeableAsLiked(e)):($.ajax({url:"/likes/"+r,type:"DELETE",data:{type:o}}),i>0&&(i-=1),e.data("state","").data("count",i).attr("title","").removeClass("active"),0===i?$("span",e).text(""):$("span",e).text(i+" \u4e2a\u8d5e")),e.data("remote-loaded",0),!1):(location.href="/account/sign_in",!1)},likeableAsLiked:function(t){var e;return e=t.data("count"),t.data("state","active").attr("title","\u53d6\u6d88\u8d5e").addClass("active"),$("span",t).text(e+" \u4e2a\u8d5e")},initCable:function(){if(!window.notificationChannel&&App.isLogined())return window.notificationChannel=App.cable.subscriptions.create("NotificationsChannel",{connected:function(){return this.subscribe()},received:function(t){return function(e){return t.receivedNotificationCount(e)}}(this),subscribe:function(){return this.perform("subscribed")}})},receivedNotificationCount:function(t){var e,n,r,o;return r=$(".notification-count span"),e=$(".notification-count a"),n=document.title.replace(/^\(\d+\) /,""),t.count>0?(r.show(),n="("+t.count+") "+n,o=App.fixUrlDash(""+App.root_url+t.content_path),$.notifier.notify("",t.title,t.content,o),e.addClass("new")):(r.hide(),e.removeClass("new")),r.text(t.count),document.title=n},restoreHeaderSearchBox:function(){var t,e,n;return t=$(".header .form-search input"),"/search"!==location.pathname?t.val(""):(n=new RegExp("[?&]q=([^&#]*)").exec(window.location.href),e=n&&decodeURIComponent(n[1]),t.val(e))},openHeaderSearchBox:function(){return $(".header .form-search").addClass("active"),$(".header .form-search input").focus(),!1},closeHeaderSearchBox:function(){return $(".header .form-search input").val(""),$(".header .form-search").removeClass("active"),!1},followUser:function(t){var e,n,r,o;return e=$(t.currentTarget),o=e.data("id"),r=e.find("span"),n=$(".follow-info .followers[data-login="+o+"] .counter"),e.hasClass("active")?$.ajax({url:"/"+o+"/unfollow",type:"POST",success:function(t){if(0===t.code)return e.removeClass("active"),r.text("\u5173\u6ce8"),n.text(t.data.followers_count)}}):$.ajax({url:"/"+o+"/follow",type:"POST",success:function(t){if(0===t.code)return e.addClass("active").attr("title",""),r.text("\u53d6\u6d88\u5173\u6ce8"),n.text(t.data.followers_count)}}),!1},blockUser:function(t){var e,n,r;return e=$(t.currentTarget),r=e.data("id"),n=e.find("span"),e.hasClass("active")?($.post("/"+r+"/unblock"),e.removeClass("active").attr("title","\u5ffd\u7565\u540e\uff0c\u793e\u533a\u9996\u9875\u5217\u8868\u5c06\u4e0d\u4f1a\u663e\u793a\u6b64\u7528\u6237\u53d1\u5e03\u7684\u5185\u5bb9\u3002"),n.text("\u5c4f\u853d")):($.post("/"+r+"/block"),e.addClass("active").attr("title",""),n.text("\u53d6\u6d88\u5c4f\u853d")),!1},blockNode:function(t){var e,n,r;return e=$(t.currentTarget),n=e.data("id"),r=e.find("span"),e.hasClass("active")?($.post("/nodes/"+n+"/unblock"),e.removeClass("active").attr("title","\u5ffd\u7565\u540e\uff0c\u793e\u533a\u9996\u9875\u5217\u8868\u5c06\u4e0d\u4f1a\u663e\u793a\u8fd9\u91cc\u7684\u5185\u5bb9\u3002"),r.text("\u5ffd\u7565\u8282\u70b9")):($.post("/nodes/"+n+"/block"),e.addClass("active").attr("title",""),r.text("\u53d6\u6d88\u5c4f\u853d")),!1},reLoadRucaptchaImage:function(t){var e,n,r;return e=$(t.currentTarget),r=e.find("img:first"),n=r.attr("src"),r.attr("src",n.split("?")[0]+"?"+(new Date).getTime()),!1},updateWindowActiveState:function(t){if($(this).data("prevType")!==t.type)switch(t.type){case"blur":this.windowInActive=!1;break;case"focus":this.windowInActive=!0}return $(this).data("prevType",t.type)},initInfiniteScroll:function(){return $(".infinite-scroll .item-list").infinitescroll({nextSelector:".pagination .next a",navSelector:".pagination",itemSelector:".topic, .notification-group",extraScrollPx:200,bufferPx:50,localMode:!0,loading:{finishedMsg:'<div style="text-align: center; padding: 5px;">\u5df2\u5230\u672b\u5c3e</div>',msgText:'<div style="text-align: center; padding: 5px;">\u8f7d\u5165\u4e2d...</div>',img:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}})},initScrollEvent:function(){return $(window).off("scroll.navbar-fixed"),$(window).on("scroll.navbar-fixed",this.toggleNavbarFixed),this.toggleNavbarFixed()},toggleNavbarFixed:function(){var t;if(t=$(window).scrollTop(),t>=50?$(".header .navbar").addClass("navbar-fixed-active"):$(".header .navbar").removeClass("navbar-fixed-active"),0!==$(".navbar-topic-title").size())return t>=50?$(".header .navbar").addClass("fixed-title"):$(".header .navbar").removeClass("fixed-title")}}),window.App={turbolinks:!1,mobile:!1,locale:"zh-CN",notifier:null,current_user_id:null,access_token:"",asset_url:"",twemoji_url:"https://twemoji.maxcdn.com/",root_url:"",cable:ActionCable.createConsumer(),isLogined:function(){return document.getElementsByName("current-user").length>0},loading:function(){return console.log("loading...")},fixUrlDash:function(t){return t.replace(/\/\//g,"/").replace(/:\//,"://")},alert:function(t,e){return $(".alert").remove(),$(e).before("<div class='alert alert-warning'><a class='close' href='#' data-dismiss='alert'><i class='fa fa-close'></i></a>"+t+"</div>")},notice:function(t,e){return $(".alert").remove(),$(e).before("<div class='alert alert-success'><a class='close' data-dismiss='alert' href='#'><i class='fa fa-close'></i></a>"+t+"</div>")},openUrl:function(t){return window.open(t)},gotoUrl:function(t){return Turbolinks.visit(t)},scanMentionableLogins:function(t){var e,n,r,o,i,a,s;for(s=[],a=[],r=0,i=t.length;r<i;r++)n=t[r],e=$(n),o={login:e.find(".user-name").first().text(),name:e.find(".user-name").first().attr("data-name"),avatar_url:e.find(".avatar img").first().attr("src")},o.login&&o.name&&-1===a.indexOf(o.login)&&(a.push(o.login),s.push(o));return console.log(s),_.uniq(s)},mentionable:function(t,e){return e||(e=[]),$(t).atwho({at:"@",limit:8,searchKey:"login",callbacks:{filter:function(t,e){return e},sorter:function(t,e){return e},remoteFilter:function(t,n){var r,o;return o=new RegExp("^"+t),r=_.filter(e,function(t){return o.test(t.login)||o.test(t.name)}),$.getJSON("/search/users.json",{q:t},function(t){var e,o,i;for(e=0,o=r.length;e<o;e++)i=r[e],t.unshift(i);return t=_.uniq(t,!1,function(t){return t.login}),t=_.first(t,8),n(t)})}},displayTpl:"<li data-value='${login}'><img src='${avatar_url}' height='20' width='20'/> ${login} <small>${name}</small></li>",insertTpl:"@${login}"}).atwho({at:":",limit:8,searchKey:"code",data:window.EMOJI_LIST,displayTpl:"<li data-value='${code}'><img src='"+App.twemoji_url+"/svg/${url}.svg' class='twemoji' /> ${code} </li>",insertTpl:"${code}"}),!0}},document.addEventListener("turbolinks:load",function(){return window._appView=new t}),document.addEventListener("turbolinks:click",function(t){if("#"===t.target.getAttribute("href").charAt(0))return t.preventDefault()}),FormStorage.init()}.call(this);